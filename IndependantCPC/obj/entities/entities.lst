                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.5 #9498 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module entities
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _cpct_etm_drawTileBox2x4
                             12 	.globl _cpct_getScreenPtr
                             13 	.globl _cpct_drawSpriteMaskedAlignedTable
                             14 	.globl _enemigos
                             15 	.globl _incializarEntities
                             16 	.globl _accion
                             17 	.globl _flipSprite
                             18 	.globl _moverArriba
                             19 	.globl _moverAbajo
                             20 	.globl _moverIzquierda
                             21 	.globl _moverDerecha
                             22 	.globl _updatePlayer
                             23 	.globl _updateEntities
                             24 	.globl _redibujarEntity
                             25 	.globl _borrarEntity
                             26 	.globl _dibujarEntity
                             27 	.globl _drawAll
                             28 ;--------------------------------------------------------
                             29 ; special function registers
                             30 ;--------------------------------------------------------
                             31 ;--------------------------------------------------------
                             32 ; ram data
                             33 ;--------------------------------------------------------
                             34 	.area _DATA
                             35 ;--------------------------------------------------------
                             36 ; ram data
                             37 ;--------------------------------------------------------
                             38 	.area _INITIALIZED
                             39 ;--------------------------------------------------------
                             40 ; absolute external ram data
                             41 ;--------------------------------------------------------
                             42 	.area _DABS (ABS)
                             43 ;--------------------------------------------------------
                             44 ; global & static initialisations
                             45 ;--------------------------------------------------------
                             46 	.area _HOME
                             47 	.area _GSINIT
                             48 	.area _GSFINAL
                             49 	.area _GSINIT
                             50 ;--------------------------------------------------------
                             51 ; Home
                             52 ;--------------------------------------------------------
                             53 	.area _HOME
                             54 	.area _HOME
                             55 ;--------------------------------------------------------
                             56 ; code
                             57 ;--------------------------------------------------------
                             58 	.area _CODE
                             59 ;src/entities/entities.c:14: cpctm_createTransparentMaskTable(g_tablatrans,0x0100,M0,0);
                             60 ;	---------------------------------
                             61 ; Function dummy_cpct_transparentMaskTable0M0_container
                             62 ; ---------------------------------
   0000                      63 _dummy_cpct_transparentMaskTable0M0_container::
                             64 	.area _g_tablatrans_ (ABS) 
   0100                      65 	.org 0x0100 
   0100                      66 	 _g_tablatrans::
   0100 FF AA 55 00 AA AA    67 	.db 0xFF, 0xAA, 0x55, 0x00, 0xAA, 0xAA, 0x00, 0x00 
        00 00
   0108 55 00 55 00 00 00    68 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0110 AA AA 00 00 AA AA    69 	.db 0xAA, 0xAA, 0x00, 0x00, 0xAA, 0xAA, 0x00, 0x00 
        00 00
   0118 00 00 00 00 00 00    70 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0120 55 00 55 00 00 00    71 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0128 55 00 55 00 00 00    72 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0130 00 00 00 00 00 00    73 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0138 00 00 00 00 00 00    74 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0140 AA AA 00 00 AA AA    75 	.db 0xAA, 0xAA, 0x00, 0x00, 0xAA, 0xAA, 0x00, 0x00 
        00 00
   0148 00 00 00 00 00 00    76 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0150 AA AA 00 00 AA AA    77 	.db 0xAA, 0xAA, 0x00, 0x00, 0xAA, 0xAA, 0x00, 0x00 
        00 00
   0158 00 00 00 00 00 00    78 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0160 00 00 00 00 00 00    79 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0168 00 00 00 00 00 00    80 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0170 00 00 00 00 00 00    81 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0178 00 00 00 00 00 00    82 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0180 55 00 55 00 00 00    83 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0188 55 00 55 00 00 00    84 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0190 00 00 00 00 00 00    85 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0198 00 00 00 00 00 00    86 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01A0 55 00 55 00 00 00    87 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01A8 55 00 55 00 00 00    88 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01B0 00 00 00 00 00 00    89 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01B8 00 00 00 00 00 00    90 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01C0 00 00 00 00 00 00    91 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01C8 00 00 00 00 00 00    92 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01D0 00 00 00 00 00 00    93 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01D8 00 00 00 00 00 00    94 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01E0 00 00 00 00 00 00    95 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01E8 00 00 00 00 00 00    96 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01F0 00 00 00 00 00 00    97 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01F8 00 00 00 00 00 00    98 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
                             99 	.area _CSEG (REL, CON) 
                            100 ;src/entities/entities.c:33: void incializarEntities(){
                            101 ;	---------------------------------
                            102 ; Function incializarEntities
                            103 ; ---------------------------------
   0000                     104 _incializarEntities::
                            105 ;src/entities/entities.c:35: }
   0000 C9            [10]  106 	ret
   0001                     107 _enemigos:
   0001 32                  108 	.db #0x32	; 50	'2'
   0002 9D                  109 	.db #0x9D	; 157
   0003 14                  110 	.db #0x14	; 20
   0004 9D                  111 	.db #0x9D	; 157
   0005 01                  112 	.db #0x01	; 1
   0006r00r00               113 	.dw _g_naves_0
   0008 00                  114 	.db #0x00	; 0
   0009 14                  115 	.db #0x14	; 20
   000A 32                  116 	.db #0x32	; 50	'2'
   000B 14                  117 	.db #0x14	; 20
   000C 32                  118 	.db #0x32	; 50	'2'
   000D 01                  119 	.db #0x01	; 1
   000Er00r00               120 	.dw _g_naves_0
   0010 00                  121 	.db #0x00	; 0
                            122 ;src/entities/entities.c:39: void accion(TEntity* ent, TPlayerStatus action, TPlayerDirection dir){
                            123 ;	---------------------------------
                            124 ; Function accion
                            125 ; ---------------------------------
   0011                     126 _accion::
   0011 DD E5         [15]  127 	push	ix
   0013 DD 21 00 00   [14]  128 	ld	ix,#0
   0017 DD 39         [15]  129 	add	ix,sp
                            130 ;src/entities/entities.c:40: switch(action){
   0019 DD 7E 06      [19]  131 	ld	a,6 (ix)
   001C 3D            [ 4]  132 	dec	a
   001D C2rB1r00      [10]  133 	jp	NZ,00108$
                            134 ;src/entities/entities.c:42: switch(dir){
   0020 3E 03         [ 7]  135 	ld	a,#0x03
   0022 DD 96 07      [19]  136 	sub	a, 7 (ix)
   0025 DArB1r00      [10]  137 	jp	C,00108$
   0028 DD 5E 07      [19]  138 	ld	e,7 (ix)
   002B 16 00         [ 7]  139 	ld	d,#0x00
   002D 21r33r00      [10]  140 	ld	hl,#00120$
   0030 19            [11]  141 	add	hl,de
   0031 19            [11]  142 	add	hl,de
                            143 ;src/entities/entities.c:43: case d_up:
   0032 E9            [ 4]  144 	jp	(hl)
   0033                     145 00120$:
   0033 18 06         [12]  146 	jr	00102$
   0035 18 22         [12]  147 	jr	00103$
   0037 18 5C         [12]  148 	jr	00105$
   0039 18 3C         [12]  149 	jr	00104$
   003B                     150 00102$:
                            151 ;src/entities/entities.c:44: moverArriba(ent);
   003B DD 6E 04      [19]  152 	ld	l,4 (ix)
   003E DD 66 05      [19]  153 	ld	h,5 (ix)
   0041 E5            [11]  154 	push	hl
   0042 CDr1Fr01      [17]  155 	call	_moverArriba
   0045 F1            [10]  156 	pop	af
                            157 ;src/entities/entities.c:45: flipSprite(ent,dir);
   0046 DD 7E 07      [19]  158 	ld	a,7 (ix)
   0049 F5            [11]  159 	push	af
   004A 33            [ 6]  160 	inc	sp
   004B DD 6E 04      [19]  161 	ld	l,4 (ix)
   004E DD 66 05      [19]  162 	ld	h,5 (ix)
   0051 E5            [11]  163 	push	hl
   0052 CDrB4r00      [17]  164 	call	_flipSprite
   0055 F1            [10]  165 	pop	af
   0056 33            [ 6]  166 	inc	sp
                            167 ;src/entities/entities.c:46: break;
   0057 18 58         [12]  168 	jr	00108$
                            169 ;src/entities/entities.c:47: case d_down:
   0059                     170 00103$:
                            171 ;src/entities/entities.c:48: moverAbajo(ent);
   0059 DD 6E 04      [19]  172 	ld	l,4 (ix)
   005C DD 66 05      [19]  173 	ld	h,5 (ix)
   005F E5            [11]  174 	push	hl
   0060 CDr49r01      [17]  175 	call	_moverAbajo
   0063 F1            [10]  176 	pop	af
                            177 ;src/entities/entities.c:49: flipSprite(ent,dir);
   0064 DD 7E 07      [19]  178 	ld	a,7 (ix)
   0067 F5            [11]  179 	push	af
   0068 33            [ 6]  180 	inc	sp
   0069 DD 6E 04      [19]  181 	ld	l,4 (ix)
   006C DD 66 05      [19]  182 	ld	h,5 (ix)
   006F E5            [11]  183 	push	hl
   0070 CDrB4r00      [17]  184 	call	_flipSprite
   0073 F1            [10]  185 	pop	af
   0074 33            [ 6]  186 	inc	sp
                            187 ;src/entities/entities.c:50: break;
   0075 18 3A         [12]  188 	jr	00108$
                            189 ;src/entities/entities.c:51: case d_left:
   0077                     190 00104$:
                            191 ;src/entities/entities.c:52: moverIzquierda(ent);
   0077 DD 6E 04      [19]  192 	ld	l,4 (ix)
   007A DD 66 05      [19]  193 	ld	h,5 (ix)
   007D E5            [11]  194 	push	hl
   007E CDr90r01      [17]  195 	call	_moverIzquierda
   0081 F1            [10]  196 	pop	af
                            197 ;src/entities/entities.c:53: flipSprite(ent,dir);
   0082 DD 7E 07      [19]  198 	ld	a,7 (ix)
   0085 F5            [11]  199 	push	af
   0086 33            [ 6]  200 	inc	sp
   0087 DD 6E 04      [19]  201 	ld	l,4 (ix)
   008A DD 66 05      [19]  202 	ld	h,5 (ix)
   008D E5            [11]  203 	push	hl
   008E CDrB4r00      [17]  204 	call	_flipSprite
   0091 F1            [10]  205 	pop	af
   0092 33            [ 6]  206 	inc	sp
                            207 ;src/entities/entities.c:54: break;
   0093 18 1C         [12]  208 	jr	00108$
                            209 ;src/entities/entities.c:55: case d_right:
   0095                     210 00105$:
                            211 ;src/entities/entities.c:56: moverDerecha(ent);
   0095 DD 6E 04      [19]  212 	ld	l,4 (ix)
   0098 DD 66 05      [19]  213 	ld	h,5 (ix)
   009B E5            [11]  214 	push	hl
   009C CDrA1r01      [17]  215 	call	_moverDerecha
   009F F1            [10]  216 	pop	af
                            217 ;src/entities/entities.c:57: flipSprite(ent,dir);
   00A0 DD 7E 07      [19]  218 	ld	a,7 (ix)
   00A3 F5            [11]  219 	push	af
   00A4 33            [ 6]  220 	inc	sp
   00A5 DD 6E 04      [19]  221 	ld	l,4 (ix)
   00A8 DD 66 05      [19]  222 	ld	h,5 (ix)
   00AB E5            [11]  223 	push	hl
   00AC CDrB4r00      [17]  224 	call	_flipSprite
   00AF F1            [10]  225 	pop	af
   00B0 33            [ 6]  226 	inc	sp
                            227 ;src/entities/entities.c:62: }
   00B1                     228 00108$:
   00B1 DD E1         [14]  229 	pop	ix
   00B3 C9            [10]  230 	ret
                            231 ;src/entities/entities.c:66: void flipSprite(TEntity* ent, TPlayerDirection dir){
                            232 ;	---------------------------------
                            233 ; Function flipSprite
                            234 ; ---------------------------------
   00B4                     235 _flipSprite::
   00B4 DD E5         [15]  236 	push	ix
   00B6 DD 21 00 00   [14]  237 	ld	ix,#0
   00BA DD 39         [15]  238 	add	ix,sp
   00BC 3B            [ 6]  239 	dec	sp
                            240 ;src/entities/entities.c:67: if(ent->curr_dir != dir){
   00BD DD 4E 04      [19]  241 	ld	c,4 (ix)
   00C0 DD 46 05      [19]  242 	ld	b,5 (ix)
   00C3 21 07 00      [10]  243 	ld	hl,#0x0007
   00C6 09            [11]  244 	add	hl,bc
   00C7 EB            [ 4]  245 	ex	de,hl
   00C8 1A            [ 7]  246 	ld	a,(de)
   00C9 DD 77 FF      [19]  247 	ld	-1 (ix),a
   00CC DD 7E 06      [19]  248 	ld	a,6 (ix)
   00CF DD 96 FF      [19]  249 	sub	a, -1 (ix)
   00D2 28 47         [12]  250 	jr	Z,00108$
                            251 ;src/entities/entities.c:68: switch(dir){
   00D4 3E 03         [ 7]  252 	ld	a,#0x03
   00D6 DD 96 06      [19]  253 	sub	a, 6 (ix)
   00D9 38 3C         [12]  254 	jr	C,00105$
                            255 ;src/entities/entities.c:70: ent->sprite = g_naves_0;
   00DB 03            [ 6]  256 	inc	bc
   00DC 03            [ 6]  257 	inc	bc
   00DD 03            [ 6]  258 	inc	bc
   00DE 03            [ 6]  259 	inc	bc
   00DF 03            [ 6]  260 	inc	bc
                            261 ;src/entities/entities.c:68: switch(dir){
   00E0 D5            [11]  262 	push	de
   00E1 DD 5E 06      [19]  263 	ld	e,6 (ix)
   00E4 16 00         [ 7]  264 	ld	d,#0x00
   00E6 21rEDr00      [10]  265 	ld	hl,#00119$
   00E9 19            [11]  266 	add	hl,de
   00EA 19            [11]  267 	add	hl,de
                            268 ;src/entities/entities.c:69: case d_up:
   00EB D1            [10]  269 	pop	de
   00EC E9            [ 4]  270 	jp	(hl)
   00ED                     271 00119$:
   00ED 18 06         [12]  272 	jr	00101$
   00EF 18 0D         [12]  273 	jr	00102$
   00F1 18 1D         [12]  274 	jr	00104$
   00F3 18 12         [12]  275 	jr	00103$
   00F5                     276 00101$:
                            277 ;src/entities/entities.c:70: ent->sprite = g_naves_0;
   00F5 3Er00         [ 7]  278 	ld	a,#<(_g_naves_0)
   00F7 02            [ 7]  279 	ld	(bc),a
   00F8 03            [ 6]  280 	inc	bc
   00F9 3Es00         [ 7]  281 	ld	a,#>(_g_naves_0)
   00FB 02            [ 7]  282 	ld	(bc),a
                            283 ;src/entities/entities.c:72: break;
   00FC 18 19         [12]  284 	jr	00105$
                            285 ;src/entities/entities.c:73: case d_down:
   00FE                     286 00102$:
                            287 ;src/entities/entities.c:74: ent->sprite = g_naves_2;
   00FE 3Er00         [ 7]  288 	ld	a,#<(_g_naves_2)
   0100 02            [ 7]  289 	ld	(bc),a
   0101 03            [ 6]  290 	inc	bc
   0102 3Es00         [ 7]  291 	ld	a,#>(_g_naves_2)
   0104 02            [ 7]  292 	ld	(bc),a
                            293 ;src/entities/entities.c:76: break;
   0105 18 10         [12]  294 	jr	00105$
                            295 ;src/entities/entities.c:77: case d_left:
   0107                     296 00103$:
                            297 ;src/entities/entities.c:78: ent->sprite = g_naves_3;
   0107 3Er00         [ 7]  298 	ld	a,#<(_g_naves_3)
   0109 02            [ 7]  299 	ld	(bc),a
   010A 03            [ 6]  300 	inc	bc
   010B 3Es00         [ 7]  301 	ld	a,#>(_g_naves_3)
   010D 02            [ 7]  302 	ld	(bc),a
                            303 ;src/entities/entities.c:79: break;
   010E 18 07         [12]  304 	jr	00105$
                            305 ;src/entities/entities.c:80: case d_right:
   0110                     306 00104$:
                            307 ;src/entities/entities.c:81: ent->sprite = g_naves_1;
   0110 3Er00         [ 7]  308 	ld	a,#<(_g_naves_1)
   0112 02            [ 7]  309 	ld	(bc),a
   0113 03            [ 6]  310 	inc	bc
   0114 3Es00         [ 7]  311 	ld	a,#>(_g_naves_1)
   0116 02            [ 7]  312 	ld	(bc),a
                            313 ;src/entities/entities.c:83: }
   0117                     314 00105$:
                            315 ;src/entities/entities.c:84: ent->curr_dir = dir; 
   0117 DD 7E 06      [19]  316 	ld	a,6 (ix)
   011A 12            [ 7]  317 	ld	(de),a
   011B                     318 00108$:
   011B 33            [ 6]  319 	inc	sp
   011C DD E1         [14]  320 	pop	ix
   011E C9            [10]  321 	ret
                            322 ;src/entities/entities.c:104: void moverArriba(TEntity* ent){
                            323 ;	---------------------------------
                            324 ; Function moverArriba
                            325 ; ---------------------------------
   011F                     326 _moverArriba::
   011F DD E5         [15]  327 	push	ix
   0121 DD 21 00 00   [14]  328 	ld	ix,#0
   0125 DD 39         [15]  329 	add	ix,sp
                            330 ;src/entities/entities.c:105: if (ent->y > 0) {
   0127 DD 4E 04      [19]  331 	ld	c,4 (ix)
   012A DD 46 05      [19]  332 	ld	b,5 (ix)
   012D 59            [ 4]  333 	ld	e, c
   012E 50            [ 4]  334 	ld	d, b
   012F 13            [ 6]  335 	inc	de
   0130 1A            [ 7]  336 	ld	a,(de)
   0131 B7            [ 4]  337 	or	a, a
   0132 28 12         [12]  338 	jr	Z,00106$
                            339 ;src/entities/entities.c:106: if(ent->y%2 == 0)
   0134 CB 47         [ 8]  340 	bit	0, a
   0136 20 05         [12]  341 	jr	NZ,00102$
                            342 ;src/entities/entities.c:107: ent->y-=2;
   0138 C6 FE         [ 7]  343 	add	a,#0xFE
   013A 12            [ 7]  344 	ld	(de),a
   013B 18 03         [12]  345 	jr	00103$
   013D                     346 00102$:
                            347 ;src/entities/entities.c:109: ent->y--;
   013D C6 FF         [ 7]  348 	add	a,#0xFF
   013F 12            [ 7]  349 	ld	(de),a
   0140                     350 00103$:
                            351 ;src/entities/entities.c:111: ent->draw  = SI;
   0140 21 04 00      [10]  352 	ld	hl,#0x0004
   0143 09            [11]  353 	add	hl,bc
   0144 36 01         [10]  354 	ld	(hl),#0x01
   0146                     355 00106$:
   0146 DD E1         [14]  356 	pop	ix
   0148 C9            [10]  357 	ret
                            358 ;src/entities/entities.c:118: void moverAbajo(TEntity* ent){
                            359 ;	---------------------------------
                            360 ; Function moverAbajo
                            361 ; ---------------------------------
   0149                     362 _moverAbajo::
   0149 DD E5         [15]  363 	push	ix
   014B DD 21 00 00   [14]  364 	ld	ix,#0
   014F DD 39         [15]  365 	add	ix,sp
   0151 3B            [ 6]  366 	dec	sp
                            367 ;src/entities/entities.c:119: if (ent->y + G_NAVES_0_H < ALTO) {
   0152 DD 4E 04      [19]  368 	ld	c,4 (ix)
   0155 DD 46 05      [19]  369 	ld	b,5 (ix)
   0158 59            [ 4]  370 	ld	e, c
   0159 50            [ 4]  371 	ld	d, b
   015A 13            [ 6]  372 	inc	de
   015B 1A            [ 7]  373 	ld	a,(de)
   015C DD 77 FF      [19]  374 	ld	-1 (ix), a
   015F 6F            [ 4]  375 	ld	l, a
   0160 26 00         [ 7]  376 	ld	h,#0x00
   0162 D5            [11]  377 	push	de
   0163 11 10 00      [10]  378 	ld	de,#0x0010
   0166 19            [11]  379 	add	hl, de
   0167 D1            [10]  380 	pop	de
   0168 7D            [ 4]  381 	ld	a,l
   0169 D6 C8         [ 7]  382 	sub	a, #0xC8
   016B 7C            [ 4]  383 	ld	a,h
   016C 17            [ 4]  384 	rla
   016D 3F            [ 4]  385 	ccf
   016E 1F            [ 4]  386 	rra
   016F DE 80         [ 7]  387 	sbc	a, #0x80
   0171 30 19         [12]  388 	jr	NC,00106$
                            389 ;src/entities/entities.c:120: if(ent->y%2 == 0)
   0173 DD CB FF 46   [20]  390 	bit	0, -1 (ix)
   0177 20 08         [12]  391 	jr	NZ,00102$
                            392 ;src/entities/entities.c:121: ent->y+=2;
   0179 DD 7E FF      [19]  393 	ld	a,-1 (ix)
   017C C6 02         [ 7]  394 	add	a, #0x02
   017E 12            [ 7]  395 	ld	(de),a
   017F 18 05         [12]  396 	jr	00103$
   0181                     397 00102$:
                            398 ;src/entities/entities.c:123: ent->y++;
   0181 DD 7E FF      [19]  399 	ld	a,-1 (ix)
   0184 3C            [ 4]  400 	inc	a
   0185 12            [ 7]  401 	ld	(de),a
   0186                     402 00103$:
                            403 ;src/entities/entities.c:125: ent->draw  = SI;
   0186 21 04 00      [10]  404 	ld	hl,#0x0004
   0189 09            [11]  405 	add	hl,bc
   018A 36 01         [10]  406 	ld	(hl),#0x01
   018C                     407 00106$:
   018C 33            [ 6]  408 	inc	sp
   018D DD E1         [14]  409 	pop	ix
   018F C9            [10]  410 	ret
                            411 ;src/entities/entities.c:132: void moverIzquierda(TEntity* ent){
                            412 ;	---------------------------------
                            413 ; Function moverIzquierda
                            414 ; ---------------------------------
   0190                     415 _moverIzquierda::
                            416 ;src/entities/entities.c:133: if (ent->x > 0) {
   0190 D1            [10]  417 	pop	de
   0191 C1            [10]  418 	pop	bc
   0192 C5            [11]  419 	push	bc
   0193 D5            [11]  420 	push	de
   0194 0A            [ 7]  421 	ld	a,(bc)
   0195 B7            [ 4]  422 	or	a, a
   0196 C8            [11]  423 	ret	Z
                            424 ;src/entities/entities.c:134: ent->x--;
   0197 C6 FF         [ 7]  425 	add	a,#0xFF
   0199 02            [ 7]  426 	ld	(bc),a
                            427 ;src/entities/entities.c:135: ent->draw  = SI;
   019A 21 04 00      [10]  428 	ld	hl,#0x0004
   019D 09            [11]  429 	add	hl,bc
   019E 36 01         [10]  430 	ld	(hl),#0x01
   01A0 C9            [10]  431 	ret
                            432 ;src/entities/entities.c:141: void moverDerecha(TEntity* ent){
                            433 ;	---------------------------------
                            434 ; Function moverDerecha
                            435 ; ---------------------------------
   01A1                     436 _moverDerecha::
   01A1 DD E5         [15]  437 	push	ix
   01A3 DD 21 00 00   [14]  438 	ld	ix,#0
   01A7 DD 39         [15]  439 	add	ix,sp
                            440 ;src/entities/entities.c:142: if (ent->x + G_NAVES_0_W < ANCHO) {
   01A9 DD 4E 04      [19]  441 	ld	c,4 (ix)
   01AC DD 46 05      [19]  442 	ld	b,5 (ix)
   01AF 0A            [ 7]  443 	ld	a,(bc)
   01B0 5F            [ 4]  444 	ld	e,a
   01B1 6B            [ 4]  445 	ld	l,e
   01B2 26 00         [ 7]  446 	ld	h,#0x00
   01B4 D5            [11]  447 	push	de
   01B5 11 08 00      [10]  448 	ld	de,#0x0008
   01B8 19            [11]  449 	add	hl, de
   01B9 D1            [10]  450 	pop	de
   01BA 7D            [ 4]  451 	ld	a,l
   01BB D6 50         [ 7]  452 	sub	a, #0x50
   01BD 7C            [ 4]  453 	ld	a,h
   01BE 17            [ 4]  454 	rla
   01BF 3F            [ 4]  455 	ccf
   01C0 1F            [ 4]  456 	rra
   01C1 DE 80         [ 7]  457 	sbc	a, #0x80
   01C3 30 09         [12]  458 	jr	NC,00103$
                            459 ;src/entities/entities.c:143: ent->x++;
   01C5 1C            [ 4]  460 	inc	e
   01C6 7B            [ 4]  461 	ld	a,e
   01C7 02            [ 7]  462 	ld	(bc),a
                            463 ;src/entities/entities.c:144: ent->draw  = SI;
   01C8 21 04 00      [10]  464 	ld	hl,#0x0004
   01CB 09            [11]  465 	add	hl,bc
   01CC 36 01         [10]  466 	ld	(hl),#0x01
   01CE                     467 00103$:
   01CE DD E1         [14]  468 	pop	ix
   01D0 C9            [10]  469 	ret
                            470 ;src/entities/entities.c:152: u8 updatePlayer(TEntity* player){
                            471 ;	---------------------------------
                            472 ; Function updatePlayer
                            473 ; ---------------------------------
   01D1                     474 _updatePlayer::
                            475 ;src/entities/entities.c:154: return 1;
   01D1 2E 01         [ 7]  476 	ld	l,#0x01
   01D3 C9            [10]  477 	ret
                            478 ;src/entities/entities.c:157: void updateEntities(){
                            479 ;	---------------------------------
                            480 ; Function updateEntities
                            481 ; ---------------------------------
   01D4                     482 _updateEntities::
   01D4 C9            [10]  483 	ret
                            484 ;src/entities/entities.c:169: void redibujarEntity(TEntity* ent, u8 w, u8 h){
                            485 ;	---------------------------------
                            486 ; Function redibujarEntity
                            487 ; ---------------------------------
   01D5                     488 _redibujarEntity::
   01D5 DD E5         [15]  489 	push	ix
   01D7 DD 21 00 00   [14]  490 	ld	ix,#0
   01DB DD 39         [15]  491 	add	ix,sp
                            492 ;src/entities/entities.c:170: if (ent->draw) {
   01DD DD 4E 04      [19]  493 	ld	c,4 (ix)
   01E0 DD 46 05      [19]  494 	ld	b,5 (ix)
   01E3 21 04 00      [10]  495 	ld	hl,#0x0004
   01E6 09            [11]  496 	add	hl,bc
   01E7 EB            [ 4]  497 	ex	de,hl
   01E8 1A            [ 7]  498 	ld	a,(de)
   01E9 B7            [ 4]  499 	or	a, a
   01EA 28 35         [12]  500 	jr	Z,00103$
                            501 ;src/entities/entities.c:171: borrarEntity(ent);
   01EC C5            [11]  502 	push	bc
   01ED D5            [11]  503 	push	de
   01EE C5            [11]  504 	push	bc
   01EF CDr24r02      [17]  505 	call	_borrarEntity
   01F2 F1            [10]  506 	pop	af
   01F3 D1            [10]  507 	pop	de
   01F4 C1            [10]  508 	pop	bc
                            509 ;src/entities/entities.c:172: ent->px = ent->x;
   01F5 C5            [11]  510 	push	bc
   01F6 FD E1         [14]  511 	pop	iy
   01F8 FD 23         [10]  512 	inc	iy
   01FA FD 23         [10]  513 	inc	iy
   01FC 0A            [ 7]  514 	ld	a,(bc)
   01FD FD 77 00      [19]  515 	ld	0 (iy), a
                            516 ;src/entities/entities.c:173: ent->py = ent->y;
   0200 C5            [11]  517 	push	bc
   0201 FD E1         [14]  518 	pop	iy
   0203 FD 23         [10]  519 	inc	iy
   0205 FD 23         [10]  520 	inc	iy
   0207 FD 23         [10]  521 	inc	iy
   0209 69            [ 4]  522 	ld	l, c
   020A 60            [ 4]  523 	ld	h, b
   020B 23            [ 6]  524 	inc	hl
   020C 6E            [ 7]  525 	ld	l,(hl)
   020D FD 75 00      [19]  526 	ld	0 (iy), l
                            527 ;src/entities/entities.c:174: dibujarEntity(ent, w, h);
   0210 D5            [11]  528 	push	de
   0211 DD 66 07      [19]  529 	ld	h,7 (ix)
   0214 DD 6E 06      [19]  530 	ld	l,6 (ix)
   0217 E5            [11]  531 	push	hl
   0218 C5            [11]  532 	push	bc
   0219 CDr75r02      [17]  533 	call	_dibujarEntity
   021C F1            [10]  534 	pop	af
   021D F1            [10]  535 	pop	af
   021E D1            [10]  536 	pop	de
                            537 ;src/entities/entities.c:175: ent->draw = NO;
   021F AF            [ 4]  538 	xor	a, a
   0220 12            [ 7]  539 	ld	(de),a
   0221                     540 00103$:
   0221 DD E1         [14]  541 	pop	ix
   0223 C9            [10]  542 	ret
                            543 ;src/entities/entities.c:179: void borrarEntity(TEntity* ent){
                            544 ;	---------------------------------
                            545 ; Function borrarEntity
                            546 ; ---------------------------------
   0224                     547 _borrarEntity::
   0224 DD E5         [15]  548 	push	ix
   0226 DD 21 00 00   [14]  549 	ld	ix,#0
   022A DD 39         [15]  550 	add	ix,sp
                            551 ;src/entities/entities.c:180: u8 w = 4 + (ent->px & 1);
   022C DD 5E 04      [19]  552 	ld	e,4 (ix)
   022F DD 56 05      [19]  553 	ld	d,5 (ix)
   0232 6B            [ 4]  554 	ld	l, e
   0233 62            [ 4]  555 	ld	h, d
   0234 23            [ 6]  556 	inc	hl
   0235 23            [ 6]  557 	inc	hl
   0236 4E            [ 7]  558 	ld	c,(hl)
   0237 79            [ 4]  559 	ld	a,c
   0238 E6 01         [ 7]  560 	and	a, #0x01
   023A 47            [ 4]  561 	ld	b,a
   023B 04            [ 4]  562 	inc	b
   023C 04            [ 4]  563 	inc	b
   023D 04            [ 4]  564 	inc	b
   023E 04            [ 4]  565 	inc	b
                            566 ;src/entities/entities.c:181: u8 h = 4 + (ent->py & 3 ? 1 : 0);
   023F EB            [ 4]  567 	ex	de,hl
   0240 23            [ 6]  568 	inc	hl
   0241 23            [ 6]  569 	inc	hl
   0242 23            [ 6]  570 	inc	hl
   0243 5E            [ 7]  571 	ld	e,(hl)
   0244 7B            [ 4]  572 	ld	a,e
   0245 E6 03         [ 7]  573 	and	a, #0x03
   0247 28 04         [12]  574 	jr	Z,00103$
   0249 16 01         [ 7]  575 	ld	d,#0x01
   024B 18 02         [12]  576 	jr	00104$
   024D                     577 00103$:
   024D 16 00         [ 7]  578 	ld	d,#0x00
   024F                     579 00104$:
   024F 14            [ 4]  580 	inc	d
   0250 14            [ 4]  581 	inc	d
   0251 14            [ 4]  582 	inc	d
   0252 14            [ 4]  583 	inc	d
                            584 ;src/entities/entities.c:182: cpct_etm_drawTileBox2x4(ent->px / 2, ent->py /4, w, h, g_map1_W, ORIGEN_MAPA, mapa);
   0253 2Ar00r00      [16]  585 	ld	hl,(_mapa)
   0256 CB 3B         [ 8]  586 	srl	e
   0258 CB 3B         [ 8]  587 	srl	e
   025A CB 39         [ 8]  588 	srl	c
   025C E5            [11]  589 	push	hl
   025D 21 00 C0      [10]  590 	ld	hl,#0xC000
   0260 E5            [11]  591 	push	hl
   0261 3E 28         [ 7]  592 	ld	a,#0x28
   0263 F5            [11]  593 	push	af
   0264 33            [ 6]  594 	inc	sp
   0265 D5            [11]  595 	push	de
   0266 33            [ 6]  596 	inc	sp
   0267 C5            [11]  597 	push	bc
   0268 33            [ 6]  598 	inc	sp
   0269 7B            [ 4]  599 	ld	a,e
   026A F5            [11]  600 	push	af
   026B 33            [ 6]  601 	inc	sp
   026C 79            [ 4]  602 	ld	a,c
   026D F5            [11]  603 	push	af
   026E 33            [ 6]  604 	inc	sp
   026F CDr00r00      [17]  605 	call	_cpct_etm_drawTileBox2x4
   0272 DD E1         [14]  606 	pop	ix
   0274 C9            [10]  607 	ret
                            608 ;src/entities/entities.c:185: void dibujarEntity(TEntity* ent, u8 w, u8 h){
                            609 ;	---------------------------------
                            610 ; Function dibujarEntity
                            611 ; ---------------------------------
   0275                     612 _dibujarEntity::
   0275 DD E5         [15]  613 	push	ix
   0277 DD 21 00 00   [14]  614 	ld	ix,#0
   027B DD 39         [15]  615 	add	ix,sp
                            616 ;src/entities/entities.c:186: u8* vmem = cpct_getScreenPtr(CPCT_VMEM_START,ent->x, ent->y);
   027D DD 4E 04      [19]  617 	ld	c,4 (ix)
   0280 DD 46 05      [19]  618 	ld	b,5 (ix)
   0283 69            [ 4]  619 	ld	l, c
   0284 60            [ 4]  620 	ld	h, b
   0285 23            [ 6]  621 	inc	hl
   0286 56            [ 7]  622 	ld	d,(hl)
   0287 0A            [ 7]  623 	ld	a,(bc)
   0288 C5            [11]  624 	push	bc
   0289 D5            [11]  625 	push	de
   028A 33            [ 6]  626 	inc	sp
   028B F5            [11]  627 	push	af
   028C 33            [ 6]  628 	inc	sp
   028D 21 00 C0      [10]  629 	ld	hl,#0xC000
   0290 E5            [11]  630 	push	hl
   0291 CDr00r00      [17]  631 	call	_cpct_getScreenPtr
   0294 EB            [ 4]  632 	ex	de,hl
                            633 ;src/entities/entities.c:187: cpct_drawSpriteMaskedAlignedTable(ent->sprite,vmem,w,h, g_tablatrans);
   0295 E1            [10]  634 	pop	hl
   0296 01 05 00      [10]  635 	ld	bc, #0x0005
   0299 09            [11]  636 	add	hl, bc
   029A 4E            [ 7]  637 	ld	c,(hl)
   029B 23            [ 6]  638 	inc	hl
   029C 46            [ 7]  639 	ld	b,(hl)
   029D 21r00r01      [10]  640 	ld	hl,#_g_tablatrans
   02A0 E5            [11]  641 	push	hl
   02A1 DD 66 07      [19]  642 	ld	h,7 (ix)
   02A4 DD 6E 06      [19]  643 	ld	l,6 (ix)
   02A7 E5            [11]  644 	push	hl
   02A8 D5            [11]  645 	push	de
   02A9 C5            [11]  646 	push	bc
   02AA CDr00r00      [17]  647 	call	_cpct_drawSpriteMaskedAlignedTable
   02AD DD E1         [14]  648 	pop	ix
   02AF C9            [10]  649 	ret
                            650 ;src/entities/entities.c:190: void drawAll(TEntity* player){
                            651 ;	---------------------------------
                            652 ; Function drawAll
                            653 ; ---------------------------------
   02B0                     654 _drawAll::
   02B0 DD E5         [15]  655 	push	ix
   02B2 DD 21 00 00   [14]  656 	ld	ix,#0
   02B6 DD 39         [15]  657 	add	ix,sp
                            658 ;src/entities/entities.c:193: redibujarEntity(player, G_NAVES_0_W, G_NAVES_0_H);
   02B8 21 08 10      [10]  659 	ld	hl,#0x1008
   02BB E5            [11]  660 	push	hl
   02BC DD 6E 04      [19]  661 	ld	l,4 (ix)
   02BF DD 66 05      [19]  662 	ld	h,5 (ix)
   02C2 E5            [11]  663 	push	hl
   02C3 CDrD5r01      [17]  664 	call	_redibujarEntity
   02C6 F1            [10]  665 	pop	af
   02C7 F1            [10]  666 	pop	af
                            667 ;src/entities/entities.c:196: for(i = 0; i < NUM_ENEMIGOS; i++){
   02C8 0E 00         [ 7]  668 	ld	c,#0x00
   02CA                     669 00102$:
                            670 ;src/entities/entities.c:197: redibujarEntity(&enemigos[i], G_NAVES_0_W, G_NAVES_0_H);
   02CA 69            [ 4]  671 	ld	l,c
   02CB 26 00         [ 7]  672 	ld	h,#0x00
   02CD 29            [11]  673 	add	hl, hl
   02CE 29            [11]  674 	add	hl, hl
   02CF 29            [11]  675 	add	hl, hl
   02D0 11r01r00      [10]  676 	ld	de,#_enemigos
   02D3 19            [11]  677 	add	hl,de
   02D4 EB            [ 4]  678 	ex	de,hl
   02D5 C5            [11]  679 	push	bc
   02D6 21 08 10      [10]  680 	ld	hl,#0x1008
   02D9 E5            [11]  681 	push	hl
   02DA D5            [11]  682 	push	de
   02DB CDrD5r01      [17]  683 	call	_redibujarEntity
   02DE F1            [10]  684 	pop	af
   02DF F1            [10]  685 	pop	af
   02E0 C1            [10]  686 	pop	bc
                            687 ;src/entities/entities.c:196: for(i = 0; i < NUM_ENEMIGOS; i++){
   02E1 0C            [ 4]  688 	inc	c
   02E2 79            [ 4]  689 	ld	a,c
   02E3 D6 02         [ 7]  690 	sub	a, #0x02
   02E5 38 E3         [12]  691 	jr	C,00102$
   02E7 DD E1         [14]  692 	pop	ix
   02E9 C9            [10]  693 	ret
                            694 	.area _CODE
                            695 	.area _INITIALIZER
                            696 	.area _CABS (ABS)
