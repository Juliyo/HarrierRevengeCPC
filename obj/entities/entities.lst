                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.5 #9498 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module entities
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _calculaDireccion
                             12 	.globl _updateEntities
                             13 	.globl _getExplosion
                             14 	.globl _updateExplosion
                             15 	.globl _inicializarWaveManager
                             16 	.globl _resetearTimepoEnMapa
                             17 	.globl _updateTiempoEnMapa
                             18 	.globl _dibujarMapa
                             19 	.globl _cpct_etm_drawTileBox2x4
                             20 	.globl _cpct_getScreenPtr
                             21 	.globl _cpct_drawSpriteMaskedAlignedTable
                             22 	.globl _bulletsTurno
                             23 	.globl _turno
                             24 	.globl _count1
                             25 	.globl _puntos
                             26 	.globl _bases
                             27 	.globl _enemigos
                             28 	.globl _incializarEntities
                             29 	.globl _accion
                             30 	.globl _flipSprite
                             31 	.globl _moverArriba
                             32 	.globl _moverAbajo
                             33 	.globl _moverIzquierda
                             34 	.globl _moverDerecha
                             35 	.globl _updatePlayer
                             36 	.globl _corregirPosicion
                             37 	.globl _updateX
                             38 	.globl _updateY
                             39 	.globl _disparar
                             40 	.globl _updateBullet
                             41 	.globl _playerHerido
                             42 	.globl _contarEnemigos
                             43 	.globl _updateIA
                             44 	.globl _comprobarEjeX
                             45 	.globl _comprobarEjeY
                             46 	.globl _moverHaciaPuntoDeControl
                             47 	.globl _abs
                             48 	.globl _updateIAState
                             49 	.globl _comprobarSiDisparo
                             50 	.globl _redibujarEntity
                             51 	.globl _borrarEntity
                             52 	.globl _dibujarEntity
                             53 	.globl _calculaEntity
                             54 	.globl _calculaAllEntities
                             55 	.globl _drawAll
                             56 	.globl _getEnemies
                             57 	.globl _getBases
                             58 ;--------------------------------------------------------
                             59 ; special function registers
                             60 ;--------------------------------------------------------
                             61 ;--------------------------------------------------------
                             62 ; ram data
                             63 ;--------------------------------------------------------
                             64 	.area _DATA
                             65 ;--------------------------------------------------------
                             66 ; ram data
                             67 ;--------------------------------------------------------
                             68 	.area _INITIALIZED
   0000                      69 _count1::
   0000                      70 	.ds 1
   0001                      71 _turno::
   0001                      72 	.ds 1
   0002                      73 _bulletsTurno::
   0002                      74 	.ds 1
                             75 ;--------------------------------------------------------
                             76 ; absolute external ram data
                             77 ;--------------------------------------------------------
                             78 	.area _DABS (ABS)
                             79 ;--------------------------------------------------------
                             80 ; global & static initialisations
                             81 ;--------------------------------------------------------
                             82 	.area _HOME
                             83 	.area _GSINIT
                             84 	.area _GSFINAL
                             85 	.area _GSINIT
                             86 ;--------------------------------------------------------
                             87 ; Home
                             88 ;--------------------------------------------------------
                             89 	.area _HOME
                             90 	.area _HOME
                             91 ;--------------------------------------------------------
                             92 ; code
                             93 ;--------------------------------------------------------
                             94 	.area _CODE
                             95 ;src/entities/entities.c:30: cpctm_createTransparentMaskTable(g_tablatrans,0x0100,M0,0);
                             96 ;	---------------------------------
                             97 ; Function dummy_cpct_transparentMaskTable0M0_container
                             98 ; ---------------------------------
   0000                      99 _dummy_cpct_transparentMaskTable0M0_container::
                            100 	.area _g_tablatrans_ (ABS) 
   0100                     101 	.org 0x0100 
   0100                     102 	 _g_tablatrans::
   0100 FF AA 55 00 AA AA   103 	.db 0xFF, 0xAA, 0x55, 0x00, 0xAA, 0xAA, 0x00, 0x00 
        00 00
   0108 55 00 55 00 00 00   104 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0110 AA AA 00 00 AA AA   105 	.db 0xAA, 0xAA, 0x00, 0x00, 0xAA, 0xAA, 0x00, 0x00 
        00 00
   0118 00 00 00 00 00 00   106 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0120 55 00 55 00 00 00   107 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0128 55 00 55 00 00 00   108 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0130 00 00 00 00 00 00   109 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0138 00 00 00 00 00 00   110 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0140 AA AA 00 00 AA AA   111 	.db 0xAA, 0xAA, 0x00, 0x00, 0xAA, 0xAA, 0x00, 0x00 
        00 00
   0148 00 00 00 00 00 00   112 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0150 AA AA 00 00 AA AA   113 	.db 0xAA, 0xAA, 0x00, 0x00, 0xAA, 0xAA, 0x00, 0x00 
        00 00
   0158 00 00 00 00 00 00   114 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0160 00 00 00 00 00 00   115 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0168 00 00 00 00 00 00   116 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0170 00 00 00 00 00 00   117 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0178 00 00 00 00 00 00   118 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0180 55 00 55 00 00 00   119 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0188 55 00 55 00 00 00   120 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0190 00 00 00 00 00 00   121 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   0198 00 00 00 00 00 00   122 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01A0 55 00 55 00 00 00   123 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01A8 55 00 55 00 00 00   124 	.db 0x55, 0x00, 0x55, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01B0 00 00 00 00 00 00   125 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01B8 00 00 00 00 00 00   126 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01C0 00 00 00 00 00 00   127 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01C8 00 00 00 00 00 00   128 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01D0 00 00 00 00 00 00   129 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01D8 00 00 00 00 00 00   130 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01E0 00 00 00 00 00 00   131 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01E8 00 00 00 00 00 00   132 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01F0 00 00 00 00 00 00   133 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
   01F8 00 00 00 00 00 00   134 	.db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 
        00 00
                            135 	.area _CSEG (REL, CON) 
                            136 ;src/entities/entities.c:433: void incializarEntities(TPlayer* p){
                            137 ;	---------------------------------
                            138 ; Function incializarEntities
                            139 ; ---------------------------------
   0000                     140 _incializarEntities::
   0000 DD E5         [15]  141 	push	ix
   0002 DD 21 00 00   [14]  142 	ld	ix,#0
   0006 DD 39         [15]  143 	add	ix,sp
   0008 F5            [11]  144 	push	af
   0009 F5            [11]  145 	push	af
   000A 3B            [ 6]  146 	dec	sp
                            147 ;src/entities/entities.c:434: TBase* bases = getBases();
   000B CDrAEr12      [17]  148 	call	_getBases
   000E DD 75 FE      [19]  149 	ld	-2 (ix),l
   0011 DD 74 FF      [19]  150 	ld	-1 (ix),h
                            151 ;src/entities/entities.c:435: TEnemy* enes = getEnemies();
   0014 CDrAAr12      [17]  152 	call	_getEnemies
   0017 DD 75 FC      [19]  153 	ld	-4 (ix),l
   001A DD 74 FD      [19]  154 	ld	-3 (ix),h
                            155 ;src/entities/entities.c:438: p->vida = 3;
   001D DD 4E 04      [19]  156 	ld	c,4 (ix)
   0020 DD 46 05      [19]  157 	ld	b,5 (ix)
   0023 21 49 00      [10]  158 	ld	hl,#0x0049
   0026 09            [11]  159 	add	hl,bc
   0027 36 03         [10]  160 	ld	(hl),#0x03
                            161 ;src/entities/entities.c:439: p->pvida = 3;
   0029 21 4A 00      [10]  162 	ld	hl,#0x004A
   002C 09            [11]  163 	add	hl,bc
   002D 36 03         [10]  164 	ld	(hl),#0x03
                            165 ;src/entities/entities.c:440: p->ent.x = px_spawn;
   002F 21 26 00      [10]  166 	ld	hl,#0x0026
   0032 09            [11]  167 	add	hl,bc
   0033 36 0A         [10]  168 	ld	(hl),#0x0A
   0035 23            [ 6]  169 	inc	hl
   0036 36 00         [10]  170 	ld	(hl),#0x00
                            171 ;src/entities/entities.c:441: p->ent.y = py_spawn;
   0038 21 28 00      [10]  172 	ld	hl,#0x0028
   003B 09            [11]  173 	add	hl,bc
   003C 36 AA         [10]  174 	ld	(hl),#0xAA
   003E 23            [ 6]  175 	inc	hl
   003F 36 00         [10]  176 	ld	(hl),#0x00
                            177 ;src/entities/entities.c:442: p->ent.draw = SI;
   0041 21 30 00      [10]  178 	ld	hl,#0x0030
   0044 09            [11]  179 	add	hl,bc
   0045 36 01         [10]  180 	ld	(hl),#0x01
                            181 ;src/entities/entities.c:443: p->puntuacion = 0;
   0047 21 4B 00      [10]  182 	ld	hl,#0x004B
   004A 09            [11]  183 	add	hl,bc
   004B AF            [ 4]  184 	xor	a, a
   004C 77            [ 7]  185 	ld	(hl), a
   004D 23            [ 6]  186 	inc	hl
   004E 77            [ 7]  187 	ld	(hl), a
                            188 ;src/entities/entities.c:444: p->puntuacionPrev = 0;
   004F 21 4D 00      [10]  189 	ld	hl,#0x004D
   0052 09            [11]  190 	add	hl,bc
   0053 AF            [ 4]  191 	xor	a, a
   0054 77            [ 7]  192 	ld	(hl), a
   0055 23            [ 6]  193 	inc	hl
   0056 77            [ 7]  194 	ld	(hl), a
                            195 ;src/entities/entities.c:446: for(i = 0; i < NUM_BASES; ++i){
   0057 0E 00         [ 7]  196 	ld	c,#0x00
   0059 11 00 00      [10]  197 	ld	de,#0x0000
   005C                     198 00105$:
                            199 ;src/entities/entities.c:447: bases[i].whom = 1;
   005C DD 6E FE      [19]  200 	ld	l,-2 (ix)
   005F DD 66 FF      [19]  201 	ld	h,-1 (ix)
   0062 19            [11]  202 	add	hl,de
   0063 36 01         [10]  203 	ld	(hl),#0x01
                            204 ;src/entities/entities.c:448: bases[i].ent.sprites[0] = NULL;
   0065 FD 21 0F 00   [14]  205 	ld	iy,#0x000F
   0069 C5            [11]  206 	push	bc
   006A 4D            [ 4]  207 	ld	c, l
   006B 44            [ 4]  208 	ld	b, h
   006C FD 09         [15]  209 	add	iy, bc
   006E C1            [10]  210 	pop	bc
   006F FD 36 00 00   [19]  211 	ld	0 (iy),#0x00
   0073 FD 36 01 00   [19]  212 	ld	1 (iy),#0x00
                            213 ;src/entities/entities.c:449: bases[i].cycles = 0;
   0077 23            [ 6]  214 	inc	hl
   0078 23            [ 6]  215 	inc	hl
   0079 23            [ 6]  216 	inc	hl
   007A 44            [ 4]  217 	ld	b,h
   007B 60            [ 4]  218 	ld	h, b
   007C 36 00         [10]  219 	ld	(hl),#0x00
                            220 ;src/entities/entities.c:446: for(i = 0; i < NUM_BASES; ++i){
   007E 21 27 00      [10]  221 	ld	hl,#0x0027
   0081 19            [11]  222 	add	hl,de
   0082 EB            [ 4]  223 	ex	de,hl
   0083 0C            [ 4]  224 	inc	c
   0084 79            [ 4]  225 	ld	a,c
   0085 D6 06         [ 7]  226 	sub	a, #0x06
   0087 38 D3         [12]  227 	jr	C,00105$
                            228 ;src/entities/entities.c:451: for(i = 0; i< NUM_ENEMIGOS; ++i){
   0089 DD 36 FB 00   [19]  229 	ld	-5 (ix),#0x00
   008D 01 00 00      [10]  230 	ld	bc,#0x0000
   0090                     231 00107$:
                            232 ;src/entities/entities.c:452: if(enes[i].ent.cuadrante == 0){
   0090 DD 7E FC      [19]  233 	ld	a,-4 (ix)
   0093 81            [ 4]  234 	add	a, c
   0094 5F            [ 4]  235 	ld	e,a
   0095 DD 7E FD      [19]  236 	ld	a,-3 (ix)
   0098 88            [ 4]  237 	adc	a, b
   0099 57            [ 4]  238 	ld	d,a
   009A D5            [11]  239 	push	de
   009B FD E1         [14]  240 	pop	iy
   009D FD 7E 42      [19]  241 	ld	a,66 (iy)
   00A0 B7            [ 4]  242 	or	a, a
   00A1 20 12         [12]  243 	jr	NZ,00108$
                            244 ;src/entities/entities.c:453: enes[i].ent.vivo = 0;
   00A3 21 41 00      [10]  245 	ld	hl,#0x0041
   00A6 19            [11]  246 	add	hl,de
   00A7 36 00         [10]  247 	ld	(hl),#0x00
                            248 ;src/entities/entities.c:454: enes[i].bullet.ent.vivo = 0;
   00A9 21 1E 00      [10]  249 	ld	hl,#0x001E
   00AC 19            [11]  250 	add	hl,de
   00AD 36 00         [10]  251 	ld	(hl),#0x00
                            252 ;src/entities/entities.c:455: enes[i].ent.draw = NO;
   00AF 21 30 00      [10]  253 	ld	hl,#0x0030
   00B2 19            [11]  254 	add	hl,de
   00B3 36 00         [10]  255 	ld	(hl),#0x00
   00B5                     256 00108$:
                            257 ;src/entities/entities.c:451: for(i = 0; i< NUM_ENEMIGOS; ++i){
   00B5 21 4E 00      [10]  258 	ld	hl,#0x004E
   00B8 09            [11]  259 	add	hl,bc
   00B9 4D            [ 4]  260 	ld	c,l
   00BA 44            [ 4]  261 	ld	b,h
   00BB DD 34 FB      [23]  262 	inc	-5 (ix)
   00BE DD 7E FB      [19]  263 	ld	a,-5 (ix)
   00C1 D6 03         [ 7]  264 	sub	a, #0x03
   00C3 38 CB         [12]  265 	jr	C,00107$
                            266 ;src/entities/entities.c:458: wshot_cycles = 30;
   00C5 21r00r00      [10]  267 	ld	hl,#_wshot_cycles + 0
   00C8 36 1E         [10]  268 	ld	(hl), #0x1E
                            269 ;src/entities/entities.c:459: basesCapturadas = 0;
   00CA 21r00r00      [10]  270 	ld	hl,#_basesCapturadas + 0
   00CD 36 00         [10]  271 	ld	(hl), #0x00
                            272 ;src/entities/entities.c:460: prev_basesCapturadas = 0;
   00CF 21r00r00      [10]  273 	ld	hl,#_prev_basesCapturadas + 0
   00D2 36 00         [10]  274 	ld	(hl), #0x00
                            275 ;src/entities/entities.c:462: inicializarWaveManager();
   00D4 CDr00r00      [17]  276 	call	_inicializarWaveManager
   00D7 DD F9         [10]  277 	ld	sp, ix
   00D9 DD E1         [14]  278 	pop	ix
   00DB C9            [10]  279 	ret
   00DC                     280 _enemigos:
   00DC 00                  281 	.db #0x00	; 0
   00DD 01                  282 	.db #0x01	; 1
   00DE 00                  283 	.db #0x00	; 0
   00DF 00 00               284 	.dw #0x0000
   00E1 00 00               285 	.dw #0x0000
   00E3 00 00               286 	.dw #0x0000
   00E5 00 00               287 	.dw #0x0000
   00E7 02                  288 	.db #0x02	; 2
   00E8 04                  289 	.db #0x04	; 4
   00E9 00                  290 	.db #0x00	; 0
   00EAr00r00               291 	.dw _g_bala_enemiga
   00ECr00r00               292 	.dw _g_bala_enemiga
   00EEr00r00               293 	.dw _g_bala_enemiga
   00F0r00r00               294 	.dw _g_bala_enemiga
   00F2 02                  295 	.db #0x02	; 2
   00F3 04                  296 	.db #0x04	; 4
   00F4 00                  297 	.db #0x00	; 0
   00F5 02                  298 	.db #0x02	; 2
   00F6 00                  299 	.db #0x00	; 0
   00F7 00                  300 	.db #0x00	; 0
   00F8 02                  301 	.db #0x02	; 2
   00F9 04                  302 	.db #0x04	; 4
   00FA 00                  303 	.db #0x00	; 0
   00FB 02                  304 	.db #0x02	; 2
   00FC 00                  305 	.db #0x00	; 0
   00FD 00                  306 	.db #0x00	; 0
   00FE 00                  307 	.db #0x00	; 0
   00FF 00                  308 	.db #0x00	; 0
   0100 00 00               309 	.dw #0x0000
   0102 32 00               310 	.dw #0x0032
   0104 9D 00               311 	.dw #0x009D
   0106 32 00               312 	.dw #0x0032
   0108 9D 00               313 	.dw #0x009D
   010A 01                  314 	.db #0x01	; 1
   010B 02                  315 	.db #0x02	; 2
   010C 01                  316 	.db #0x01	; 1
   010Dr00r00               317 	.dw _g_naveEnemiga1_0
   010Fr00r00               318 	.dw _g_naveEnemiga1_1
   0111r00r00               319 	.dw _g_naveEnemiga1_2
   0113r00r00               320 	.dw _g_naveEnemiga1_3
   0115 04                  321 	.db #0x04	; 4
   0116 08                  322 	.db #0x08	; 8
   0117 00                  323 	.db #0x00	; 0
   0118 00                  324 	.db #0x00	; 0
   0119 32                  325 	.db #0x32	; 50	'2'
   011A 9D                  326 	.db #0x9D	; 157
   011B 04                  327 	.db #0x04	; 4
   011C 08                  328 	.db #0x08	; 8
   011D 01                  329 	.db #0x01	; 1
   011E 02                  330 	.db #0x02	; 2
   011F 00                  331 	.db #0x00	; 0
   0120 00                  332 	.db #0x00	; 0
   0121 00                  333 	.db #0x00	; 0
   0122 00                  334 	.db #0x00	; 0
   0123 00 00               335 	.dw #0x0000
   0125 00                  336 	.db #0x00	; 0
   0126 00                  337 	.db #0x00	; 0
   0127 01                  338 	.db #0x01	; 1
   0128 00                  339 	.db #0x00	; 0
   0129 00                  340 	.db #0x00	; 0
   012A 00                  341 	.db #0x00	; 0
   012B 01                  342 	.db #0x01	; 1
   012C 00                  343 	.db #0x00	; 0
   012D 00 00               344 	.dw #0x0000
   012F 00 00               345 	.dw #0x0000
   0131 00 00               346 	.dw #0x0000
   0133 00 00               347 	.dw #0x0000
   0135 02                  348 	.db #0x02	; 2
   0136 04                  349 	.db #0x04	; 4
   0137 00                  350 	.db #0x00	; 0
   0138r00r00               351 	.dw _g_bala_enemiga
   013Ar00r00               352 	.dw _g_bala_enemiga
   013Cr00r00               353 	.dw _g_bala_enemiga
   013Er00r00               354 	.dw _g_bala_enemiga
   0140 02                  355 	.db #0x02	; 2
   0141 04                  356 	.db #0x04	; 4
   0142 00                  357 	.db #0x00	; 0
   0143 02                  358 	.db #0x02	; 2
   0144 00                  359 	.db #0x00	; 0
   0145 00                  360 	.db #0x00	; 0
   0146 02                  361 	.db #0x02	; 2
   0147 04                  362 	.db #0x04	; 4
   0148 00                  363 	.db #0x00	; 0
   0149 04                  364 	.db #0x04	; 4
   014A 00                  365 	.db #0x00	; 0
   014B 00                  366 	.db #0x00	; 0
   014C 00                  367 	.db #0x00	; 0
   014D 00                  368 	.db #0x00	; 0
   014E 00 00               369 	.dw #0x0000
   0150 14 00               370 	.dw #0x0014
   0152 32 00               371 	.dw #0x0032
   0154 14 00               372 	.dw #0x0014
   0156 32 00               373 	.dw #0x0032
   0158 01                  374 	.db #0x01	; 1
   0159 02                  375 	.db #0x02	; 2
   015A 01                  376 	.db #0x01	; 1
   015Br00r00               377 	.dw _g_naveEnemiga2_0
   015Dr00r00               378 	.dw _g_naveEnemiga2_1
   015Fr00r00               379 	.dw _g_naveEnemiga2_2
   0161r00r00               380 	.dw _g_naveEnemiga2_3
   0163 04                  381 	.db #0x04	; 4
   0164 08                  382 	.db #0x08	; 8
   0165 00                  383 	.db #0x00	; 0
   0166 00                  384 	.db #0x00	; 0
   0167 14                  385 	.db #0x14	; 20
   0168 32                  386 	.db #0x32	; 50	'2'
   0169 04                  387 	.db #0x04	; 4
   016A 08                  388 	.db #0x08	; 8
   016B 01                  389 	.db #0x01	; 1
   016C 04                  390 	.db #0x04	; 4
   016D 00                  391 	.db #0x00	; 0
   016E 00                  392 	.db #0x00	; 0
   016F 00                  393 	.db #0x00	; 0
   0170 00                  394 	.db #0x00	; 0
   0171 00 00               395 	.dw #0x0000
   0173 00                  396 	.db #0x00	; 0
   0174 00                  397 	.db #0x00	; 0
   0175 01                  398 	.db #0x01	; 1
   0176 00                  399 	.db #0x00	; 0
   0177 00                  400 	.db #0x00	; 0
   0178 00                  401 	.db #0x00	; 0
   0179 01                  402 	.db #0x01	; 1
   017A 00                  403 	.db #0x00	; 0
   017B 00 00               404 	.dw #0x0000
   017D 00 00               405 	.dw #0x0000
   017F 00 00               406 	.dw #0x0000
   0181 00 00               407 	.dw #0x0000
   0183 02                  408 	.db #0x02	; 2
   0184 04                  409 	.db #0x04	; 4
   0185 00                  410 	.db #0x00	; 0
   0186r00r00               411 	.dw _g_bala_enemiga
   0188r00r00               412 	.dw _g_bala_enemiga
   018Ar00r00               413 	.dw _g_bala_enemiga
   018Cr00r00               414 	.dw _g_bala_enemiga
   018E 02                  415 	.db #0x02	; 2
   018F 04                  416 	.db #0x04	; 4
   0190 00                  417 	.db #0x00	; 0
   0191 02                  418 	.db #0x02	; 2
   0192 00                  419 	.db #0x00	; 0
   0193 00                  420 	.db #0x00	; 0
   0194 02                  421 	.db #0x02	; 2
   0195 04                  422 	.db #0x04	; 4
   0196 00                  423 	.db #0x00	; 0
   0197 00                  424 	.db #0x00	; 0
   0198 00                  425 	.db #0x00	; 0
   0199 00                  426 	.db #0x00	; 0
   019A 00                  427 	.db #0x00	; 0
   019B 00                  428 	.db #0x00	; 0
   019C 00 00               429 	.dw #0x0000
   019E 23 00               430 	.dw #0x0023
   01A0 78 00               431 	.dw #0x0078
   01A2 23 00               432 	.dw #0x0023
   01A4 78 00               433 	.dw #0x0078
   01A6 01                  434 	.db #0x01	; 1
   01A7 02                  435 	.db #0x02	; 2
   01A8 01                  436 	.db #0x01	; 1
   01A9r00r00               437 	.dw _g_naveEnemiga3_0
   01ABr00r00               438 	.dw _g_naveEnemiga3_1
   01ADr00r00               439 	.dw _g_naveEnemiga3_2
   01AFr00r00               440 	.dw _g_naveEnemiga3_3
   01B1 04                  441 	.db #0x04	; 4
   01B2 08                  442 	.db #0x08	; 8
   01B3 00                  443 	.db #0x00	; 0
   01B4 00                  444 	.db #0x00	; 0
   01B5 23                  445 	.db #0x23	; 35
   01B6 78                  446 	.db #0x78	; 120	'x'
   01B7 04                  447 	.db #0x04	; 4
   01B8 08                  448 	.db #0x08	; 8
   01B9 01                  449 	.db #0x01	; 1
   01BA 00                  450 	.db #0x00	; 0
   01BB 00                  451 	.db #0x00	; 0
   01BC 00                  452 	.db #0x00	; 0
   01BD 00                  453 	.db #0x00	; 0
   01BE 00                  454 	.db #0x00	; 0
   01BF 00 00               455 	.dw #0x0000
   01C1 00                  456 	.db #0x00	; 0
   01C2 00                  457 	.db #0x00	; 0
   01C3 01                  458 	.db #0x01	; 1
   01C4 00                  459 	.db #0x00	; 0
   01C5 00                  460 	.db #0x00	; 0
   01C6                     461 _bases:
   01C6 01                  462 	.db #0x01	; 1
   01C7 64                  463 	.db #0x64	; 100	'd'
   01C8 C8                  464 	.db #0xC8	; 200
   01C9 00                  465 	.db #0x00	; 0
   01CA 30 00               466 	.dw #0x0030
   01CC 9C 00               467 	.dw #0x009C
   01CE 30 00               468 	.dw #0x0030
   01D0 9C 00               469 	.dw #0x009C
   01D2 00                  470 	.db #0x00	; 0
   01D3 00                  471 	.db #0x00	; 0
   01D4 01                  472 	.db #0x01	; 1
   01D5 00 00               473 	.dw #0x0000
   01D7 00 00               474 	.dw #0x0000
   01D9 00 00               475 	.dw #0x0000
   01DB 00 00               476 	.dw #0x0000
   01DD 08                  477 	.db #0x08	; 8
   01DE 14                  478 	.db #0x14	; 20
   01DF 00                  479 	.db #0x00	; 0
   01E0 03                  480 	.db #0x03	; 3
   01E1 30                  481 	.db #0x30	; 48	'0'
   01E2 9C                  482 	.db #0x9C	; 156
   01E3 08                  483 	.db #0x08	; 8
   01E4 14                  484 	.db #0x14	; 20
   01E5 01                  485 	.db #0x01	; 1
   01E6 00                  486 	.db #0x00	; 0
   01E7 00                  487 	.db #0x00	; 0
   01E8 00                  488 	.db #0x00	; 0
   01E9 00                  489 	.db #0x00	; 0
   01EA 00                  490 	.db #0x00	; 0
   01EB 00 00               491 	.dw #0x0000
   01ED 01                  492 	.db #0x01	; 1
   01EE 64                  493 	.db #0x64	; 100	'd'
   01EF E8                  494 	.db #0xE8	; 232
   01F0 00                  495 	.db #0x00	; 0
   01F1 2E 00               496 	.dw #0x002E
   01F3 64 00               497 	.dw #0x0064
   01F5 2E 00               498 	.dw #0x002E
   01F7 64 00               499 	.dw #0x0064
   01F9 00                  500 	.db #0x00	; 0
   01FA 00                  501 	.db #0x00	; 0
   01FB 01                  502 	.db #0x01	; 1
   01FC 00 00               503 	.dw #0x0000
   01FE 00 00               504 	.dw #0x0000
   0200 00 00               505 	.dw #0x0000
   0202 00 00               506 	.dw #0x0000
   0204 08                  507 	.db #0x08	; 8
   0205 14                  508 	.db #0x14	; 20
   0206 00                  509 	.db #0x00	; 0
   0207 03                  510 	.db #0x03	; 3
   0208 2E                  511 	.db #0x2E	; 46
   0209 64                  512 	.db #0x64	; 100	'd'
   020A 08                  513 	.db #0x08	; 8
   020B 14                  514 	.db #0x14	; 20
   020C 01                  515 	.db #0x01	; 1
   020D 01                  516 	.db #0x01	; 1
   020E 00                  517 	.db #0x00	; 0
   020F 00                  518 	.db #0x00	; 0
   0210 00                  519 	.db #0x00	; 0
   0211 00                  520 	.db #0x00	; 0
   0212 00 00               521 	.dw #0x0000
   0214 01                  522 	.db #0x01	; 1
   0215 64                  523 	.db #0x64	; 100	'd'
   0216 E8                  524 	.db #0xE8	; 232
   0217 00                  525 	.db #0x00	; 0
   0218 04 00               526 	.dw #0x0004
   021A 70 00               527 	.dw #0x0070
   021C 04 00               528 	.dw #0x0004
   021E 70 00               529 	.dw #0x0070
   0220 00                  530 	.db #0x00	; 0
   0221 00                  531 	.db #0x00	; 0
   0222 01                  532 	.db #0x01	; 1
   0223 00 00               533 	.dw #0x0000
   0225 00 00               534 	.dw #0x0000
   0227 00 00               535 	.dw #0x0000
   0229 00 00               536 	.dw #0x0000
   022B 08                  537 	.db #0x08	; 8
   022C 14                  538 	.db #0x14	; 20
   022D 00                  539 	.db #0x00	; 0
   022E 03                  540 	.db #0x03	; 3
   022F 04                  541 	.db #0x04	; 4
   0230 70                  542 	.db #0x70	; 112	'p'
   0231 08                  543 	.db #0x08	; 8
   0232 14                  544 	.db #0x14	; 20
   0233 01                  545 	.db #0x01	; 1
   0234 02                  546 	.db #0x02	; 2
   0235 00                  547 	.db #0x00	; 0
   0236 00                  548 	.db #0x00	; 0
   0237 00                  549 	.db #0x00	; 0
   0238 00                  550 	.db #0x00	; 0
   0239 00 00               551 	.dw #0x0000
   023B 01                  552 	.db #0x01	; 1
   023C 64                  553 	.db #0x64	; 100	'd'
   023D E8                  554 	.db #0xE8	; 232
   023E 00                  555 	.db #0x00	; 0
   023F 44 00               556 	.dw #0x0044
   0241 88 00               557 	.dw #0x0088
   0243 88 00               558 	.dw #0x0088
   0245 88 00               559 	.dw #0x0088
   0247 00                  560 	.db #0x00	; 0
   0248 00                  561 	.db #0x00	; 0
   0249 01                  562 	.db #0x01	; 1
   024A 00 00               563 	.dw #0x0000
   024C 00 00               564 	.dw #0x0000
   024E 00 00               565 	.dw #0x0000
   0250 00 00               566 	.dw #0x0000
   0252 08                  567 	.db #0x08	; 8
   0253 14                  568 	.db #0x14	; 20
   0254 00                  569 	.db #0x00	; 0
   0255 03                  570 	.db #0x03	; 3
   0256 44                  571 	.db #0x44	; 68	'D'
   0257 88                  572 	.db #0x88	; 136
   0258 08                  573 	.db #0x08	; 8
   0259 14                  574 	.db #0x14	; 20
   025A 01                  575 	.db #0x01	; 1
   025B 03                  576 	.db #0x03	; 3
   025C 00                  577 	.db #0x00	; 0
   025D 00                  578 	.db #0x00	; 0
   025E 00                  579 	.db #0x00	; 0
   025F 00                  580 	.db #0x00	; 0
   0260 00 00               581 	.dw #0x0000
   0262 01                  582 	.db #0x01	; 1
   0263 64                  583 	.db #0x64	; 100	'd'
   0264 E8                  584 	.db #0xE8	; 232
   0265 00                  585 	.db #0x00	; 0
   0266 04 00               586 	.dw #0x0004
   0268 44 00               587 	.dw #0x0044
   026A 04 00               588 	.dw #0x0004
   026C 44 00               589 	.dw #0x0044
   026E 00                  590 	.db #0x00	; 0
   026F 00                  591 	.db #0x00	; 0
   0270 01                  592 	.db #0x01	; 1
   0271 00 00               593 	.dw #0x0000
   0273 00 00               594 	.dw #0x0000
   0275 00 00               595 	.dw #0x0000
   0277 00 00               596 	.dw #0x0000
   0279 08                  597 	.db #0x08	; 8
   027A 14                  598 	.db #0x14	; 20
   027B 00                  599 	.db #0x00	; 0
   027C 03                  600 	.db #0x03	; 3
   027D 04                  601 	.db #0x04	; 4
   027E 44                  602 	.db #0x44	; 68	'D'
   027F 08                  603 	.db #0x08	; 8
   0280 14                  604 	.db #0x14	; 20
   0281 01                  605 	.db #0x01	; 1
   0282 04                  606 	.db #0x04	; 4
   0283 00                  607 	.db #0x00	; 0
   0284 00                  608 	.db #0x00	; 0
   0285 00                  609 	.db #0x00	; 0
   0286 00                  610 	.db #0x00	; 0
   0287 00 00               611 	.dw #0x0000
   0289 01                  612 	.db #0x01	; 1
   028A 64                  613 	.db #0x64	; 100	'd'
   028B E8                  614 	.db #0xE8	; 232
   028C 00                  615 	.db #0x00	; 0
   028D 44 00               616 	.dw #0x0044
   028F 68 00               617 	.dw #0x0068
   0291 44 00               618 	.dw #0x0044
   0293 68 00               619 	.dw #0x0068
   0295 00                  620 	.db #0x00	; 0
   0296 00                  621 	.db #0x00	; 0
   0297 01                  622 	.db #0x01	; 1
   0298 00 00               623 	.dw #0x0000
   029A 00 00               624 	.dw #0x0000
   029C 00 00               625 	.dw #0x0000
   029E 00 00               626 	.dw #0x0000
   02A0 08                  627 	.db #0x08	; 8
   02A1 14                  628 	.db #0x14	; 20
   02A2 00                  629 	.db #0x00	; 0
   02A3 03                  630 	.db #0x03	; 3
   02A4 44                  631 	.db #0x44	; 68	'D'
   02A5 68                  632 	.db #0x68	; 104	'h'
   02A6 08                  633 	.db #0x08	; 8
   02A7 14                  634 	.db #0x14	; 20
   02A8 01                  635 	.db #0x01	; 1
   02A9 05                  636 	.db #0x05	; 5
   02AA 00                  637 	.db #0x00	; 0
   02AB 00                  638 	.db #0x00	; 0
   02AC 00                  639 	.db #0x00	; 0
   02AD 00                  640 	.db #0x00	; 0
   02AE 00 00               641 	.dw #0x0000
   02B0                     642 _puntos:
   02B0 28                  643 	.db #0x28	; 40
   02B1 3C                  644 	.db #0x3C	; 60
   02B2 28                  645 	.db #0x28	; 40
   02B3 B9                  646 	.db #0xB9	; 185
   02B4 41                  647 	.db #0x41	; 65	'A'
   02B5 64                  648 	.db #0x64	; 100	'd'
   02B6 0A                  649 	.db #0x0A	; 10
   02B7 64                  650 	.db #0x64	; 100	'd'
                            651 ;src/entities/entities.c:466: TPlayerDirection accion(TEntity* ent, TPlayerStatus action, TPlayerDirection dir){
                            652 ;	---------------------------------
                            653 ; Function accion
                            654 ; ---------------------------------
   02B8                     655 _accion::
   02B8 DD E5         [15]  656 	push	ix
   02BA DD 21 00 00   [14]  657 	ld	ix,#0
   02BE DD 39         [15]  658 	add	ix,sp
   02C0 3B            [ 6]  659 	dec	sp
                            660 ;src/entities/entities.c:468: switch(action){
   02C1 DD 7E 06      [19]  661 	ld	a,6 (ix)
   02C4 3D            [ 4]  662 	dec	a
   02C5 C2r65r03      [10]  663 	jp	NZ,00107$
                            664 ;src/entities/entities.c:470: switch(dir){
   02C8 3E 03         [ 7]  665 	ld	a,#0x03
   02CA DD 96 07      [19]  666 	sub	a, 7 (ix)
   02CD DAr65r03      [10]  667 	jp	C,00107$
   02D0 DD 5E 07      [19]  668 	ld	e,7 (ix)
   02D3 16 00         [ 7]  669 	ld	d,#0x00
   02D5 21rDBr02      [10]  670 	ld	hl,#00120$
   02D8 19            [11]  671 	add	hl,de
   02D9 19            [11]  672 	add	hl,de
                            673 ;src/entities/entities.c:471: case d_up:
   02DA E9            [ 4]  674 	jp	(hl)
   02DB                     675 00120$:
   02DB 18 06         [12]  676 	jr	00102$
   02DD 18 67         [12]  677 	jr	00105$
   02DF 18 23         [12]  678 	jr	00103$
   02E1 18 42         [12]  679 	jr	00104$
   02E3                     680 00102$:
                            681 ;src/entities/entities.c:472: collision = moverArriba(ent);
   02E3 DD 6E 04      [19]  682 	ld	l,4 (ix)
   02E6 DD 66 05      [19]  683 	ld	h,5 (ix)
   02E9 E5            [11]  684 	push	hl
   02EA CDr86r03      [17]  685 	call	_moverArriba
   02ED F1            [10]  686 	pop	af
   02EE 4D            [ 4]  687 	ld	c,l
                            688 ;src/entities/entities.c:473: flipSprite(ent,dir);
   02EF C5            [11]  689 	push	bc
   02F0 DD 7E 07      [19]  690 	ld	a,7 (ix)
   02F3 F5            [11]  691 	push	af
   02F4 33            [ 6]  692 	inc	sp
   02F5 DD 6E 04      [19]  693 	ld	l,4 (ix)
   02F8 DD 66 05      [19]  694 	ld	h,5 (ix)
   02FB E5            [11]  695 	push	hl
   02FC CDr6Ar03      [17]  696 	call	_flipSprite
   02FF F1            [10]  697 	pop	af
   0300 33            [ 6]  698 	inc	sp
   0301 C1            [10]  699 	pop	bc
                            700 ;src/entities/entities.c:474: break;
   0302 18 61         [12]  701 	jr	00107$
                            702 ;src/entities/entities.c:475: case d_down:
   0304                     703 00103$:
                            704 ;src/entities/entities.c:476: collision = moverAbajo(ent);
   0304 DD 6E 04      [19]  705 	ld	l,4 (ix)
   0307 DD 66 05      [19]  706 	ld	h,5 (ix)
   030A E5            [11]  707 	push	hl
   030B CDrE7r03      [17]  708 	call	_moverAbajo
   030E F1            [10]  709 	pop	af
   030F 4D            [ 4]  710 	ld	c,l
                            711 ;src/entities/entities.c:477: flipSprite(ent,dir);
   0310 C5            [11]  712 	push	bc
   0311 DD 7E 07      [19]  713 	ld	a,7 (ix)
   0314 F5            [11]  714 	push	af
   0315 33            [ 6]  715 	inc	sp
   0316 DD 6E 04      [19]  716 	ld	l,4 (ix)
   0319 DD 66 05      [19]  717 	ld	h,5 (ix)
   031C E5            [11]  718 	push	hl
   031D CDr6Ar03      [17]  719 	call	_flipSprite
   0320 F1            [10]  720 	pop	af
   0321 33            [ 6]  721 	inc	sp
   0322 C1            [10]  722 	pop	bc
                            723 ;src/entities/entities.c:478: break;
   0323 18 40         [12]  724 	jr	00107$
                            725 ;src/entities/entities.c:479: case d_left:
   0325                     726 00104$:
                            727 ;src/entities/entities.c:480: collision = moverIzquierda(ent);
   0325 DD 6E 04      [19]  728 	ld	l,4 (ix)
   0328 DD 66 05      [19]  729 	ld	h,5 (ix)
   032B E5            [11]  730 	push	hl
   032C CDr8Ar04      [17]  731 	call	_moverIzquierda
   032F F1            [10]  732 	pop	af
   0330 4D            [ 4]  733 	ld	c,l
                            734 ;src/entities/entities.c:481: flipSprite(ent,dir);
   0331 C5            [11]  735 	push	bc
   0332 DD 7E 07      [19]  736 	ld	a,7 (ix)
   0335 F5            [11]  737 	push	af
   0336 33            [ 6]  738 	inc	sp
   0337 DD 6E 04      [19]  739 	ld	l,4 (ix)
   033A DD 66 05      [19]  740 	ld	h,5 (ix)
   033D E5            [11]  741 	push	hl
   033E CDr6Ar03      [17]  742 	call	_flipSprite
   0341 F1            [10]  743 	pop	af
   0342 33            [ 6]  744 	inc	sp
   0343 C1            [10]  745 	pop	bc
                            746 ;src/entities/entities.c:482: break;
   0344 18 1F         [12]  747 	jr	00107$
                            748 ;src/entities/entities.c:483: case d_right:
   0346                     749 00105$:
                            750 ;src/entities/entities.c:484: collision = moverDerecha(ent);
   0346 DD 6E 04      [19]  751 	ld	l,4 (ix)
   0349 DD 66 05      [19]  752 	ld	h,5 (ix)
   034C E5            [11]  753 	push	hl
   034D CDrD7r04      [17]  754 	call	_moverDerecha
   0350 F1            [10]  755 	pop	af
   0351 4D            [ 4]  756 	ld	c,l
                            757 ;src/entities/entities.c:485: flipSprite(ent,dir);
   0352 C5            [11]  758 	push	bc
   0353 DD 7E 07      [19]  759 	ld	a,7 (ix)
   0356 F5            [11]  760 	push	af
   0357 33            [ 6]  761 	inc	sp
   0358 DD 6E 04      [19]  762 	ld	l,4 (ix)
   035B DD 66 05      [19]  763 	ld	h,5 (ix)
   035E E5            [11]  764 	push	hl
   035F CDr6Ar03      [17]  765 	call	_flipSprite
   0362 F1            [10]  766 	pop	af
   0363 33            [ 6]  767 	inc	sp
   0364 C1            [10]  768 	pop	bc
                            769 ;src/entities/entities.c:490: }
   0365                     770 00107$:
                            771 ;src/entities/entities.c:491: return collision;
   0365 69            [ 4]  772 	ld	l,c
   0366 33            [ 6]  773 	inc	sp
   0367 DD E1         [14]  774 	pop	ix
   0369 C9            [10]  775 	ret
                            776 ;src/entities/entities.c:495: void flipSprite(TEntity* ent, TPlayerDirection dir){
                            777 ;	---------------------------------
                            778 ; Function flipSprite
                            779 ; ---------------------------------
   036A                     780 _flipSprite::
                            781 ;src/entities/entities.c:496: if(ent->curr_dir != dir){
   036A D1            [10]  782 	pop	de
   036B C1            [10]  783 	pop	bc
   036C C5            [11]  784 	push	bc
   036D D5            [11]  785 	push	de
   036E 21 15 00      [10]  786 	ld	hl,#0x0015
   0371 09            [11]  787 	add	hl,bc
   0372 4D            [ 4]  788 	ld	c,l
   0373 44            [ 4]  789 	ld	b,h
   0374 0A            [ 7]  790 	ld	a,(bc)
   0375 5F            [ 4]  791 	ld	e,a
   0376 FD 21 04 00   [14]  792 	ld	iy,#4
   037A FD 39         [15]  793 	add	iy,sp
   037C FD 7E 00      [19]  794 	ld	a,0 (iy)
   037F 93            [ 4]  795 	sub	a, e
   0380 C8            [11]  796 	ret	Z
                            797 ;src/entities/entities.c:497: ent->curr_dir = dir; 
   0381 FD 7E 00      [19]  798 	ld	a,0 (iy)
   0384 02            [ 7]  799 	ld	(bc),a
   0385 C9            [10]  800 	ret
                            801 ;src/entities/entities.c:501: TPlayerDirection moverArriba(TEntity* ent){
                            802 ;	---------------------------------
                            803 ; Function moverArriba
                            804 ; ---------------------------------
   0386                     805 _moverArriba::
   0386 DD E5         [15]  806 	push	ix
   0388 DD 21 00 00   [14]  807 	ld	ix,#0
   038C DD 39         [15]  808 	add	ix,sp
   038E F5            [11]  809 	push	af
                            810 ;src/entities/entities.c:504: ent->y -= ent->vy;
   038F DD 4E 04      [19]  811 	ld	c,4 (ix)
   0392 DD 46 05      [19]  812 	ld	b,5 (ix)
   0395 21 02 00      [10]  813 	ld	hl,#0x0002
   0398 09            [11]  814 	add	hl,bc
   0399 E3            [19]  815 	ex	(sp), hl
   039A E1            [10]  816 	pop	hl
   039B E5            [11]  817 	push	hl
   039C 5E            [ 7]  818 	ld	e,(hl)
   039D 23            [ 6]  819 	inc	hl
   039E 56            [ 7]  820 	ld	d,(hl)
   039F C5            [11]  821 	push	bc
   03A0 FD E1         [14]  822 	pop	iy
   03A2 FD 6E 09      [19]  823 	ld	l,9 (iy)
   03A5 26 00         [ 7]  824 	ld	h,#0x00
   03A7 7B            [ 4]  825 	ld	a,e
   03A8 95            [ 4]  826 	sub	a, l
   03A9 5F            [ 4]  827 	ld	e,a
   03AA 7A            [ 4]  828 	ld	a,d
   03AB 9C            [ 4]  829 	sbc	a, h
   03AC 57            [ 4]  830 	ld	d,a
   03AD E1            [10]  831 	pop	hl
   03AE E5            [11]  832 	push	hl
   03AF 73            [ 7]  833 	ld	(hl),e
   03B0 23            [ 6]  834 	inc	hl
   03B1 72            [ 7]  835 	ld	(hl),d
                            836 ;src/entities/entities.c:505: if(MAX(ORIGEN_MAPA_Y, ent->y) == ORIGEN_MAPA_Y){
   03B2 E1            [10]  837 	pop	hl
   03B3 E5            [11]  838 	push	hl
   03B4 7E            [ 7]  839 	ld	a, (hl)
   03B5 23            [ 6]  840 	inc	hl
   03B6 66            [ 7]  841 	ld	h,(hl)
   03B7 6F            [ 4]  842 	ld	l,a
   03B8 7B            [ 4]  843 	ld	a,e
   03B9 D6 28         [ 7]  844 	sub	a, #0x28
   03BB 7A            [ 4]  845 	ld	a,d
   03BC 17            [ 4]  846 	rla
   03BD 3F            [ 4]  847 	ccf
   03BE 1F            [ 4]  848 	rra
   03BF DE 80         [ 7]  849 	sbc	a, #0x80
   03C1 30 03         [12]  850 	jr	NC,00106$
   03C3 21 28 00      [10]  851 	ld	hl,#0x0028
   03C6                     852 00106$:
   03C6 7D            [ 4]  853 	ld	a,l
   03C7 D6 28         [ 7]  854 	sub	a,#0x28
   03C9 20 0E         [12]  855 	jr	NZ,00102$
   03CB B4            [ 4]  856 	or	a,h
   03CC 20 0B         [12]  857 	jr	NZ,00102$
                            858 ;src/entities/entities.c:506: ent->y = ORIGEN_MAPA_Y;
   03CE E1            [10]  859 	pop	hl
   03CF E5            [11]  860 	push	hl
   03D0 36 28         [10]  861 	ld	(hl),#0x28
   03D2 23            [ 6]  862 	inc	hl
   03D3 36 00         [10]  863 	ld	(hl),#0x00
                            864 ;src/entities/entities.c:508: collision = d_up;
   03D5 1E 00         [ 7]  865 	ld	e,#0x00
   03D7 18 02         [12]  866 	jr	00103$
   03D9                     867 00102$:
                            868 ;src/entities/entities.c:510: collision = d_nothing;
   03D9 1E 04         [ 7]  869 	ld	e,#0x04
   03DB                     870 00103$:
                            871 ;src/entities/entities.c:513: ent->draw  = SI;
   03DB 21 0A 00      [10]  872 	ld	hl,#0x000A
   03DE 09            [11]  873 	add	hl,bc
   03DF 36 01         [10]  874 	ld	(hl),#0x01
                            875 ;src/entities/entities.c:515: return collision;
   03E1 6B            [ 4]  876 	ld	l,e
   03E2 DD F9         [10]  877 	ld	sp, ix
   03E4 DD E1         [14]  878 	pop	ix
   03E6 C9            [10]  879 	ret
                            880 ;src/entities/entities.c:518: TPlayerDirection moverAbajo(TEntity* ent){
                            881 ;	---------------------------------
                            882 ; Function moverAbajo
                            883 ; ---------------------------------
   03E7                     884 _moverAbajo::
   03E7 DD E5         [15]  885 	push	ix
   03E9 DD 21 00 00   [14]  886 	ld	ix,#0
   03ED DD 39         [15]  887 	add	ix,sp
   03EF 21 FA FF      [10]  888 	ld	hl,#-6
   03F2 39            [11]  889 	add	hl,sp
   03F3 F9            [ 6]  890 	ld	sp,hl
                            891 ;src/entities/entities.c:521: ent->y += ent->vy;
   03F4 DD 4E 04      [19]  892 	ld	c,4 (ix)
   03F7 DD 46 05      [19]  893 	ld	b,5 (ix)
   03FA 21 02 00      [10]  894 	ld	hl,#0x0002
   03FD 09            [11]  895 	add	hl,bc
   03FE DD 75 FC      [19]  896 	ld	-4 (ix),l
   0401 DD 74 FD      [19]  897 	ld	-3 (ix),h
   0404 DD 6E FC      [19]  898 	ld	l,-4 (ix)
   0407 DD 66 FD      [19]  899 	ld	h,-3 (ix)
   040A 5E            [ 7]  900 	ld	e,(hl)
   040B 23            [ 6]  901 	inc	hl
   040C 56            [ 7]  902 	ld	d,(hl)
   040D C5            [11]  903 	push	bc
   040E FD E1         [14]  904 	pop	iy
   0410 FD 6E 09      [19]  905 	ld	l,9 (iy)
   0413 26 00         [ 7]  906 	ld	h,#0x00
   0415 19            [11]  907 	add	hl,de
   0416 EB            [ 4]  908 	ex	de,hl
   0417 DD 6E FC      [19]  909 	ld	l,-4 (ix)
   041A DD 66 FD      [19]  910 	ld	h,-3 (ix)
   041D 73            [ 7]  911 	ld	(hl),e
   041E 23            [ 6]  912 	inc	hl
   041F 72            [ 7]  913 	ld	(hl),d
   0420 DD 6E FC      [19]  914 	ld	l,-4 (ix)
   0423 DD 66 FD      [19]  915 	ld	h,-3 (ix)
   0426 7E            [ 7]  916 	ld	a,(hl)
   0427 DD 77 FA      [19]  917 	ld	-6 (ix),a
   042A 23            [ 6]  918 	inc	hl
   042B 7E            [ 7]  919 	ld	a,(hl)
   042C DD 77 FB      [19]  920 	ld	-5 (ix),a
                            921 ;src/entities/entities.c:522: if(MIN(ent->y, ALTO - ent->sh) != ent->y){
   042F C5            [11]  922 	push	bc
   0430 FD E1         [14]  923 	pop	iy
   0432 FD 6E 14      [19]  924 	ld	l,20 (iy)
   0435 26 00         [ 7]  925 	ld	h,#0x00
   0437 3E C8         [ 7]  926 	ld	a,#0xC8
   0439 95            [ 4]  927 	sub	a, l
   043A DD 77 FE      [19]  928 	ld	-2 (ix),a
   043D 3E 00         [ 7]  929 	ld	a,#0x00
   043F 9C            [ 4]  930 	sbc	a, h
   0440 DD 77 FF      [19]  931 	ld	-1 (ix),a
   0443 7B            [ 4]  932 	ld	a,e
   0444 DD 96 FE      [19]  933 	sub	a, -2 (ix)
   0447 7A            [ 4]  934 	ld	a,d
   0448 DD 9E FF      [19]  935 	sbc	a, -1 (ix)
   044B E2r50r04      [10]  936 	jp	PO, 00116$
   044E EE 80         [ 7]  937 	xor	a, #0x80
   0450                     938 00116$:
   0450 F2r57r04      [10]  939 	jp	P,00106$
   0453 D1            [10]  940 	pop	de
   0454 D5            [11]  941 	push	de
   0455 18 06         [12]  942 	jr	00107$
   0457                     943 00106$:
   0457 DD 5E FE      [19]  944 	ld	e,-2 (ix)
   045A DD 56 FF      [19]  945 	ld	d,-1 (ix)
   045D                     946 00107$:
   045D DD 7E FA      [19]  947 	ld	a,-6 (ix)
   0460 93            [ 4]  948 	sub	a, e
   0461 20 06         [12]  949 	jr	NZ,00117$
   0463 DD 7E FB      [19]  950 	ld	a,-5 (ix)
   0466 92            [ 4]  951 	sub	a, d
   0467 28 13         [12]  952 	jr	Z,00102$
   0469                     953 00117$:
                            954 ;src/entities/entities.c:523: ent->y = ALTO - ent->sh;
   0469 DD 6E FC      [19]  955 	ld	l,-4 (ix)
   046C DD 66 FD      [19]  956 	ld	h,-3 (ix)
   046F DD 7E FE      [19]  957 	ld	a,-2 (ix)
   0472 77            [ 7]  958 	ld	(hl),a
   0473 23            [ 6]  959 	inc	hl
   0474 DD 7E FF      [19]  960 	ld	a,-1 (ix)
   0477 77            [ 7]  961 	ld	(hl),a
                            962 ;src/entities/entities.c:524: collision =  d_down;
   0478 1E 02         [ 7]  963 	ld	e,#0x02
   047A 18 02         [12]  964 	jr	00103$
   047C                     965 00102$:
                            966 ;src/entities/entities.c:526: collision = d_nothing;
   047C 1E 04         [ 7]  967 	ld	e,#0x04
   047E                     968 00103$:
                            969 ;src/entities/entities.c:529: ent->draw  = SI;
   047E 21 0A 00      [10]  970 	ld	hl,#0x000A
   0481 09            [11]  971 	add	hl,bc
   0482 36 01         [10]  972 	ld	(hl),#0x01
                            973 ;src/entities/entities.c:531: return collision;
   0484 6B            [ 4]  974 	ld	l,e
   0485 DD F9         [10]  975 	ld	sp, ix
   0487 DD E1         [14]  976 	pop	ix
   0489 C9            [10]  977 	ret
                            978 ;src/entities/entities.c:534: TPlayerDirection moverIzquierda(TEntity* ent){
                            979 ;	---------------------------------
                            980 ; Function moverIzquierda
                            981 ; ---------------------------------
   048A                     982 _moverIzquierda::
   048A DD E5         [15]  983 	push	ix
   048C DD 21 00 00   [14]  984 	ld	ix,#0
   0490 DD 39         [15]  985 	add	ix,sp
                            986 ;src/entities/entities.c:537: ent->x -= ent->vx;
   0492 DD 4E 04      [19]  987 	ld	c,4 (ix)
   0495 DD 46 05      [19]  988 	ld	b,5 (ix)
   0498 69            [ 4]  989 	ld	l, c
   0499 60            [ 4]  990 	ld	h, b
   049A 5E            [ 7]  991 	ld	e,(hl)
   049B 23            [ 6]  992 	inc	hl
   049C 56            [ 7]  993 	ld	d,(hl)
   049D C5            [11]  994 	push	bc
   049E FD E1         [14]  995 	pop	iy
   04A0 FD 6E 08      [19]  996 	ld	l,8 (iy)
   04A3 26 00         [ 7]  997 	ld	h,#0x00
   04A5 7B            [ 4]  998 	ld	a,e
   04A6 95            [ 4]  999 	sub	a, l
   04A7 5F            [ 4] 1000 	ld	e,a
   04A8 7A            [ 4] 1001 	ld	a,d
   04A9 9C            [ 4] 1002 	sbc	a, h
   04AA 57            [ 4] 1003 	ld	d,a
   04AB 69            [ 4] 1004 	ld	l, c
   04AC 60            [ 4] 1005 	ld	h, b
   04AD 73            [ 7] 1006 	ld	(hl),e
   04AE 23            [ 6] 1007 	inc	hl
   04AF 72            [ 7] 1008 	ld	(hl),d
                           1009 ;src/entities/entities.c:538: if(MAX(0, ent->x) == 0){
   04B0 69            [ 4] 1010 	ld	l, c
   04B1 60            [ 4] 1011 	ld	h, b
   04B2 7E            [ 7] 1012 	ld	a, (hl)
   04B3 23            [ 6] 1013 	inc	hl
   04B4 66            [ 7] 1014 	ld	h,(hl)
   04B5 6F            [ 4] 1015 	ld	l,a
   04B6 CB 7A         [ 8] 1016 	bit	7, d
   04B8 28 03         [12] 1017 	jr	Z,00106$
   04BA 21 00 00      [10] 1018 	ld	hl,#0x0000
   04BD                    1019 00106$:
   04BD 7C            [ 4] 1020 	ld	a,h
   04BE B5            [ 4] 1021 	or	a,l
   04BF 20 0A         [12] 1022 	jr	NZ,00102$
                           1023 ;src/entities/entities.c:539: ent->x = 0;
   04C1 69            [ 4] 1024 	ld	l, c
   04C2 60            [ 4] 1025 	ld	h, b
   04C3 AF            [ 4] 1026 	xor	a, a
   04C4 77            [ 7] 1027 	ld	(hl), a
   04C5 23            [ 6] 1028 	inc	hl
   04C6 77            [ 7] 1029 	ld	(hl), a
                           1030 ;src/entities/entities.c:541: collision = d_left;
   04C7 1E 03         [ 7] 1031 	ld	e,#0x03
   04C9 18 02         [12] 1032 	jr	00103$
   04CB                    1033 00102$:
                           1034 ;src/entities/entities.c:543: collision = d_nothing;
   04CB 1E 04         [ 7] 1035 	ld	e,#0x04
   04CD                    1036 00103$:
                           1037 ;src/entities/entities.c:545: ent->draw  = SI;
   04CD 21 0A 00      [10] 1038 	ld	hl,#0x000A
   04D0 09            [11] 1039 	add	hl,bc
   04D1 36 01         [10] 1040 	ld	(hl),#0x01
                           1041 ;src/entities/entities.c:547: return collision;
   04D3 6B            [ 4] 1042 	ld	l,e
   04D4 DD E1         [14] 1043 	pop	ix
   04D6 C9            [10] 1044 	ret
                           1045 ;src/entities/entities.c:549: TPlayerDirection moverDerecha(TEntity* ent){
                           1046 ;	---------------------------------
                           1047 ; Function moverDerecha
                           1048 ; ---------------------------------
   04D7                    1049 _moverDerecha::
   04D7 DD E5         [15] 1050 	push	ix
   04D9 DD 21 00 00   [14] 1051 	ld	ix,#0
   04DD DD 39         [15] 1052 	add	ix,sp
   04DF F5            [11] 1053 	push	af
   04E0 F5            [11] 1054 	push	af
                           1055 ;src/entities/entities.c:552: ent->x += ent->vx;
   04E1 DD 4E 04      [19] 1056 	ld	c,4 (ix)
   04E4 DD 46 05      [19] 1057 	ld	b,5 (ix)
   04E7 69            [ 4] 1058 	ld	l, c
   04E8 60            [ 4] 1059 	ld	h, b
   04E9 5E            [ 7] 1060 	ld	e,(hl)
   04EA 23            [ 6] 1061 	inc	hl
   04EB 56            [ 7] 1062 	ld	d,(hl)
   04EC C5            [11] 1063 	push	bc
   04ED FD E1         [14] 1064 	pop	iy
   04EF FD 6E 08      [19] 1065 	ld	l,8 (iy)
   04F2 26 00         [ 7] 1066 	ld	h,#0x00
   04F4 19            [11] 1067 	add	hl,de
   04F5 EB            [ 4] 1068 	ex	de,hl
   04F6 69            [ 4] 1069 	ld	l, c
   04F7 60            [ 4] 1070 	ld	h, b
   04F8 73            [ 7] 1071 	ld	(hl),e
   04F9 23            [ 6] 1072 	inc	hl
   04FA 72            [ 7] 1073 	ld	(hl),d
                           1074 ;src/entities/entities.c:553: if(MIN(ent->x, ANCHO - ent->sw) != ent->x){
   04FB 0A            [ 7] 1075 	ld	a,(bc)
   04FC DD 77 FE      [19] 1076 	ld	-2 (ix),a
   04FF 03            [ 6] 1077 	inc	bc
   0500 0A            [ 7] 1078 	ld	a,(bc)
   0501 DD 77 FF      [19] 1079 	ld	-1 (ix),a
   0504 0B            [ 6] 1080 	dec	bc
   0505 C5            [11] 1081 	push	bc
   0506 FD E1         [14] 1082 	pop	iy
   0508 FD 6E 13      [19] 1083 	ld	l,19 (iy)
   050B 26 00         [ 7] 1084 	ld	h,#0x00
   050D 3E 50         [ 7] 1085 	ld	a,#0x50
   050F 95            [ 4] 1086 	sub	a, l
   0510 DD 77 FC      [19] 1087 	ld	-4 (ix),a
   0513 3E 00         [ 7] 1088 	ld	a,#0x00
   0515 9C            [ 4] 1089 	sbc	a, h
   0516 DD 77 FD      [19] 1090 	ld	-3 (ix),a
   0519 7B            [ 4] 1091 	ld	a,e
   051A DD 96 FC      [19] 1092 	sub	a, -4 (ix)
   051D 7A            [ 4] 1093 	ld	a,d
   051E DD 9E FD      [19] 1094 	sbc	a, -3 (ix)
   0521 E2r26r05      [10] 1095 	jp	PO, 00116$
   0524 EE 80         [ 7] 1096 	xor	a, #0x80
   0526                    1097 00116$:
   0526 F2r31r05      [10] 1098 	jp	P,00106$
   0529 DD 5E FE      [19] 1099 	ld	e,-2 (ix)
   052C DD 56 FF      [19] 1100 	ld	d,-1 (ix)
   052F 18 02         [12] 1101 	jr	00107$
   0531                    1102 00106$:
   0531 D1            [10] 1103 	pop	de
   0532 D5            [11] 1104 	push	de
   0533                    1105 00107$:
   0533 DD 7E FE      [19] 1106 	ld	a,-2 (ix)
   0536 93            [ 4] 1107 	sub	a, e
   0537 20 06         [12] 1108 	jr	NZ,00117$
   0539 DD 7E FF      [19] 1109 	ld	a,-1 (ix)
   053C 92            [ 4] 1110 	sub	a, d
   053D 28 0F         [12] 1111 	jr	Z,00102$
   053F                    1112 00117$:
                           1113 ;src/entities/entities.c:555: ent->x = ANCHO - ent->sw;
   053F 69            [ 4] 1114 	ld	l, c
   0540 60            [ 4] 1115 	ld	h, b
   0541 DD 7E FC      [19] 1116 	ld	a,-4 (ix)
   0544 77            [ 7] 1117 	ld	(hl),a
   0545 23            [ 6] 1118 	inc	hl
   0546 DD 7E FD      [19] 1119 	ld	a,-3 (ix)
   0549 77            [ 7] 1120 	ld	(hl),a
                           1121 ;src/entities/entities.c:556: collision = d_right;
   054A 1E 01         [ 7] 1122 	ld	e,#0x01
   054C 18 02         [12] 1123 	jr	00103$
   054E                    1124 00102$:
                           1125 ;src/entities/entities.c:558: collision = d_nothing;
   054E 1E 04         [ 7] 1126 	ld	e,#0x04
   0550                    1127 00103$:
                           1128 ;src/entities/entities.c:561: ent->draw  = SI;
   0550 21 0A 00      [10] 1129 	ld	hl,#0x000A
   0553 09            [11] 1130 	add	hl,bc
   0554 36 01         [10] 1131 	ld	(hl),#0x01
                           1132 ;src/entities/entities.c:563: return collision;
   0556 6B            [ 4] 1133 	ld	l,e
   0557 DD F9         [10] 1134 	ld	sp, ix
   0559 DD E1         [14] 1135 	pop	ix
   055B C9            [10] 1136 	ret
                           1137 ;src/entities/entities.c:567: void updatePlayer(TPlayer* player){
                           1138 ;	---------------------------------
                           1139 ; Function updatePlayer
                           1140 ; ---------------------------------
   055C                    1141 _updatePlayer::
                           1142 ;src/entities/entities.c:568: if(previousMap == mapaActual){
   055C 3Ar00r00      [13] 1143 	ld	a,(#_previousMap + 0)
   055F FD 21r00r00   [14] 1144 	ld	iy,#_mapaActual
   0563 FD 96 00      [19] 1145 	sub	a, 0 (iy)
   0566 20 05         [12] 1146 	jr	NZ,00102$
                           1147 ;src/entities/entities.c:570: updateTiempoEnMapa();
   0568 CDr00r00      [17] 1148 	call	_updateTiempoEnMapa
   056B 18 09         [12] 1149 	jr	00103$
   056D                    1150 00102$:
                           1151 ;src/entities/entities.c:572: previousMap = mapaActual;
   056D 3Ar00r00      [13] 1152 	ld	a,(#_mapaActual + 0)
   0570 32r00r00      [13] 1153 	ld	(#_previousMap + 0),a
                           1154 ;src/entities/entities.c:573: resetearTimepoEnMapa();
   0573 CDr00r00      [17] 1155 	call	_resetearTimepoEnMapa
   0576                    1156 00103$:
                           1157 ;src/entities/entities.c:576: updateBullet(&player->bullet);
   0576 D1            [10] 1158 	pop	de
   0577 C1            [10] 1159 	pop	bc
   0578 C5            [11] 1160 	push	bc
   0579 D5            [11] 1161 	push	de
   057A C5            [11] 1162 	push	bc
   057B CDr0Cr07      [17] 1163 	call	_updateBullet
   057E F1            [10] 1164 	pop	af
   057F C9            [10] 1165 	ret
                           1166 ;src/entities/entities.c:580: void corregirPosicion(TBullet* bullet, u8 x, u8 y, TPlayerDirection dir){
                           1167 ;	---------------------------------
                           1168 ; Function corregirPosicion
                           1169 ; ---------------------------------
   0580                    1170 _corregirPosicion::
   0580 DD E5         [15] 1171 	push	ix
   0582 DD 21 00 00   [14] 1172 	ld	ix,#0
   0586 DD 39         [15] 1173 	add	ix,sp
                           1174 ;src/entities/entities.c:591: x = ANCHO - bullet->ent.sw;
   0588 DD 4E 04      [19] 1175 	ld	c,4 (ix)
   058B DD 46 05      [19] 1176 	ld	b,5 (ix)
                           1177 ;src/entities/entities.c:581: switch(dir){
   058E 3E 03         [ 7] 1178 	ld	a,#0x03
   0590 DD 96 08      [19] 1179 	sub	a, 8 (ix)
   0593 DAr47r06      [10] 1180 	jp	C,00115$
                           1181 ;src/entities/entities.c:583: x+=2;
   0596 DD 5E 06      [19] 1182 	ld	e,6 (ix)
   0599 1C            [ 4] 1183 	inc	e
   059A 1C            [ 4] 1184 	inc	e
                           1185 ;src/entities/entities.c:581: switch(dir){
   059B D5            [11] 1186 	push	de
   059C DD 5E 08      [19] 1187 	ld	e,8 (ix)
   059F 16 00         [ 7] 1188 	ld	d,#0x00
   05A1 21rA8r05      [10] 1189 	ld	hl,#00138$
   05A4 19            [11] 1190 	add	hl,de
   05A5 19            [11] 1191 	add	hl,de
                           1192 ;src/entities/entities.c:582: case d_up:
   05A6 D1            [10] 1193 	pop	de
   05A7 E9            [ 4] 1194 	jp	(hl)
   05A8                    1195 00138$:
   05A8 18 06         [12] 1196 	jr	00101$
   05AA 18 1A         [12] 1197 	jr	00104$
   05AC 18 67         [12] 1198 	jr	00111$
   05AE 18 4E         [12] 1199 	jr	00108$
   05B0                    1200 00101$:
                           1201 ;src/entities/entities.c:583: x+=2;
   05B0 DD 73 06      [19] 1202 	ld	6 (ix),e
                           1203 ;src/entities/entities.c:584: if(y >= ORIGEN_MAPA_Y + 7 )
   05B3 DD 7E 07      [19] 1204 	ld	a,7 (ix)
   05B6 D6 2F         [ 7] 1205 	sub	a, #0x2F
   05B8 DAr47r06      [10] 1206 	jp	C,00115$
                           1207 ;src/entities/entities.c:585: y-=7;
   05BB DD 7E 07      [19] 1208 	ld	a,7 (ix)
   05BE C6 F9         [ 7] 1209 	add	a,#0xF9
   05C0 DD 77 07      [19] 1210 	ld	7 (ix),a
                           1211 ;src/entities/entities.c:586: break;
   05C3 C3r47r06      [10] 1212 	jp	00115$
                           1213 ;src/entities/entities.c:587: case d_right:
   05C6                    1214 00104$:
                           1215 ;src/entities/entities.c:588: if(x + 7 <= ANCHO)
   05C6 DD 5E 06      [19] 1216 	ld	e,6 (ix)
   05C9 16 00         [ 7] 1217 	ld	d,#0x00
   05CB 21 07 00      [10] 1218 	ld	hl,#0x0007
   05CE 19            [11] 1219 	add	hl,de
   05CF 3E 50         [ 7] 1220 	ld	a,#0x50
   05D1 BD            [ 4] 1221 	cp	a, l
   05D2 3E 00         [ 7] 1222 	ld	a,#0x00
   05D4 9C            [ 4] 1223 	sbc	a, h
   05D5 E2rDAr05      [10] 1224 	jp	PO, 00139$
   05D8 EE 80         [ 7] 1225 	xor	a, #0x80
   05DA                    1226 00139$:
   05DA FArE7r05      [10] 1227 	jp	M,00106$
                           1228 ;src/entities/entities.c:589: x+=7;
   05DD DD 7E 06      [19] 1229 	ld	a,6 (ix)
   05E0 C6 07         [ 7] 1230 	add	a, #0x07
   05E2 DD 77 06      [19] 1231 	ld	6 (ix),a
   05E5 18 0C         [12] 1232 	jr	00107$
   05E7                    1233 00106$:
                           1234 ;src/entities/entities.c:591: x = ANCHO - bullet->ent.sw;
   05E7 C5            [11] 1235 	push	bc
   05E8 FD E1         [14] 1236 	pop	iy
   05EA FD 5E 16      [19] 1237 	ld	e,22 (iy)
   05ED 3E 50         [ 7] 1238 	ld	a,#0x50
   05EF 93            [ 4] 1239 	sub	a, e
   05F0 DD 77 06      [19] 1240 	ld	6 (ix),a
   05F3                    1241 00107$:
                           1242 ;src/entities/entities.c:592: y+=3;
   05F3 DD 34 07      [23] 1243 	inc	7 (ix)
   05F6 DD 34 07      [23] 1244 	inc	7 (ix)
   05F9 DD 34 07      [23] 1245 	inc	7 (ix)
                           1246 ;src/entities/entities.c:594: break;
   05FC 18 49         [12] 1247 	jr	00115$
                           1248 ;src/entities/entities.c:595: case d_left:
   05FE                    1249 00108$:
                           1250 ;src/entities/entities.c:596: if(x > 6)
   05FE 3E 06         [ 7] 1251 	ld	a,#0x06
   0600 DD 96 06      [19] 1252 	sub	a, 6 (ix)
   0603 30 08         [12] 1253 	jr	NC,00110$
                           1254 ;src/entities/entities.c:597: x-=5;
   0605 DD 7E 06      [19] 1255 	ld	a,6 (ix)
   0608 C6 FB         [ 7] 1256 	add	a,#0xFB
   060A DD 77 06      [19] 1257 	ld	6 (ix),a
   060D                    1258 00110$:
                           1259 ;src/entities/entities.c:598: y+=2;
   060D DD 34 07      [23] 1260 	inc	7 (ix)
   0610 DD 34 07      [23] 1261 	inc	7 (ix)
                           1262 ;src/entities/entities.c:600: break;
   0613 18 32         [12] 1263 	jr	00115$
                           1264 ;src/entities/entities.c:601: case d_down:
   0615                    1265 00111$:
                           1266 ;src/entities/entities.c:602: if(y + 15 <= ALTO)
   0615 DD 6E 07      [19] 1267 	ld	l,7 (ix)
   0618 26 00         [ 7] 1268 	ld	h,#0x00
   061A D5            [11] 1269 	push	de
   061B 11 0F 00      [10] 1270 	ld	de,#0x000F
   061E 19            [11] 1271 	add	hl, de
   061F D1            [10] 1272 	pop	de
   0620 3E C8         [ 7] 1273 	ld	a,#0xC8
   0622 BD            [ 4] 1274 	cp	a, l
   0623 3E 00         [ 7] 1275 	ld	a,#0x00
   0625 9C            [ 4] 1276 	sbc	a, h
   0626 E2r2Br06      [10] 1277 	jp	PO, 00140$
   0629 EE 80         [ 7] 1278 	xor	a, #0x80
   062B                    1279 00140$:
   062B FAr38r06      [10] 1280 	jp	M,00113$
                           1281 ;src/entities/entities.c:603: y +=15;
   062E DD 7E 07      [19] 1282 	ld	a,7 (ix)
   0631 C6 0F         [ 7] 1283 	add	a, #0x0F
   0633 DD 77 07      [19] 1284 	ld	7 (ix),a
   0636 18 0C         [12] 1285 	jr	00114$
   0638                    1286 00113$:
                           1287 ;src/entities/entities.c:605: y = ALTO - bullet->ent.sh;
   0638 C5            [11] 1288 	push	bc
   0639 FD E1         [14] 1289 	pop	iy
   063B FD 56 17      [19] 1290 	ld	d,23 (iy)
   063E 3E C8         [ 7] 1291 	ld	a,#0xC8
   0640 92            [ 4] 1292 	sub	a, d
   0641 DD 77 07      [19] 1293 	ld	7 (ix),a
   0644                    1294 00114$:
                           1295 ;src/entities/entities.c:606: x +=2;
   0644 DD 73 06      [19] 1296 	ld	6 (ix),e
                           1297 ;src/entities/entities.c:608: }
   0647                    1298 00115$:
                           1299 ;src/entities/entities.c:610: bullet->ent.x = x;
   0647 69            [ 4] 1300 	ld	l, c
   0648 60            [ 4] 1301 	ld	h, b
   0649 23            [ 6] 1302 	inc	hl
   064A 23            [ 6] 1303 	inc	hl
   064B 23            [ 6] 1304 	inc	hl
   064C DD 5E 06      [19] 1305 	ld	e,6 (ix)
   064F 16 00         [ 7] 1306 	ld	d,#0x00
   0651 73            [ 7] 1307 	ld	(hl),e
   0652 23            [ 6] 1308 	inc	hl
   0653 72            [ 7] 1309 	ld	(hl),d
                           1310 ;src/entities/entities.c:611: bullet->ent.y = y;
   0654 21 05 00      [10] 1311 	ld	hl,#0x0005
   0657 09            [11] 1312 	add	hl,bc
   0658 DD 4E 07      [19] 1313 	ld	c,7 (ix)
   065B 06 00         [ 7] 1314 	ld	b,#0x00
   065D 71            [ 7] 1315 	ld	(hl),c
   065E 23            [ 6] 1316 	inc	hl
   065F 70            [ 7] 1317 	ld	(hl),b
   0660 DD E1         [14] 1318 	pop	ix
   0662 C9            [10] 1319 	ret
                           1320 ;src/entities/entities.c:613: void updateX(TEntity* ent, i16 x){
                           1321 ;	---------------------------------
                           1322 ; Function updateX
                           1323 ; ---------------------------------
   0663                    1324 _updateX::
                           1325 ;src/entities/entities.c:614: ent->x = x;
   0663 C1            [10] 1326 	pop	bc
   0664 E1            [10] 1327 	pop	hl
   0665 E5            [11] 1328 	push	hl
   0666 C5            [11] 1329 	push	bc
   0667 FD 21 04 00   [14] 1330 	ld	iy,#4
   066B FD 39         [15] 1331 	add	iy,sp
   066D FD 7E 00      [19] 1332 	ld	a,0 (iy)
   0670 77            [ 7] 1333 	ld	(hl),a
   0671 23            [ 6] 1334 	inc	hl
   0672 FD 7E 01      [19] 1335 	ld	a,1 (iy)
   0675 77            [ 7] 1336 	ld	(hl),a
                           1337 ;src/entities/entities.c:615: ent->coll.x = x;
   0676 01 16 00      [10] 1338 	ld	bc,#0x0017-1
   0679 09            [11] 1339 	add	hl,bc
   067A FD 4E 00      [19] 1340 	ld	c,0 (iy)
   067D 71            [ 7] 1341 	ld	(hl),c
   067E C9            [10] 1342 	ret
                           1343 ;src/entities/entities.c:617: void updateY(TEntity* ent, i16 y){
                           1344 ;	---------------------------------
                           1345 ; Function updateY
                           1346 ; ---------------------------------
   067F                    1347 _updateY::
                           1348 ;src/entities/entities.c:618: ent->y = y;
   067F D1            [10] 1349 	pop	de
   0680 C1            [10] 1350 	pop	bc
   0681 C5            [11] 1351 	push	bc
   0682 D5            [11] 1352 	push	de
   0683 59            [ 4] 1353 	ld	e, c
   0684 50            [ 4] 1354 	ld	d, b
   0685 13            [ 6] 1355 	inc	de
   0686 13            [ 6] 1356 	inc	de
   0687 FD 21 04 00   [14] 1357 	ld	iy,#4
   068B FD 39         [15] 1358 	add	iy,sp
   068D FD 7E 00      [19] 1359 	ld	a,0 (iy)
   0690 12            [ 7] 1360 	ld	(de),a
   0691 13            [ 6] 1361 	inc	de
   0692 FD 7E 01      [19] 1362 	ld	a,1 (iy)
   0695 12            [ 7] 1363 	ld	(de),a
                           1364 ;src/entities/entities.c:619: ent->coll.y = y;
   0696 21 18 00      [10] 1365 	ld	hl,#0x0018
   0699 09            [11] 1366 	add	hl,bc
   069A FD 4E 00      [19] 1367 	ld	c,0 (iy)
   069D 71            [ 7] 1368 	ld	(hl),c
   069E C9            [10] 1369 	ret
                           1370 ;src/entities/entities.c:621: void disparar(TBullet* bullet, u8 x, u8 y, TPlayerDirection dir){
                           1371 ;	---------------------------------
                           1372 ; Function disparar
                           1373 ; ---------------------------------
   069F                    1374 _disparar::
   069F DD E5         [15] 1375 	push	ix
   06A1 DD 21 00 00   [14] 1376 	ld	ix,#0
   06A5 DD 39         [15] 1377 	add	ix,sp
                           1378 ;src/entities/entities.c:622: if(bullet->state == es_static){
   06A7 DD 4E 04      [19] 1379 	ld	c,4 (ix)
   06AA DD 46 05      [19] 1380 	ld	b,5 (ix)
   06AD 69            [ 4] 1381 	ld	l, c
   06AE 60            [ 4] 1382 	ld	h, b
   06AF 23            [ 6] 1383 	inc	hl
   06B0 23            [ 6] 1384 	inc	hl
   06B1 7E            [ 7] 1385 	ld	a,(hl)
   06B2 B7            [ 4] 1386 	or	a, a
   06B3 20 54         [12] 1387 	jr	NZ,00103$
                           1388 ;src/entities/entities.c:623: bullet->state = es_disparado;
   06B5 36 02         [10] 1389 	ld	(hl),#0x02
                           1390 ;src/entities/entities.c:624: corregirPosicion(bullet,x,y,dir);
   06B7 C5            [11] 1391 	push	bc
   06B8 DD 66 08      [19] 1392 	ld	h,8 (ix)
   06BB DD 6E 07      [19] 1393 	ld	l,7 (ix)
   06BE E5            [11] 1394 	push	hl
   06BF DD 7E 06      [19] 1395 	ld	a,6 (ix)
   06C2 F5            [11] 1396 	push	af
   06C3 33            [ 6] 1397 	inc	sp
   06C4 C5            [11] 1398 	push	bc
   06C5 CDr80r05      [17] 1399 	call	_corregirPosicion
   06C8 F1            [10] 1400 	pop	af
   06C9 F1            [10] 1401 	pop	af
   06CA 33            [ 6] 1402 	inc	sp
   06CB C1            [10] 1403 	pop	bc
                           1404 ;src/entities/entities.c:625: bullet->ent.px = bullet->ent.x;
   06CC 69            [ 4] 1405 	ld	l, c
   06CD 60            [ 4] 1406 	ld	h, b
   06CE FD 21 07 00   [14] 1407 	ld	iy,#0x0007
   06D2 FD 09         [15] 1408 	add	iy, bc
   06D4 23            [ 6] 1409 	inc	hl
   06D5 23            [ 6] 1410 	inc	hl
   06D6 23            [ 6] 1411 	inc	hl
   06D7 5E            [ 7] 1412 	ld	e,(hl)
   06D8 23            [ 6] 1413 	inc	hl
   06D9 56            [ 7] 1414 	ld	d,(hl)
   06DA FD 73 00      [19] 1415 	ld	0 (iy),e
   06DD FD 72 01      [19] 1416 	ld	1 (iy),d
                           1417 ;src/entities/entities.c:626: bullet->ent.py = bullet->ent.y;
   06E0 FD 21 09 00   [14] 1418 	ld	iy,#0x0009
   06E4 FD 09         [15] 1419 	add	iy, bc
   06E6 69            [ 4] 1420 	ld	l, c
   06E7 60            [ 4] 1421 	ld	h, b
   06E8 11 05 00      [10] 1422 	ld	de, #0x0005
   06EB 19            [11] 1423 	add	hl, de
   06EC 5E            [ 7] 1424 	ld	e,(hl)
   06ED 23            [ 6] 1425 	inc	hl
   06EE 56            [ 7] 1426 	ld	d,(hl)
   06EF FD 73 00      [19] 1427 	ld	0 (iy),e
   06F2 FD 72 01      [19] 1428 	ld	1 (iy),d
                           1429 ;src/entities/entities.c:627: bullet->ent.draw = SI;
   06F5 21 0D 00      [10] 1430 	ld	hl,#0x000D
   06F8 09            [11] 1431 	add	hl,bc
   06F9 36 01         [10] 1432 	ld	(hl),#0x01
                           1433 ;src/entities/entities.c:628: bullet->ent.vivo = SI;
   06FB 21 1E 00      [10] 1434 	ld	hl,#0x001E
   06FE 09            [11] 1435 	add	hl,bc
   06FF 36 01         [10] 1436 	ld	(hl),#0x01
                           1437 ;src/entities/entities.c:629: bullet->ent.curr_dir = dir;
   0701 21 18 00      [10] 1438 	ld	hl,#0x0018
   0704 09            [11] 1439 	add	hl,bc
   0705 DD 7E 08      [19] 1440 	ld	a,8 (ix)
   0708 77            [ 7] 1441 	ld	(hl),a
   0709                    1442 00103$:
   0709 DD E1         [14] 1443 	pop	ix
   070B C9            [10] 1444 	ret
                           1445 ;src/entities/entities.c:633: void updateBullet(TBullet* bullet){
                           1446 ;	---------------------------------
                           1447 ; Function updateBullet
                           1448 ; ---------------------------------
   070C                    1449 _updateBullet::
   070C DD E5         [15] 1450 	push	ix
   070E DD 21 00 00   [14] 1451 	ld	ix,#0
   0712 DD 39         [15] 1452 	add	ix,sp
   0714 F5            [11] 1453 	push	af
   0715 F5            [11] 1454 	push	af
   0716 3B            [ 6] 1455 	dec	sp
                           1456 ;src/entities/entities.c:635: switch(bullet->state){
   0717 DD 4E 04      [19] 1457 	ld	c,4 (ix)
   071A DD 46 05      [19] 1458 	ld	b,5 (ix)
   071D 59            [ 4] 1459 	ld	e, c
   071E 50            [ 4] 1460 	ld	d, b
   071F 13            [ 6] 1461 	inc	de
   0720 13            [ 6] 1462 	inc	de
   0721 1A            [ 7] 1463 	ld	a,(de)
   0722 6F            [ 4] 1464 	ld	l,a
   0723 D6 02         [ 7] 1465 	sub	a, #0x02
   0725 28 08         [12] 1466 	jr	Z,00101$
   0727 7D            [ 4] 1467 	ld	a,l
   0728 D6 03         [ 7] 1468 	sub	a, #0x03
   072A 28 78         [12] 1469 	jr	Z,00107$
   072C C3rA9r07      [10] 1470 	jp	00109$
                           1471 ;src/entities/entities.c:636: case es_disparado:	//Solo updateamos la bala si ha sido disparada
   072F                    1472 00101$:
                           1473 ;src/entities/entities.c:638: if(bullet->frameCount >= bullet->frameLimit){
   072F 0A            [ 7] 1474 	ld	a,(bc)
   0730 DD 77 FF      [19] 1475 	ld	-1 (ix),a
   0733 69            [ 4] 1476 	ld	l, c
   0734 60            [ 4] 1477 	ld	h, b
   0735 23            [ 6] 1478 	inc	hl
   0736 DD 7E FF      [19] 1479 	ld	a,-1 (ix)
   0739 96            [ 7] 1480 	sub	a,(hl)
   073A 38 61         [12] 1481 	jr	C,00105$
                           1482 ;src/entities/entities.c:639: bullet->ent.draw = SI;
   073C 21 03 00      [10] 1483 	ld	hl,#0x0003
   073F 09            [11] 1484 	add	hl,bc
   0740 DD 75 FD      [19] 1485 	ld	-3 (ix),l
   0743 DD 74 FE      [19] 1486 	ld	-2 (ix),h
   0746 21 0D 00      [10] 1487 	ld	hl,#0x000D
   0749 09            [11] 1488 	add	hl,bc
   074A E3            [19] 1489 	ex	(sp), hl
   074B E1            [10] 1490 	pop	hl
   074C E5            [11] 1491 	push	hl
   074D 36 01         [10] 1492 	ld	(hl),#0x01
                           1493 ;src/entities/entities.c:642: if(accion(&bullet->ent, es_mover, bullet->ent.curr_dir) != d_nothing){
   074F C5            [11] 1494 	push	bc
   0750 FD E1         [14] 1495 	pop	iy
   0752 FD 66 18      [19] 1496 	ld	h,24 (iy)
   0755 C5            [11] 1497 	push	bc
   0756 D5            [11] 1498 	push	de
   0757 E5            [11] 1499 	push	hl
   0758 33            [ 6] 1500 	inc	sp
   0759 3E 01         [ 7] 1501 	ld	a,#0x01
   075B F5            [11] 1502 	push	af
   075C 33            [ 6] 1503 	inc	sp
   075D DD 6E FD      [19] 1504 	ld	l,-3 (ix)
   0760 DD 66 FE      [19] 1505 	ld	h,-2 (ix)
   0763 E5            [11] 1506 	push	hl
   0764 CDrB8r02      [17] 1507 	call	_accion
   0767 F1            [10] 1508 	pop	af
   0768 F1            [10] 1509 	pop	af
   0769 D1            [10] 1510 	pop	de
   076A C1            [10] 1511 	pop	bc
   076B 7D            [ 4] 1512 	ld	a,l
   076C D6 04         [ 7] 1513 	sub	a, #0x04
   076E 28 29         [12] 1514 	jr	Z,00103$
                           1515 ;src/entities/entities.c:643: bullet->state = es_static;
   0770 AF            [ 4] 1516 	xor	a, a
   0771 12            [ 7] 1517 	ld	(de),a
                           1518 ;src/entities/entities.c:644: calculaEntity(&bullet->ent, SI);
   0772 C5            [11] 1519 	push	bc
   0773 3E 01         [ 7] 1520 	ld	a,#0x01
   0775 F5            [11] 1521 	push	af
   0776 33            [ 6] 1522 	inc	sp
   0777 DD 6E FD      [19] 1523 	ld	l,-3 (ix)
   077A DD 66 FE      [19] 1524 	ld	h,-2 (ix)
   077D E5            [11] 1525 	push	hl
   077E CDr45r0F      [17] 1526 	call	_calculaEntity
   0781 F1            [10] 1527 	pop	af
   0782 33            [ 6] 1528 	inc	sp
   0783 DD 6E FD      [19] 1529 	ld	l,-3 (ix)
   0786 DD 66 FE      [19] 1530 	ld	h,-2 (ix)
   0789 E5            [11] 1531 	push	hl
   078A CDr93r0E      [17] 1532 	call	_borrarEntity
   078D F1            [10] 1533 	pop	af
   078E C1            [10] 1534 	pop	bc
                           1535 ;src/entities/entities.c:646: bullet->ent.draw = NO;
   078F E1            [10] 1536 	pop	hl
   0790 E5            [11] 1537 	push	hl
   0791 36 00         [10] 1538 	ld	(hl),#0x00
                           1539 ;src/entities/entities.c:647: bullet->ent.vivo = NO;
   0793 21 1E 00      [10] 1540 	ld	hl,#0x001E
   0796 09            [11] 1541 	add	hl,bc
   0797 36 00         [10] 1542 	ld	(hl),#0x00
   0799                    1543 00103$:
                           1544 ;src/entities/entities.c:650: bullet->frameCount = 0;
   0799 AF            [ 4] 1545 	xor	a, a
   079A 02            [ 7] 1546 	ld	(bc),a
   079B 18 0C         [12] 1547 	jr	00109$
   079D                    1548 00105$:
                           1549 ;src/entities/entities.c:652: bullet->frameCount++;
   079D DD 7E FF      [19] 1550 	ld	a,-1 (ix)
   07A0 3C            [ 4] 1551 	inc	a
   07A1 02            [ 7] 1552 	ld	(bc),a
                           1553 ;src/entities/entities.c:654: break;
   07A2 18 05         [12] 1554 	jr	00109$
                           1555 ;src/entities/entities.c:656: case es_explotando:
   07A4                    1556 00107$:
                           1557 ;src/entities/entities.c:657: updateExplosion(bullet);
   07A4 C5            [11] 1558 	push	bc
   07A5 CDr00r00      [17] 1559 	call	_updateExplosion
   07A8 F1            [10] 1560 	pop	af
                           1561 ;src/entities/entities.c:659: }
   07A9                    1562 00109$:
   07A9 DD F9         [10] 1563 	ld	sp, ix
   07AB DD E1         [14] 1564 	pop	ix
   07AD C9            [10] 1565 	ret
                           1566 ;src/entities/entities.c:663: void playerHerido(TPlayer* player){
                           1567 ;	---------------------------------
                           1568 ; Function playerHerido
                           1569 ; ---------------------------------
   07AE                    1570 _playerHerido::
   07AE DD E5         [15] 1571 	push	ix
   07B0 DD 21 00 00   [14] 1572 	ld	ix,#0
   07B4 DD 39         [15] 1573 	add	ix,sp
                           1574 ;src/entities/entities.c:664: TBase* bases = getBases();
   07B6 CDrAEr12      [17] 1575 	call	_getBases
   07B9 4D            [ 4] 1576 	ld	c,l
   07BA 44            [ 4] 1577 	ld	b,h
                           1578 ;src/entities/entities.c:665: player->vida--;
   07BB DD 5E 04      [19] 1579 	ld	e,4 (ix)
   07BE DD 56 05      [19] 1580 	ld	d,5 (ix)
   07C1 21 49 00      [10] 1581 	ld	hl,#0x0049
   07C4 19            [11] 1582 	add	hl,de
   07C5 7E            [ 7] 1583 	ld	a,(hl)
   07C6 C6 FF         [ 7] 1584 	add	a,#0xFF
   07C8 77            [ 7] 1585 	ld	(hl),a
                           1586 ;src/entities/entities.c:666: player->ent.x = px_spawn;
   07C9 21 26 00      [10] 1587 	ld	hl,#0x0026
   07CC 19            [11] 1588 	add	hl,de
   07CD 36 0A         [10] 1589 	ld	(hl),#0x0A
   07CF 23            [ 6] 1590 	inc	hl
   07D0 36 00         [10] 1591 	ld	(hl),#0x00
                           1592 ;src/entities/entities.c:667: player->ent.y = py_spawn;
   07D2 21 28 00      [10] 1593 	ld	hl,#0x0028
   07D5 19            [11] 1594 	add	hl,de
   07D6 36 AA         [10] 1595 	ld	(hl),#0xAA
   07D8 23            [ 6] 1596 	inc	hl
   07D9 36 00         [10] 1597 	ld	(hl),#0x00
                           1598 ;src/entities/entities.c:668: player->ent.draw = SI;
   07DB 21 30 00      [10] 1599 	ld	hl,#0x0030
   07DE 19            [11] 1600 	add	hl,de
   07DF 36 01         [10] 1601 	ld	(hl),#0x01
                           1602 ;src/entities/entities.c:669: mapaActual = 0;
   07E1 21r00r00      [10] 1603 	ld	hl,#_mapaActual + 0
   07E4 36 00         [10] 1604 	ld	(hl), #0x00
                           1605 ;src/entities/entities.c:670: player->ent.cuadrante = 0;
   07E6 21 42 00      [10] 1606 	ld	hl,#0x0042
   07E9 19            [11] 1607 	add	hl,de
   07EA 36 00         [10] 1608 	ld	(hl),#0x00
                           1609 ;src/entities/entities.c:671: mapa = mapas[0];
   07EC 21r00r00      [10] 1610 	ld	hl, #_mapas + 0
   07EF 7E            [ 7] 1611 	ld	a,(hl)
   07F0 FD 21r00r00   [14] 1612 	ld	iy,#_mapa
   07F4 FD 77 00      [19] 1613 	ld	0 (iy),a
   07F7 23            [ 6] 1614 	inc	hl
   07F8 7E            [ 7] 1615 	ld	a,(hl)
   07F9 32r01r00      [13] 1616 	ld	(#_mapa + 1),a
                           1617 ;src/entities/entities.c:672: bases[mapaActual].ent.draw = SI;
   07FC 21 0E 00      [10] 1618 	ld	hl,#0x000E
   07FF 09            [11] 1619 	add	hl,bc
   0800 36 01         [10] 1620 	ld	(hl),#0x01
                           1621 ;src/entities/entities.c:673: dibujarMapa();
   0802 DD E1         [14] 1622 	pop	ix
   0804 C3r00r00      [10] 1623 	jp	_dibujarMapa
                           1624 ;src/entities/entities.c:676: void updateEntities(){
                           1625 ;	---------------------------------
                           1626 ; Function updateEntities
                           1627 ; ---------------------------------
   0807                    1628 _updateEntities::
                           1629 ;src/entities/entities.c:683: for(i=0;i<NUM_ENEMIGOS;++i){
   0807 0E 00         [ 7] 1630 	ld	c,#0x00
   0809 11 00 00      [10] 1631 	ld	de,#0x0000
   080C                    1632 00102$:
                           1633 ;src/entities/entities.c:686: updateBullet(&enemigos[i].bullet);
   080C 21rDCr00      [10] 1634 	ld	hl,#_enemigos
   080F 19            [11] 1635 	add	hl,de
   0810 C5            [11] 1636 	push	bc
   0811 D5            [11] 1637 	push	de
   0812 E5            [11] 1638 	push	hl
   0813 CDr0Cr07      [17] 1639 	call	_updateBullet
   0816 F1            [10] 1640 	pop	af
   0817 D1            [10] 1641 	pop	de
   0818 C1            [10] 1642 	pop	bc
                           1643 ;src/entities/entities.c:683: for(i=0;i<NUM_ENEMIGOS;++i){
   0819 21 4E 00      [10] 1644 	ld	hl,#0x004E
   081C 19            [11] 1645 	add	hl,de
   081D EB            [ 4] 1646 	ex	de,hl
   081E 0C            [ 4] 1647 	inc	c
   081F 79            [ 4] 1648 	ld	a,c
   0820 D6 03         [ 7] 1649 	sub	a, #0x03
   0822 38 E8         [12] 1650 	jr	C,00102$
                           1651 ;src/entities/entities.c:694: updateIA();
   0824 C3r78r08      [10] 1652 	jp  _updateIA
                           1653 ;src/entities/entities.c:696: u8 contarEnemigos(){
                           1654 ;	---------------------------------
                           1655 ; Function contarEnemigos
                           1656 ; ---------------------------------
   0827                    1657 _contarEnemigos::
   0827 DD E5         [15] 1658 	push	ix
   0829 DD 21 00 00   [14] 1659 	ld	ix,#0
   082D DD 39         [15] 1660 	add	ix,sp
   082F F5            [11] 1661 	push	af
   0830 3B            [ 6] 1662 	dec	sp
                           1663 ;src/entities/entities.c:699: for(i=0;i<NUM_ENEMIGOS;++i){
   0831 DD 36 FE 00   [19] 1664 	ld	-2 (ix),#0x00
   0835 DD 36 FD 00   [19] 1665 	ld	-3 (ix),#0x00
   0839 01 00 00      [10] 1666 	ld	bc,#0x0000
   083C                    1667 00105$:
                           1668 ;src/entities/entities.c:700: if(enemigos[i].ent.cuadrante == mapaActual && enemigos[i].ent.vivo == 1){
   083C 21rDCr00      [10] 1669 	ld	hl,#_enemigos
   083F 09            [11] 1670 	add	hl,bc
   0840 5D            [ 4] 1671 	ld	e,l
   0841 54            [ 4] 1672 	ld	d,h
   0842 C5            [11] 1673 	push	bc
   0843 01 42 00      [10] 1674 	ld	bc, #0x0042
   0846 09            [11] 1675 	add	hl, bc
   0847 C1            [10] 1676 	pop	bc
   0848 7E            [ 7] 1677 	ld	a,(hl)
   0849 DD 77 FF      [19] 1678 	ld	-1 (ix),a
   084C 3Ar00r00      [13] 1679 	ld	a,(#_mapaActual + 0)
   084F DD 96 FF      [19] 1680 	sub	a, -1 (ix)
   0852 20 0C         [12] 1681 	jr	NZ,00106$
   0854 D5            [11] 1682 	push	de
   0855 FD E1         [14] 1683 	pop	iy
   0857 FD 5E 41      [19] 1684 	ld	e,65 (iy)
   085A 1D            [ 4] 1685 	dec	e
   085B 20 03         [12] 1686 	jr	NZ,00106$
                           1687 ;src/entities/entities.c:701: cuenta++;
   085D DD 34 FE      [23] 1688 	inc	-2 (ix)
   0860                    1689 00106$:
                           1690 ;src/entities/entities.c:699: for(i=0;i<NUM_ENEMIGOS;++i){
   0860 21 4E 00      [10] 1691 	ld	hl,#0x004E
   0863 09            [11] 1692 	add	hl,bc
   0864 4D            [ 4] 1693 	ld	c,l
   0865 44            [ 4] 1694 	ld	b,h
   0866 DD 34 FD      [23] 1695 	inc	-3 (ix)
   0869 DD 7E FD      [19] 1696 	ld	a,-3 (ix)
   086C D6 03         [ 7] 1697 	sub	a, #0x03
   086E 38 CC         [12] 1698 	jr	C,00105$
                           1699 ;src/entities/entities.c:704: return cuenta;
   0870 DD 6E FE      [19] 1700 	ld	l,-2 (ix)
   0873 DD F9         [10] 1701 	ld	sp, ix
   0875 DD E1         [14] 1702 	pop	ix
   0877 C9            [10] 1703 	ret
                           1704 ;src/entities/entities.c:707: void updateIA(){
                           1705 ;	---------------------------------
                           1706 ; Function updateIA
                           1707 ; ---------------------------------
   0878                    1708 _updateIA::
   0878 DD E5         [15] 1709 	push	ix
   087A DD 21 00 00   [14] 1710 	ld	ix,#0
   087E DD 39         [15] 1711 	add	ix,sp
   0880 F5            [11] 1712 	push	af
                           1713 ;src/entities/entities.c:713: for(i=0;i<NUM_ENEMIGOS;++i){
   0881 DD 36 FE 00   [19] 1714 	ld	-2 (ix),#0x00
   0885 01 00 00      [10] 1715 	ld	bc,#0x0000
   0888                    1716 00105$:
                           1717 ;src/entities/entities.c:716: if(enemigos[i].ent.cuadrante == mapaActual && enemigos[i].ent.vivo){
   0888 21rDCr00      [10] 1718 	ld	hl,#_enemigos
   088B 09            [11] 1719 	add	hl,bc
   088C EB            [ 4] 1720 	ex	de,hl
   088D D5            [11] 1721 	push	de
   088E FD E1         [14] 1722 	pop	iy
   0890 FD 7E 42      [19] 1723 	ld	a,66 (iy)
   0893 DD 77 FF      [19] 1724 	ld	-1 (ix),a
   0896 3Ar00r00      [13] 1725 	ld	a,(#_mapaActual + 0)
   0899 DD 96 FF      [19] 1726 	sub	a, -1 (ix)
   089C 20 10         [12] 1727 	jr	NZ,00106$
   089E D5            [11] 1728 	push	de
   089F FD E1         [14] 1729 	pop	iy
   08A1 FD 7E 41      [19] 1730 	ld	a,65 (iy)
   08A4 B7            [ 4] 1731 	or	a, a
   08A5 28 07         [12] 1732 	jr	Z,00106$
                           1733 ;src/entities/entities.c:718: updateIAState(&enemigos[i]);
   08A7 C5            [11] 1734 	push	bc
   08A8 D5            [11] 1735 	push	de
   08A9 CDrADr0A      [17] 1736 	call	_updateIAState
   08AC F1            [10] 1737 	pop	af
   08AD C1            [10] 1738 	pop	bc
   08AE                    1739 00106$:
                           1740 ;src/entities/entities.c:713: for(i=0;i<NUM_ENEMIGOS;++i){
   08AE 21 4E 00      [10] 1741 	ld	hl,#0x004E
   08B1 09            [11] 1742 	add	hl,bc
   08B2 4D            [ 4] 1743 	ld	c,l
   08B3 44            [ 4] 1744 	ld	b,h
   08B4 DD 34 FE      [23] 1745 	inc	-2 (ix)
   08B7 DD 7E FE      [19] 1746 	ld	a,-2 (ix)
   08BA D6 03         [ 7] 1747 	sub	a, #0x03
   08BC 38 CA         [12] 1748 	jr	C,00105$
   08BE DD F9         [10] 1749 	ld	sp, ix
   08C0 DD E1         [14] 1750 	pop	ix
   08C2 C9            [10] 1751 	ret
                           1752 ;src/entities/entities.c:727: TPlayerDirection comprobarEjeX(TEnemy* ene){
                           1753 ;	---------------------------------
                           1754 ; Function comprobarEjeX
                           1755 ; ---------------------------------
   08C3                    1756 _comprobarEjeX::
   08C3 DD E5         [15] 1757 	push	ix
   08C5 DD 21 00 00   [14] 1758 	ld	ix,#0
   08C9 DD 39         [15] 1759 	add	ix,sp
                           1760 ;src/entities/entities.c:730: if(ene->ent.x > puntos[ene->puntoDeControl].x){	//Si se cumple movemos hacia la izquierda
   08CB DD 4E 04      [19] 1761 	ld	c,4 (ix)
   08CE DD 46 05      [19] 1762 	ld	b,5 (ix)
   08D1 69            [ 4] 1763 	ld	l, c
   08D2 60            [ 4] 1764 	ld	h, b
   08D3 11 26 00      [10] 1765 	ld	de, #0x0026
   08D6 19            [11] 1766 	add	hl, de
   08D7 5E            [ 7] 1767 	ld	e,(hl)
   08D8 23            [ 6] 1768 	inc	hl
   08D9 56            [ 7] 1769 	ld	d,(hl)
   08DA 69            [ 4] 1770 	ld	l, c
   08DB 60            [ 4] 1771 	ld	h, b
   08DC 01 4D 00      [10] 1772 	ld	bc, #0x004D
   08DF 09            [11] 1773 	add	hl, bc
   08E0 6E            [ 7] 1774 	ld	l,(hl)
   08E1 26 00         [ 7] 1775 	ld	h,#0x00
   08E3 29            [11] 1776 	add	hl, hl
   08E4 01rB0r02      [10] 1777 	ld	bc,#_puntos
   08E7 09            [11] 1778 	add	hl,bc
   08E8 4E            [ 7] 1779 	ld	c,(hl)
   08E9 06 00         [ 7] 1780 	ld	b,#0x00
   08EB 79            [ 4] 1781 	ld	a,c
   08EC 93            [ 4] 1782 	sub	a, e
   08ED 78            [ 4] 1783 	ld	a,b
   08EE 9A            [ 4] 1784 	sbc	a, d
   08EF E2rF4r08      [10] 1785 	jp	PO, 00110$
   08F2 EE 80         [ 7] 1786 	xor	a, #0x80
   08F4                    1787 00110$:
   08F4 F2rFBr08      [10] 1788 	jp	P,00102$
                           1789 ;src/entities/entities.c:731: dir = d_left;
   08F7 2E 03         [ 7] 1790 	ld	l,#0x03
   08F9 18 02         [12] 1791 	jr	00103$
   08FB                    1792 00102$:
                           1793 ;src/entities/entities.c:733: dir = d_right;
   08FB 2E 01         [ 7] 1794 	ld	l,#0x01
   08FD                    1795 00103$:
                           1796 ;src/entities/entities.c:736: return dir;
   08FD DD E1         [14] 1797 	pop	ix
   08FF C9            [10] 1798 	ret
                           1799 ;src/entities/entities.c:738: TPlayerDirection comprobarEjeY(TEnemy* ene){
                           1800 ;	---------------------------------
                           1801 ; Function comprobarEjeY
                           1802 ; ---------------------------------
   0900                    1803 _comprobarEjeY::
   0900 DD E5         [15] 1804 	push	ix
   0902 DD 21 00 00   [14] 1805 	ld	ix,#0
   0906 DD 39         [15] 1806 	add	ix,sp
                           1807 ;src/entities/entities.c:741: if(ene->ent.y > puntos[ene->puntoDeControl].y){	//Si se cumple movemos hacia la derecha
   0908 DD 4E 04      [19] 1808 	ld	c,4 (ix)
   090B DD 46 05      [19] 1809 	ld	b,5 (ix)
   090E 69            [ 4] 1810 	ld	l, c
   090F 60            [ 4] 1811 	ld	h, b
   0910 11 28 00      [10] 1812 	ld	de, #0x0028
   0913 19            [11] 1813 	add	hl, de
   0914 5E            [ 7] 1814 	ld	e,(hl)
   0915 23            [ 6] 1815 	inc	hl
   0916 56            [ 7] 1816 	ld	d,(hl)
   0917 69            [ 4] 1817 	ld	l, c
   0918 60            [ 4] 1818 	ld	h, b
   0919 01 4D 00      [10] 1819 	ld	bc, #0x004D
   091C 09            [11] 1820 	add	hl, bc
   091D 6E            [ 7] 1821 	ld	l,(hl)
   091E 26 00         [ 7] 1822 	ld	h,#0x00
   0920 29            [11] 1823 	add	hl, hl
   0921 01rB0r02      [10] 1824 	ld	bc,#_puntos
   0924 09            [11] 1825 	add	hl,bc
   0925 23            [ 6] 1826 	inc	hl
   0926 4E            [ 7] 1827 	ld	c,(hl)
   0927 06 00         [ 7] 1828 	ld	b,#0x00
   0929 79            [ 4] 1829 	ld	a,c
   092A 93            [ 4] 1830 	sub	a, e
   092B 78            [ 4] 1831 	ld	a,b
   092C 9A            [ 4] 1832 	sbc	a, d
   092D E2r32r09      [10] 1833 	jp	PO, 00110$
   0930 EE 80         [ 7] 1834 	xor	a, #0x80
   0932                    1835 00110$:
   0932 F2r39r09      [10] 1836 	jp	P,00102$
                           1837 ;src/entities/entities.c:742: dir = d_up;
   0935 2E 00         [ 7] 1838 	ld	l,#0x00
   0937 18 02         [12] 1839 	jr	00103$
   0939                    1840 00102$:
                           1841 ;src/entities/entities.c:744: dir = d_down;
   0939 2E 02         [ 7] 1842 	ld	l,#0x02
   093B                    1843 00103$:
                           1844 ;src/entities/entities.c:747: return dir;
   093B DD E1         [14] 1845 	pop	ix
   093D C9            [10] 1846 	ret
                           1847 ;src/entities/entities.c:749: u8 moverHaciaPuntoDeControl(TEnemy* ene){
                           1848 ;	---------------------------------
                           1849 ; Function moverHaciaPuntoDeControl
                           1850 ; ---------------------------------
   093E                    1851 _moverHaciaPuntoDeControl::
   093E DD E5         [15] 1852 	push	ix
   0940 DD 21 00 00   [14] 1853 	ld	ix,#0
   0944 DD 39         [15] 1854 	add	ix,sp
   0946 21 F6 FF      [10] 1855 	ld	hl,#-10
   0949 39            [11] 1856 	add	hl,sp
   094A F9            [ 6] 1857 	ld	sp,hl
                           1858 ;src/entities/entities.c:752: u8 llego = NO;
   094B DD 36 F6 00   [19] 1859 	ld	-10 (ix),#0x00
                           1860 ;src/entities/entities.c:753: if(++ene->cycles >= ene->wait_cycles){
   094F DD 4E 04      [19] 1861 	ld	c,4 (ix)
   0952 DD 46 05      [19] 1862 	ld	b,5 (ix)
   0955 21 4A 00      [10] 1863 	ld	hl,#0x004A
   0958 09            [11] 1864 	add	hl,bc
   0959 DD 75 FC      [19] 1865 	ld	-4 (ix),l
   095C DD 74 FD      [19] 1866 	ld	-3 (ix),h
   095F DD 6E FC      [19] 1867 	ld	l,-4 (ix)
   0962 DD 66 FD      [19] 1868 	ld	h,-3 (ix)
   0965 5E            [ 7] 1869 	ld	e,(hl)
   0966 1C            [ 4] 1870 	inc	e
   0967 DD 6E FC      [19] 1871 	ld	l,-4 (ix)
   096A DD 66 FD      [19] 1872 	ld	h,-3 (ix)
   096D 73            [ 7] 1873 	ld	(hl),e
   096E 69            [ 4] 1874 	ld	l, c
   096F 60            [ 4] 1875 	ld	h, b
   0970 C5            [11] 1876 	push	bc
   0971 01 4B 00      [10] 1877 	ld	bc, #0x004B
   0974 09            [11] 1878 	add	hl, bc
   0975 C1            [10] 1879 	pop	bc
   0976 56            [ 7] 1880 	ld	d,(hl)
                           1881 ;src/entities/entities.c:756: diff = abs(ene->ent.x - puntos[ene->puntoDeControl].x);	
   0977 21 26 00      [10] 1882 	ld	hl,#0x0026
   097A 09            [11] 1883 	add	hl,bc
   097B DD 75 F9      [19] 1884 	ld	-7 (ix),l
   097E DD 74 FA      [19] 1885 	ld	-6 (ix),h
                           1886 ;src/entities/entities.c:764: ene->ent.curr_dir = dir;
   0981 21 3B 00      [10] 1887 	ld	hl,#0x003B
   0984 09            [11] 1888 	add	hl,bc
   0985 DD 75 F7      [19] 1889 	ld	-9 (ix),l
   0988 DD 74 F8      [19] 1890 	ld	-8 (ix),h
                           1891 ;src/entities/entities.c:753: if(++ene->cycles >= ene->wait_cycles){
   098B 7B            [ 4] 1892 	ld	a,e
   098C 92            [ 4] 1893 	sub	a, d
   098D DAr30r0A      [10] 1894 	jp	C,00106$
                           1895 ;src/entities/entities.c:754: dir = comprobarEjeX(ene);
   0990 C5            [11] 1896 	push	bc
   0991 C5            [11] 1897 	push	bc
   0992 CDrC3r08      [17] 1898 	call	_comprobarEjeX
   0995 F1            [10] 1899 	pop	af
   0996 C1            [10] 1900 	pop	bc
   0997 DD 75 FB      [19] 1901 	ld	-5 (ix),l
                           1902 ;src/entities/entities.c:756: diff = abs(ene->ent.x - puntos[ene->puntoDeControl].x);	
   099A DD 6E F9      [19] 1903 	ld	l,-7 (ix)
   099D DD 66 FA      [19] 1904 	ld	h,-6 (ix)
   09A0 7E            [ 7] 1905 	ld	a,(hl)
   09A1 DD 77 FE      [19] 1906 	ld	-2 (ix),a
   09A4 23            [ 6] 1907 	inc	hl
   09A5 7E            [ 7] 1908 	ld	a,(hl)
   09A6 DD 77 FF      [19] 1909 	ld	-1 (ix),a
   09A9 21 4D 00      [10] 1910 	ld	hl,#0x004D
   09AC 09            [11] 1911 	add	hl,bc
   09AD EB            [ 4] 1912 	ex	de,hl
   09AE 1A            [ 7] 1913 	ld	a,(de)
   09AF 6F            [ 4] 1914 	ld	l,a
   09B0 26 00         [ 7] 1915 	ld	h,#0x00
   09B2 29            [11] 1916 	add	hl, hl
   09B3 3ErB0         [ 7] 1917 	ld	a,#<(_puntos)
   09B5 85            [ 4] 1918 	add	a, l
   09B6 6F            [ 4] 1919 	ld	l,a
   09B7 3Es02         [ 7] 1920 	ld	a,#>(_puntos)
   09B9 8C            [ 4] 1921 	adc	a, h
   09BA 67            [ 4] 1922 	ld	h,a
   09BB 6E            [ 7] 1923 	ld	l,(hl)
   09BC 26 00         [ 7] 1924 	ld	h,#0x00
   09BE DD 7E FE      [19] 1925 	ld	a,-2 (ix)
   09C1 95            [ 4] 1926 	sub	a, l
   09C2 6F            [ 4] 1927 	ld	l,a
   09C3 DD 7E FF      [19] 1928 	ld	a,-1 (ix)
   09C6 9C            [ 4] 1929 	sbc	a, h
   09C7 67            [ 4] 1930 	ld	h,a
   09C8 C5            [11] 1931 	push	bc
   09C9 D5            [11] 1932 	push	de
   09CA E5            [11] 1933 	push	hl
   09CB CDr51r0A      [17] 1934 	call	_abs
   09CE F1            [10] 1935 	pop	af
   09CF D1            [10] 1936 	pop	de
   09D0 C1            [10] 1937 	pop	bc
                           1938 ;src/entities/entities.c:757: if(diff <= 2){
   09D1 3E 02         [ 7] 1939 	ld	a,#0x02
   09D3 BD            [ 4] 1940 	cp	a, l
   09D4 3E 00         [ 7] 1941 	ld	a,#0x00
   09D6 9C            [ 4] 1942 	sbc	a, h
   09D7 E2rDCr09      [10] 1943 	jp	PO, 00121$
   09DA EE 80         [ 7] 1944 	xor	a, #0x80
   09DC                    1945 00121$:
   09DC FAr1Er0A      [10] 1946 	jp	M,00104$
                           1947 ;src/entities/entities.c:758: dir = comprobarEjeY(ene);
   09DF C5            [11] 1948 	push	bc
   09E0 D5            [11] 1949 	push	de
   09E1 C5            [11] 1950 	push	bc
   09E2 CDr00r09      [17] 1951 	call	_comprobarEjeY
   09E5 F1            [10] 1952 	pop	af
   09E6 D1            [10] 1953 	pop	de
   09E7 C1            [10] 1954 	pop	bc
   09E8 DD 75 FB      [19] 1955 	ld	-5 (ix),l
                           1956 ;src/entities/entities.c:759: diff = abs(ene->ent.y - puntos[ene->puntoDeControl].y);	
   09EB 69            [ 4] 1957 	ld	l, c
   09EC 60            [ 4] 1958 	ld	h, b
   09ED 01 28 00      [10] 1959 	ld	bc, #0x0028
   09F0 09            [11] 1960 	add	hl, bc
   09F1 4E            [ 7] 1961 	ld	c,(hl)
   09F2 23            [ 6] 1962 	inc	hl
   09F3 46            [ 7] 1963 	ld	b,(hl)
   09F4 1A            [ 7] 1964 	ld	a,(de)
   09F5 6F            [ 4] 1965 	ld	l,a
   09F6 26 00         [ 7] 1966 	ld	h,#0x00
   09F8 29            [11] 1967 	add	hl, hl
   09F9 11rB0r02      [10] 1968 	ld	de,#_puntos
   09FC 19            [11] 1969 	add	hl,de
   09FD 23            [ 6] 1970 	inc	hl
   09FE 5E            [ 7] 1971 	ld	e,(hl)
   09FF 16 00         [ 7] 1972 	ld	d,#0x00
   0A01 79            [ 4] 1973 	ld	a,c
   0A02 93            [ 4] 1974 	sub	a, e
   0A03 4F            [ 4] 1975 	ld	c,a
   0A04 78            [ 4] 1976 	ld	a,b
   0A05 9A            [ 4] 1977 	sbc	a, d
   0A06 47            [ 4] 1978 	ld	b,a
   0A07 C5            [11] 1979 	push	bc
   0A08 CDr51r0A      [17] 1980 	call	_abs
   0A0B F1            [10] 1981 	pop	af
                           1982 ;src/entities/entities.c:760: if(diff <= 2){
   0A0C 3E 02         [ 7] 1983 	ld	a,#0x02
   0A0E BD            [ 4] 1984 	cp	a, l
   0A0F 3E 00         [ 7] 1985 	ld	a,#0x00
   0A11 9C            [ 4] 1986 	sbc	a, h
   0A12 E2r17r0A      [10] 1987 	jp	PO, 00122$
   0A15 EE 80         [ 7] 1988 	xor	a, #0x80
   0A17                    1989 00122$:
   0A17 FAr1Er0A      [10] 1990 	jp	M,00104$
                           1991 ;src/entities/entities.c:761: llego = SI;
   0A1A DD 36 F6 01   [19] 1992 	ld	-10 (ix),#0x01
   0A1E                    1993 00104$:
                           1994 ;src/entities/entities.c:764: ene->ent.curr_dir = dir;
   0A1E DD 6E F7      [19] 1995 	ld	l,-9 (ix)
   0A21 DD 66 F8      [19] 1996 	ld	h,-8 (ix)
   0A24 DD 7E FB      [19] 1997 	ld	a,-5 (ix)
   0A27 77            [ 7] 1998 	ld	(hl),a
                           1999 ;src/entities/entities.c:765: ene->cycles = 0; //Reseteamos el ciclo actual de espera
   0A28 DD 6E FC      [19] 2000 	ld	l,-4 (ix)
   0A2B DD 66 FD      [19] 2001 	ld	h,-3 (ix)
   0A2E 36 00         [10] 2002 	ld	(hl),#0x00
   0A30                    2003 00106$:
                           2004 ;src/entities/entities.c:768: accion(&ene->ent, es_mover, ene->ent.curr_dir);
   0A30 DD 6E F7      [19] 2005 	ld	l,-9 (ix)
   0A33 DD 66 F8      [19] 2006 	ld	h,-8 (ix)
   0A36 46            [ 7] 2007 	ld	b,(hl)
   0A37 C5            [11] 2008 	push	bc
   0A38 33            [ 6] 2009 	inc	sp
   0A39 3E 01         [ 7] 2010 	ld	a,#0x01
   0A3B F5            [11] 2011 	push	af
   0A3C 33            [ 6] 2012 	inc	sp
   0A3D DD 6E F9      [19] 2013 	ld	l,-7 (ix)
   0A40 DD 66 FA      [19] 2014 	ld	h,-6 (ix)
   0A43 E5            [11] 2015 	push	hl
   0A44 CDrB8r02      [17] 2016 	call	_accion
   0A47 F1            [10] 2017 	pop	af
   0A48 F1            [10] 2018 	pop	af
                           2019 ;src/entities/entities.c:770: return llego;
   0A49 DD 6E F6      [19] 2020 	ld	l,-10 (ix)
   0A4C DD F9         [10] 2021 	ld	sp, ix
   0A4E DD E1         [14] 2022 	pop	ix
   0A50 C9            [10] 2023 	ret
                           2024 ;src/entities/entities.c:772: i16 abs(i16 num){
                           2025 ;	---------------------------------
                           2026 ; Function abs
                           2027 ; ---------------------------------
   0A51                    2028 _abs::
                           2029 ;src/entities/entities.c:775: if(num<0){
   0A51 FD 21 02 00   [14] 2030 	ld	iy,#2
   0A55 FD 39         [15] 2031 	add	iy,sp
   0A57 FD CB 01 7E   [20] 2032 	bit	7,1 (iy)
   0A5B 28 0C         [12] 2033 	jr	Z,00102$
                           2034 ;src/entities/entities.c:776: numPositivo -= num;
   0A5D AF            [ 4] 2035 	xor	a, a
   0A5E FD 96 00      [19] 2036 	sub	a, 0 (iy)
   0A61 6F            [ 4] 2037 	ld	l,a
   0A62 3E 00         [ 7] 2038 	ld	a, #0x00
   0A64 FD 9E 01      [19] 2039 	sbc	a, 1 (iy)
   0A67 67            [ 4] 2040 	ld	h,a
   0A68 C9            [10] 2041 	ret
   0A69                    2042 00102$:
                           2043 ;src/entities/entities.c:778: numPositivo=num;
   0A69 C1            [10] 2044 	pop	bc
   0A6A E1            [10] 2045 	pop	hl
   0A6B E5            [11] 2046 	push	hl
   0A6C C5            [11] 2047 	push	bc
                           2048 ;src/entities/entities.c:781: return numPositivo;
   0A6D C9            [10] 2049 	ret
                           2050 ;src/entities/entities.c:784: TPlayerDirection calculaDireccion(){
                           2051 ;	---------------------------------
                           2052 ; Function calculaDireccion
                           2053 ; ---------------------------------
   0A6E                    2054 _calculaDireccion::
   0A6E 3B            [ 6] 2055 	dec	sp
                           2056 ;src/entities/entities.c:786: switch(mapaActual){
   0A6F 3E 05         [ 7] 2057 	ld	a,#0x05
   0A71 FD 21r00r00   [14] 2058 	ld	iy,#_mapaActual
   0A75 FD 96 00      [19] 2059 	sub	a, 0 (iy)
   0A78 38 31         [12] 2060 	jr	C,00107$
   0A7A FD 21r00r00   [14] 2061 	ld	iy,#_mapaActual
   0A7E FD 5E 00      [19] 2062 	ld	e,0 (iy)
   0A81 16 00         [ 7] 2063 	ld	d,#0x00
   0A83 21r89r0A      [10] 2064 	ld	hl,#00114$
   0A86 19            [11] 2065 	add	hl,de
   0A87 19            [11] 2066 	add	hl,de
                           2067 ;src/entities/entities.c:787: case 0:
   0A88 E9            [ 4] 2068 	jp	(hl)
   0A89                    2069 00114$:
   0A89 18 0A         [12] 2070 	jr	00101$
   0A8B 18 0C         [12] 2071 	jr	00102$
   0A8D 18 0E         [12] 2072 	jr	00103$
   0A8F 18 10         [12] 2073 	jr	00104$
   0A91 18 12         [12] 2074 	jr	00105$
   0A93 18 14         [12] 2075 	jr	00106$
   0A95                    2076 00101$:
                           2077 ;src/entities/entities.c:788: dir = d_right;
   0A95 2E 01         [ 7] 2078 	ld	l,#0x01
                           2079 ;src/entities/entities.c:789: break;
   0A97 18 12         [12] 2080 	jr	00107$
                           2081 ;src/entities/entities.c:790: case 1:
   0A99                    2082 00102$:
                           2083 ;src/entities/entities.c:791: dir = d_up;
   0A99 2E 00         [ 7] 2084 	ld	l,#0x00
                           2085 ;src/entities/entities.c:792: break;
   0A9B 18 0E         [12] 2086 	jr	00107$
                           2087 ;src/entities/entities.c:793: case 2:
   0A9D                    2088 00103$:
                           2089 ;src/entities/entities.c:794: dir = d_right;
   0A9D 2E 01         [ 7] 2090 	ld	l,#0x01
                           2091 ;src/entities/entities.c:795: break;
   0A9F 18 0A         [12] 2092 	jr	00107$
                           2093 ;src/entities/entities.c:796: case 3:
   0AA1                    2094 00104$:
                           2095 ;src/entities/entities.c:797: dir = d_up;
   0AA1 2E 00         [ 7] 2096 	ld	l,#0x00
                           2097 ;src/entities/entities.c:798: break;
   0AA3 18 06         [12] 2098 	jr	00107$
                           2099 ;src/entities/entities.c:799: case 4:
   0AA5                    2100 00105$:
                           2101 ;src/entities/entities.c:800: dir = d_down;
   0AA5 2E 02         [ 7] 2102 	ld	l,#0x02
                           2103 ;src/entities/entities.c:801: break;
   0AA7 18 02         [12] 2104 	jr	00107$
                           2105 ;src/entities/entities.c:802: case 5:
   0AA9                    2106 00106$:
                           2107 ;src/entities/entities.c:803: dir = d_down;
   0AA9 2E 02         [ 7] 2108 	ld	l,#0x02
                           2109 ;src/entities/entities.c:805: }
   0AAB                    2110 00107$:
                           2111 ;src/entities/entities.c:806: return dir;
   0AAB 33            [ 6] 2112 	inc	sp
   0AAC C9            [10] 2113 	ret
                           2114 ;src/entities/entities.c:809: void updateIAState(TEnemy* ene){
                           2115 ;	---------------------------------
                           2116 ; Function updateIAState
                           2117 ; ---------------------------------
   0AAD                    2118 _updateIAState::
   0AAD DD E5         [15] 2119 	push	ix
   0AAF DD 21 00 00   [14] 2120 	ld	ix,#0
   0AB3 DD 39         [15] 2121 	add	ix,sp
   0AB5 21 F6 FF      [10] 2122 	ld	hl,#-10
   0AB8 39            [11] 2123 	add	hl,sp
   0AB9 F9            [ 6] 2124 	ld	sp,hl
                           2125 ;src/entities/entities.c:810: TPlayer* p = &player;
                           2126 ;src/entities/entities.c:811: TCoord* c = &puntos[0];
                           2127 ;src/entities/entities.c:812: TBase* bases = getBases();
   0ABA CDrAEr12      [17] 2128 	call	_getBases
   0ABD DD 75 F7      [19] 2129 	ld	-9 (ix),l
   0AC0 DD 74 F8      [19] 2130 	ld	-8 (ix),h
                           2131 ;src/entities/entities.c:814: switch(ene->statusIA){
   0AC3 DD 7E 04      [19] 2132 	ld	a,4 (ix)
   0AC6 DD 77 FB      [19] 2133 	ld	-5 (ix),a
   0AC9 DD 7E 05      [19] 2134 	ld	a,5 (ix)
   0ACC DD 77 FC      [19] 2135 	ld	-4 (ix),a
   0ACF DD 7E FB      [19] 2136 	ld	a,-5 (ix)
   0AD2 C6 49         [ 7] 2137 	add	a, #0x49
   0AD4 DD 77 F9      [19] 2138 	ld	-7 (ix),a
   0AD7 DD 7E FC      [19] 2139 	ld	a,-4 (ix)
   0ADA CE 00         [ 7] 2140 	adc	a, #0x00
   0ADC DD 77 FA      [19] 2141 	ld	-6 (ix),a
   0ADF DD 6E F9      [19] 2142 	ld	l,-7 (ix)
   0AE2 DD 66 FA      [19] 2143 	ld	h,-6 (ix)
   0AE5 7E            [ 7] 2144 	ld	a,(hl)
   0AE6 DD 77 FF      [19] 2145 	ld	-1 (ix), a
   0AE9 B7            [ 4] 2146 	or	a, a
   0AEA 28 0B         [12] 2147 	jr	Z,00101$
   0AEC DD 7E FF      [19] 2148 	ld	a,-1 (ix)
   0AEF D6 03         [ 7] 2149 	sub	a, #0x03
   0AF1 CAr87r0B      [10] 2150 	jp	Z,00110$
   0AF4 C3r73r0C      [10] 2151 	jp	00122$
                           2152 ;src/entities/entities.c:815: case s_mover:
   0AF7                    2153 00101$:
                           2154 ;src/entities/entities.c:818: if(basesCapturadas >= 5 && contarEnemigos() == 1 && count == 0){
   0AF7 3Ar00r00      [13] 2155 	ld	a,(#_basesCapturadas + 0)
   0AFA D6 05         [ 7] 2156 	sub	a, #0x05
   0AFC 38 1B         [12] 2157 	jr	C,00103$
   0AFE CDr27r08      [17] 2158 	call	_contarEnemigos
   0B01 2D            [ 4] 2159 	dec	l
   0B02 20 15         [12] 2160 	jr	NZ,00103$
   0B04 3Ar00r00      [13] 2161 	ld	a,(#_count + 0)
   0B07 B7            [ 4] 2162 	or	a, a
   0B08 20 0F         [12] 2163 	jr	NZ,00103$
                           2164 ;src/entities/entities.c:819: ene->statusIA = s_huir;
   0B0A DD 6E F9      [19] 2165 	ld	l,-7 (ix)
   0B0D DD 66 FA      [19] 2166 	ld	h,-6 (ix)
   0B10 36 03         [10] 2167 	ld	(hl),#0x03
                           2168 ;src/entities/entities.c:820: count++;
   0B12 21r00r00      [10] 2169 	ld	hl, #_count+0
   0B15 34            [11] 2170 	inc	(hl)
                           2171 ;src/entities/entities.c:821: break;		//Salimos
   0B16 C3r73r0C      [10] 2172 	jp	00122$
   0B19                    2173 00103$:
                           2174 ;src/entities/entities.c:824: if(moverHaciaPuntoDeControl(ene))	//si devuelve true es que ha llegado al siguiente
   0B19 DD 6E FB      [19] 2175 	ld	l,-5 (ix)
   0B1C DD 66 FC      [19] 2176 	ld	h,-4 (ix)
   0B1F E5            [11] 2177 	push	hl
   0B20 CDr3Er09      [17] 2178 	call	_moverHaciaPuntoDeControl
   0B23 F1            [10] 2179 	pop	af
   0B24 DD 75 FF      [19] 2180 	ld	-1 (ix),l
                           2181 ;src/entities/entities.c:825: ene->puntoDeControl++;			//punto de control por lo que ahora cambia de destino
   0B27 DD 7E FB      [19] 2182 	ld	a,-5 (ix)
   0B2A C6 4D         [ 7] 2183 	add	a, #0x4D
   0B2C DD 77 F9      [19] 2184 	ld	-7 (ix),a
   0B2F DD 7E FC      [19] 2185 	ld	a,-4 (ix)
   0B32 CE 00         [ 7] 2186 	adc	a, #0x00
   0B34 DD 77 FA      [19] 2187 	ld	-6 (ix),a
                           2188 ;src/entities/entities.c:824: if(moverHaciaPuntoDeControl(ene))	//si devuelve true es que ha llegado al siguiente
   0B37 DD 7E FF      [19] 2189 	ld	a,-1 (ix)
   0B3A B7            [ 4] 2190 	or	a, a
   0B3B 28 13         [12] 2191 	jr	Z,00107$
                           2192 ;src/entities/entities.c:825: ene->puntoDeControl++;			//punto de control por lo que ahora cambia de destino
   0B3D DD 6E F9      [19] 2193 	ld	l,-7 (ix)
   0B40 DD 66 FA      [19] 2194 	ld	h,-6 (ix)
   0B43 7E            [ 7] 2195 	ld	a,(hl)
   0B44 DD 77 FF      [19] 2196 	ld	-1 (ix), a
   0B47 4F            [ 4] 2197 	ld	c, a
   0B48 0C            [ 4] 2198 	inc	c
   0B49 DD 6E F9      [19] 2199 	ld	l,-7 (ix)
   0B4C DD 66 FA      [19] 2200 	ld	h,-6 (ix)
   0B4F 71            [ 7] 2201 	ld	(hl),c
   0B50                    2202 00107$:
                           2203 ;src/entities/entities.c:826: if(ene->puntoDeControl > 3){
   0B50 DD 6E F9      [19] 2204 	ld	l,-7 (ix)
   0B53 DD 66 FA      [19] 2205 	ld	h,-6 (ix)
   0B56 4E            [ 7] 2206 	ld	c,(hl)
   0B57 3E 03         [ 7] 2207 	ld	a,#0x03
   0B59 91            [ 4] 2208 	sub	a, c
   0B5A 30 18         [12] 2209 	jr	NC,00109$
                           2210 ;src/entities/entities.c:828: c->x = p->ent.x;
   0B5C ED 4Br26r00   [20] 2211 	ld	bc, (#(_player + 0x0026) + 0)
   0B60 21rB0r02      [10] 2212 	ld	hl,#_puntos
   0B63 71            [ 7] 2213 	ld	(hl),c
                           2214 ;src/entities/entities.c:829: c->y = p->ent.y;
   0B64 ED 4Br28r00   [20] 2215 	ld	bc, (#(_player + 0x0026) + 2)
   0B68 21rB1r02      [10] 2216 	ld	hl,#(_puntos + 0x0001)
   0B6B 71            [ 7] 2217 	ld	(hl),c
                           2218 ;src/entities/entities.c:830: ene->puntoDeControl = 0;
   0B6C DD 6E F9      [19] 2219 	ld	l,-7 (ix)
   0B6F DD 66 FA      [19] 2220 	ld	h,-6 (ix)
   0B72 36 00         [10] 2221 	ld	(hl),#0x00
   0B74                    2222 00109$:
                           2223 ;src/entities/entities.c:832: comprobarSiDisparo(ene, p);
   0B74 21r00r00      [10] 2224 	ld	hl,#_player
   0B77 E5            [11] 2225 	push	hl
   0B78 DD 6E FB      [19] 2226 	ld	l,-5 (ix)
   0B7B DD 66 FC      [19] 2227 	ld	h,-4 (ix)
   0B7E E5            [11] 2228 	push	hl
   0B7F CDr78r0C      [17] 2229 	call	_comprobarSiDisparo
   0B82 F1            [10] 2230 	pop	af
   0B83 F1            [10] 2231 	pop	af
                           2232 ;src/entities/entities.c:833: break;
   0B84 C3r73r0C      [10] 2233 	jp	00122$
                           2234 ;src/entities/entities.c:834: case s_huir:
   0B87                    2235 00110$:
                           2236 ;src/entities/entities.c:835: ene->ent.curr_dir = calculaDireccion();
   0B87 DD 7E FB      [19] 2237 	ld	a,-5 (ix)
   0B8A C6 26         [ 7] 2238 	add	a, #0x26
   0B8C 4F            [ 4] 2239 	ld	c,a
   0B8D DD 7E FC      [19] 2240 	ld	a,-4 (ix)
   0B90 CE 00         [ 7] 2241 	adc	a, #0x00
   0B92 47            [ 4] 2242 	ld	b,a
   0B93 DD 7E FB      [19] 2243 	ld	a,-5 (ix)
   0B96 C6 3B         [ 7] 2244 	add	a, #0x3B
   0B98 6F            [ 4] 2245 	ld	l,a
   0B99 DD 7E FC      [19] 2246 	ld	a,-4 (ix)
   0B9C CE 00         [ 7] 2247 	adc	a, #0x00
   0B9E 67            [ 4] 2248 	ld	h,a
   0B9F E5            [11] 2249 	push	hl
   0BA0 C5            [11] 2250 	push	bc
   0BA1 CDr6Er0A      [17] 2251 	call	_calculaDireccion
   0BA4 55            [ 4] 2252 	ld	d,l
   0BA5 C1            [10] 2253 	pop	bc
   0BA6 E1            [10] 2254 	pop	hl
   0BA7 72            [ 7] 2255 	ld	(hl),d
                           2256 ;src/entities/entities.c:836: if(accion(&ene->ent, es_mover, ene->ent.curr_dir) != d_nothing){
   0BA8 C5            [11] 2257 	push	bc
   0BA9 1E 01         [ 7] 2258 	ld	e, #0x01
   0BAB D5            [11] 2259 	push	de
   0BAC C5            [11] 2260 	push	bc
   0BAD CDrB8r02      [17] 2261 	call	_accion
   0BB0 F1            [10] 2262 	pop	af
   0BB1 F1            [10] 2263 	pop	af
   0BB2 C1            [10] 2264 	pop	bc
   0BB3 7D            [ 4] 2265 	ld	a,l
   0BB4 D6 04         [ 7] 2266 	sub	a, #0x04
   0BB6 CAr73r0C      [10] 2267 	jp	Z,00122$
                           2268 ;src/entities/entities.c:837: calculaEntity(&ene->ent, SI);
   0BB9 C5            [11] 2269 	push	bc
   0BBA 3E 01         [ 7] 2270 	ld	a,#0x01
   0BBC F5            [11] 2271 	push	af
   0BBD 33            [ 6] 2272 	inc	sp
   0BBE C5            [11] 2273 	push	bc
   0BBF CDr45r0F      [17] 2274 	call	_calculaEntity
   0BC2 F1            [10] 2275 	pop	af
   0BC3 33            [ 6] 2276 	inc	sp
   0BC4 CDr93r0E      [17] 2277 	call	_borrarEntity
   0BC7 F1            [10] 2278 	pop	af
                           2279 ;src/entities/entities.c:839: ene->ent.cuadrante++;
   0BC8 DD 7E FB      [19] 2280 	ld	a,-5 (ix)
   0BCB C6 42         [ 7] 2281 	add	a, #0x42
   0BCD 6F            [ 4] 2282 	ld	l,a
   0BCE DD 7E FC      [19] 2283 	ld	a,-4 (ix)
   0BD1 CE 00         [ 7] 2284 	adc	a, #0x00
   0BD3 67            [ 4] 2285 	ld	h,a
   0BD4 4E            [ 7] 2286 	ld	c,(hl)
   0BD5 0C            [ 4] 2287 	inc	c
   0BD6 71            [ 7] 2288 	ld	(hl),c
                           2289 ;src/entities/entities.c:840: if(ene->ent.cuadrante > 5)
   0BD7 3E 05         [ 7] 2290 	ld	a,#0x05
   0BD9 91            [ 4] 2291 	sub	a, c
   0BDA 30 02         [12] 2292 	jr	NC,00135$
                           2293 ;src/entities/entities.c:841: ene->ent.cuadrante = 0;
   0BDC 36 00         [10] 2294 	ld	(hl),#0x00
                           2295 ;src/entities/entities.c:842: for(i = 0; i<NUM_BASES; i++){
   0BDE                    2296 00135$:
   0BDE DD 36 F6 00   [19] 2297 	ld	-10 (ix),#0x00
   0BE2 DD 36 F9 00   [19] 2298 	ld	-7 (ix),#0x00
   0BE6 DD 36 FA 00   [19] 2299 	ld	-6 (ix),#0x00
   0BEA                    2300 00120$:
                           2301 ;src/entities/entities.c:843: if(bases[i].whom == 0 && bases[i].ent.cuadrante != mapaActual){
   0BEA DD 7E F7      [19] 2302 	ld	a,-9 (ix)
   0BED DD 86 F9      [19] 2303 	add	a, -7 (ix)
   0BF0 DD 77 FB      [19] 2304 	ld	-5 (ix),a
   0BF3 DD 7E F8      [19] 2305 	ld	a,-8 (ix)
   0BF6 DD 8E FA      [19] 2306 	adc	a, -6 (ix)
   0BF9 DD 77 FC      [19] 2307 	ld	-4 (ix),a
   0BFC DD 6E FB      [19] 2308 	ld	l,-5 (ix)
   0BFF DD 66 FC      [19] 2309 	ld	h,-4 (ix)
   0C02 7E            [ 7] 2310 	ld	a,(hl)
   0C03 B7            [ 4] 2311 	or	a, a
   0C04 20 52         [12] 2312 	jr	NZ,00121$
   0C06 DD 6E FB      [19] 2313 	ld	l,-5 (ix)
   0C09 DD 66 FC      [19] 2314 	ld	h,-4 (ix)
   0C0C 11 20 00      [10] 2315 	ld	de, #0x0020
   0C0F 19            [11] 2316 	add	hl, de
   0C10 4E            [ 7] 2317 	ld	c,(hl)
   0C11 3Ar00r00      [13] 2318 	ld	a,(#_mapaActual + 0)
   0C14 91            [ 4] 2319 	sub	a, c
   0C15 28 41         [12] 2320 	jr	Z,00121$
                           2321 ;src/entities/entities.c:844: bases[i].whom = 1;
   0C17 DD 6E FB      [19] 2322 	ld	l,-5 (ix)
   0C1A DD 66 FC      [19] 2323 	ld	h,-4 (ix)
   0C1D 36 01         [10] 2324 	ld	(hl),#0x01
                           2325 ;src/entities/entities.c:845: bases[i].cycles = 0;
   0C1F DD 7E FB      [19] 2326 	ld	a,-5 (ix)
   0C22 C6 03         [ 7] 2327 	add	a, #0x03
   0C24 DD 77 FD      [19] 2328 	ld	-3 (ix),a
   0C27 DD 7E FC      [19] 2329 	ld	a,-4 (ix)
   0C2A CE 00         [ 7] 2330 	adc	a, #0x00
   0C2C DD 77 FE      [19] 2331 	ld	-2 (ix),a
   0C2F DD 6E FD      [19] 2332 	ld	l,-3 (ix)
   0C32 DD 66 FE      [19] 2333 	ld	h,-2 (ix)
   0C35 36 00         [10] 2334 	ld	(hl),#0x00
                           2335 ;src/entities/entities.c:846: bases[i].ent.sprites[0] = NULL;
   0C37 DD 7E FB      [19] 2336 	ld	a,-5 (ix)
   0C3A C6 0F         [ 7] 2337 	add	a, #0x0F
   0C3C DD 77 FD      [19] 2338 	ld	-3 (ix),a
   0C3F DD 7E FC      [19] 2339 	ld	a,-4 (ix)
   0C42 CE 00         [ 7] 2340 	adc	a, #0x00
   0C44 DD 77 FE      [19] 2341 	ld	-2 (ix),a
   0C47 DD 6E FD      [19] 2342 	ld	l,-3 (ix)
   0C4A DD 66 FE      [19] 2343 	ld	h,-2 (ix)
   0C4D 36 00         [10] 2344 	ld	(hl),#0x00
   0C4F 23            [ 6] 2345 	inc	hl
   0C50 36 00         [10] 2346 	ld	(hl),#0x00
                           2347 ;src/entities/entities.c:847: basesCapturadas--;
   0C52 21r00r00      [10] 2348 	ld	hl, #_basesCapturadas+0
   0C55 35            [11] 2349 	dec	(hl)
                           2350 ;src/entities/entities.c:848: break;
   0C56 18 1B         [12] 2351 	jr	00122$
   0C58                    2352 00121$:
                           2353 ;src/entities/entities.c:842: for(i = 0; i<NUM_BASES; i++){
   0C58 DD 7E F9      [19] 2354 	ld	a,-7 (ix)
   0C5B C6 27         [ 7] 2355 	add	a, #0x27
   0C5D DD 77 F9      [19] 2356 	ld	-7 (ix),a
   0C60 DD 7E FA      [19] 2357 	ld	a,-6 (ix)
   0C63 CE 00         [ 7] 2358 	adc	a, #0x00
   0C65 DD 77 FA      [19] 2359 	ld	-6 (ix),a
   0C68 DD 34 F6      [23] 2360 	inc	-10 (ix)
   0C6B DD 7E F6      [19] 2361 	ld	a,-10 (ix)
   0C6E D6 06         [ 7] 2362 	sub	a, #0x06
   0C70 DArEAr0B      [10] 2363 	jp	C,00120$
                           2364 ;src/entities/entities.c:857: }
   0C73                    2365 00122$:
   0C73 DD F9         [10] 2366 	ld	sp, ix
   0C75 DD E1         [14] 2367 	pop	ix
   0C77 C9            [10] 2368 	ret
                           2369 ;src/entities/entities.c:859: void comprobarSiDisparo(TEnemy* ene, TPlayer* p){
                           2370 ;	---------------------------------
                           2371 ; Function comprobarSiDisparo
                           2372 ; ---------------------------------
   0C78                    2373 _comprobarSiDisparo::
   0C78 DD E5         [15] 2374 	push	ix
   0C7A DD 21 00 00   [14] 2375 	ld	ix,#0
   0C7E DD 39         [15] 2376 	add	ix,sp
   0C80 21 F1 FF      [10] 2377 	ld	hl,#-15
   0C83 39            [11] 2378 	add	hl,sp
   0C84 F9            [ 6] 2379 	ld	sp,hl
                           2380 ;src/entities/entities.c:862: if(++ene->shot_cycles >= wshot_cycles){
   0C85 DD 4E 04      [19] 2381 	ld	c,4 (ix)
   0C88 DD 46 05      [19] 2382 	ld	b,5 (ix)
   0C8B 21 4C 00      [10] 2383 	ld	hl,#0x004C
   0C8E 09            [11] 2384 	add	hl,bc
   0C8F EB            [ 4] 2385 	ex	de,hl
   0C90 1A            [ 7] 2386 	ld	a,(de)
   0C91 3C            [ 4] 2387 	inc	a
   0C92 DD 77 F5      [19] 2388 	ld	-11 (ix), a
   0C95 12            [ 7] 2389 	ld	(de),a
   0C96 21r00r00      [10] 2390 	ld	hl,#_wshot_cycles
   0C99 DD 7E F5      [19] 2391 	ld	a,-11 (ix)
   0C9C 96            [ 7] 2392 	sub	a, (hl)
   0C9D DAr23r0E      [10] 2393 	jp	C,00114$
                           2394 ;src/entities/entities.c:863: diff = abs(ene->ent.x - p->ent.x);	
   0CA0 21 26 00      [10] 2395 	ld	hl,#0x0026
   0CA3 09            [11] 2396 	add	hl,bc
   0CA4 DD 75 FC      [19] 2397 	ld	-4 (ix),l
   0CA7 DD 74 FD      [19] 2398 	ld	-3 (ix),h
   0CAA DD 6E FC      [19] 2399 	ld	l,-4 (ix)
   0CAD DD 66 FD      [19] 2400 	ld	h,-3 (ix)
   0CB0 7E            [ 7] 2401 	ld	a,(hl)
   0CB1 DD 77 FA      [19] 2402 	ld	-6 (ix),a
   0CB4 23            [ 6] 2403 	inc	hl
   0CB5 7E            [ 7] 2404 	ld	a,(hl)
   0CB6 DD 77 FB      [19] 2405 	ld	-5 (ix),a
   0CB9 DD 7E 06      [19] 2406 	ld	a,6 (ix)
   0CBC DD 77 F3      [19] 2407 	ld	-13 (ix),a
   0CBF DD 7E 07      [19] 2408 	ld	a,7 (ix)
   0CC2 DD 77 F4      [19] 2409 	ld	-12 (ix),a
   0CC5 DD 7E F3      [19] 2410 	ld	a,-13 (ix)
   0CC8 C6 26         [ 7] 2411 	add	a, #0x26
   0CCA DD 77 F6      [19] 2412 	ld	-10 (ix),a
   0CCD DD 7E F4      [19] 2413 	ld	a,-12 (ix)
   0CD0 CE 00         [ 7] 2414 	adc	a, #0x00
   0CD2 DD 77 F7      [19] 2415 	ld	-9 (ix),a
   0CD5 DD 6E F6      [19] 2416 	ld	l,-10 (ix)
   0CD8 DD 66 F7      [19] 2417 	ld	h,-9 (ix)
   0CDB 7E            [ 7] 2418 	ld	a, (hl)
   0CDC 23            [ 6] 2419 	inc	hl
   0CDD 66            [ 7] 2420 	ld	h,(hl)
   0CDE 6F            [ 4] 2421 	ld	l,a
   0CDF DD 7E FA      [19] 2422 	ld	a,-6 (ix)
   0CE2 95            [ 4] 2423 	sub	a, l
   0CE3 6F            [ 4] 2424 	ld	l,a
   0CE4 DD 7E FB      [19] 2425 	ld	a,-5 (ix)
   0CE7 9C            [ 4] 2426 	sbc	a, h
   0CE8 67            [ 4] 2427 	ld	h,a
   0CE9 C5            [11] 2428 	push	bc
   0CEA D5            [11] 2429 	push	de
   0CEB E5            [11] 2430 	push	hl
   0CEC CDr51r0A      [17] 2431 	call	_abs
   0CEF F1            [10] 2432 	pop	af
   0CF0 D1            [10] 2433 	pop	de
   0CF1 C1            [10] 2434 	pop	bc
   0CF2 DD 75 FA      [19] 2435 	ld	-6 (ix),l
   0CF5 DD 74 FB      [19] 2436 	ld	-5 (ix),h
                           2437 ;src/entities/entities.c:865: if(ene->ent.y > p->ent.y){	//Si se cumple sabemos dir de disparo
   0CF8 21 28 00      [10] 2438 	ld	hl,#0x0028
   0CFB 09            [11] 2439 	add	hl,bc
   0CFC DD 75 F8      [19] 2440 	ld	-8 (ix),l
   0CFF DD 74 F9      [19] 2441 	ld	-7 (ix),h
   0D02 DD 6E F8      [19] 2442 	ld	l,-8 (ix)
   0D05 DD 66 F9      [19] 2443 	ld	h,-7 (ix)
   0D08 7E            [ 7] 2444 	ld	a,(hl)
   0D09 DD 77 F1      [19] 2445 	ld	-15 (ix),a
   0D0C 23            [ 6] 2446 	inc	hl
   0D0D 7E            [ 7] 2447 	ld	a,(hl)
   0D0E DD 77 F2      [19] 2448 	ld	-14 (ix),a
   0D11 E5            [11] 2449 	push	hl
   0D12 DD 6E F3      [19] 2450 	ld	l,-13 (ix)
   0D15 DD 66 F4      [19] 2451 	ld	h,-12 (ix)
   0D18 E5            [11] 2452 	push	hl
   0D19 FD E1         [14] 2453 	pop	iy
   0D1B E1            [10] 2454 	pop	hl
                           2455 ;src/entities/entities.c:870: ene->ent.curr_dir = dir;
   0D1C 21 3B 00      [10] 2456 	ld	hl,#0x003B
   0D1F 09            [11] 2457 	add	hl,bc
   0D20 DD 75 F3      [19] 2458 	ld	-13 (ix),l
   0D23 DD 74 F4      [19] 2459 	ld	-12 (ix),h
                           2460 ;src/entities/entities.c:865: if(ene->ent.y > p->ent.y){	//Si se cumple sabemos dir de disparo
   0D26 FD 7E 28      [19] 2461 	ld	a,40 (iy)
   0D29 DD 77 FE      [19] 2462 	ld	-2 (ix),a
   0D2C FD 7E 29      [19] 2463 	ld	a,41 (iy)
   0D2F DD 77 FF      [19] 2464 	ld	-1 (ix),a
                           2465 ;src/entities/entities.c:864: if(diff <= 2){//Disparo en direccion dir
   0D32 3E 02         [ 7] 2466 	ld	a,#0x02
   0D34 DD BE FA      [19] 2467 	cp	a, -6 (ix)
   0D37 3E 00         [ 7] 2468 	ld	a,#0x00
   0D39 DD 9E FB      [19] 2469 	sbc	a, -5 (ix)
   0D3C E2r41r0D      [10] 2470 	jp	PO, 00136$
   0D3F EE 80         [ 7] 2471 	xor	a, #0x80
   0D41                    2472 00136$:
   0D41 FAr98r0D      [10] 2473 	jp	M,00110$
                           2474 ;src/entities/entities.c:865: if(ene->ent.y > p->ent.y){	//Si se cumple sabemos dir de disparo
   0D44 DD 7E FE      [19] 2475 	ld	a,-2 (ix)
   0D47 DD 96 F1      [19] 2476 	sub	a, -15 (ix)
   0D4A DD 7E FF      [19] 2477 	ld	a,-1 (ix)
   0D4D DD 9E F2      [19] 2478 	sbc	a, -14 (ix)
   0D50 E2r55r0D      [10] 2479 	jp	PO, 00137$
   0D53 EE 80         [ 7] 2480 	xor	a, #0x80
   0D55                    2481 00137$:
   0D55 F2r5Cr0D      [10] 2482 	jp	P,00102$
                           2483 ;src/entities/entities.c:866: dir = d_up;
   0D58 3E 00         [ 7] 2484 	ld	a,#0x00
   0D5A 18 02         [12] 2485 	jr	00103$
   0D5C                    2486 00102$:
                           2487 ;src/entities/entities.c:868: dir = d_down;
   0D5C 3E 02         [ 7] 2488 	ld	a,#0x02
   0D5E                    2489 00103$:
                           2490 ;src/entities/entities.c:870: ene->ent.curr_dir = dir;
   0D5E DD 6E F3      [19] 2491 	ld	l,-13 (ix)
   0D61 DD 66 F4      [19] 2492 	ld	h,-12 (ix)
   0D64 77            [ 7] 2493 	ld	(hl),a
                           2494 ;src/entities/entities.c:871: disparar(&ene->bullet, ene->ent.x, ene->ent.y, dir);
   0D65 DD 6E F8      [19] 2495 	ld	l,-8 (ix)
   0D68 DD 66 F9      [19] 2496 	ld	h,-7 (ix)
   0D6B F5            [11] 2497 	push	af
   0D6C 7E            [ 7] 2498 	ld	a, (hl)
   0D6D 23            [ 6] 2499 	inc	hl
   0D6E 66            [ 7] 2500 	ld	h,(hl)
   0D6F 6F            [ 4] 2501 	ld	l,a
   0D70 F1            [10] 2502 	pop	af
   0D71 DD 75 FA      [19] 2503 	ld	-6 (ix),l
   0D74 DD 6E FC      [19] 2504 	ld	l,-4 (ix)
   0D77 DD 66 FD      [19] 2505 	ld	h,-3 (ix)
   0D7A F5            [11] 2506 	push	af
   0D7B 7E            [ 7] 2507 	ld	a, (hl)
   0D7C 23            [ 6] 2508 	inc	hl
   0D7D 66            [ 7] 2509 	ld	h,(hl)
   0D7E 6F            [ 4] 2510 	ld	l,a
   0D7F F1            [10] 2511 	pop	af
   0D80 DD 75 F5      [19] 2512 	ld	-11 (ix),l
   0D83 D5            [11] 2513 	push	de
   0D84 F5            [11] 2514 	push	af
   0D85 33            [ 6] 2515 	inc	sp
   0D86 DD 66 FA      [19] 2516 	ld	h,-6 (ix)
   0D89 DD 6E F5      [19] 2517 	ld	l,-11 (ix)
   0D8C E5            [11] 2518 	push	hl
   0D8D C5            [11] 2519 	push	bc
   0D8E CDr9Fr06      [17] 2520 	call	_disparar
   0D91 F1            [10] 2521 	pop	af
   0D92 F1            [10] 2522 	pop	af
   0D93 33            [ 6] 2523 	inc	sp
   0D94 D1            [10] 2524 	pop	de
   0D95 C3r21r0E      [10] 2525 	jp	00111$
   0D98                    2526 00110$:
                           2527 ;src/entities/entities.c:873: diff = abs(ene->ent.y - p->ent.y);	
   0D98 DD 7E F1      [19] 2528 	ld	a,-15 (ix)
   0D9B DD 96 FE      [19] 2529 	sub	a, -2 (ix)
   0D9E 6F            [ 4] 2530 	ld	l,a
   0D9F DD 7E F2      [19] 2531 	ld	a,-14 (ix)
   0DA2 DD 9E FF      [19] 2532 	sbc	a, -1 (ix)
   0DA5 67            [ 4] 2533 	ld	h,a
   0DA6 C5            [11] 2534 	push	bc
   0DA7 D5            [11] 2535 	push	de
   0DA8 E5            [11] 2536 	push	hl
   0DA9 CDr51r0A      [17] 2537 	call	_abs
   0DAC F1            [10] 2538 	pop	af
   0DAD D1            [10] 2539 	pop	de
   0DAE C1            [10] 2540 	pop	bc
                           2541 ;src/entities/entities.c:874: if(diff <= 2){
   0DAF 3E 02         [ 7] 2542 	ld	a,#0x02
   0DB1 BD            [ 4] 2543 	cp	a, l
   0DB2 3E 00         [ 7] 2544 	ld	a,#0x00
   0DB4 9C            [ 4] 2545 	sbc	a, h
   0DB5 E2rBAr0D      [10] 2546 	jp	PO, 00138$
   0DB8 EE 80         [ 7] 2547 	xor	a, #0x80
   0DBA                    2548 00138$:
   0DBA FAr21r0E      [10] 2549 	jp	M,00111$
                           2550 ;src/entities/entities.c:875: if(ene->ent.x > p->ent.x){	//Si se cumple sabemos dir de disparo
   0DBD DD 6E FC      [19] 2551 	ld	l,-4 (ix)
   0DC0 DD 66 FD      [19] 2552 	ld	h,-3 (ix)
   0DC3 7E            [ 7] 2553 	ld	a,(hl)
   0DC4 DD 77 FE      [19] 2554 	ld	-2 (ix),a
   0DC7 23            [ 6] 2555 	inc	hl
   0DC8 7E            [ 7] 2556 	ld	a,(hl)
   0DC9 DD 77 FF      [19] 2557 	ld	-1 (ix),a
   0DCC DD 6E F6      [19] 2558 	ld	l,-10 (ix)
   0DCF DD 66 F7      [19] 2559 	ld	h,-9 (ix)
   0DD2 7E            [ 7] 2560 	ld	a, (hl)
   0DD3 23            [ 6] 2561 	inc	hl
   0DD4 66            [ 7] 2562 	ld	h,(hl)
   0DD5 DD 96 FE      [19] 2563 	sub	a, -2 (ix)
   0DD8 7C            [ 4] 2564 	ld	a,h
   0DD9 DD 9E FF      [19] 2565 	sbc	a, -1 (ix)
   0DDC E2rE1r0D      [10] 2566 	jp	PO, 00139$
   0DDF EE 80         [ 7] 2567 	xor	a, #0x80
   0DE1                    2568 00139$:
   0DE1 F2rE8r0D      [10] 2569 	jp	P,00105$
                           2570 ;src/entities/entities.c:876: dir = d_left;
   0DE4 3E 03         [ 7] 2571 	ld	a,#0x03
   0DE6 18 02         [12] 2572 	jr	00106$
   0DE8                    2573 00105$:
                           2574 ;src/entities/entities.c:878: dir = d_right;
   0DE8 3E 01         [ 7] 2575 	ld	a,#0x01
   0DEA                    2576 00106$:
                           2577 ;src/entities/entities.c:880: ene->ent.curr_dir = dir;
   0DEA DD 6E F3      [19] 2578 	ld	l,-13 (ix)
   0DED DD 66 F4      [19] 2579 	ld	h,-12 (ix)
   0DF0 77            [ 7] 2580 	ld	(hl),a
                           2581 ;src/entities/entities.c:881: disparar(&ene->bullet, ene->ent.x, ene->ent.y, dir);
   0DF1 DD 6E F8      [19] 2582 	ld	l,-8 (ix)
   0DF4 DD 66 F9      [19] 2583 	ld	h,-7 (ix)
   0DF7 F5            [11] 2584 	push	af
   0DF8 7E            [ 7] 2585 	ld	a, (hl)
   0DF9 23            [ 6] 2586 	inc	hl
   0DFA 66            [ 7] 2587 	ld	h,(hl)
   0DFB 6F            [ 4] 2588 	ld	l,a
   0DFC F1            [10] 2589 	pop	af
   0DFD DD 75 FE      [19] 2590 	ld	-2 (ix),l
   0E00 DD 6E FC      [19] 2591 	ld	l,-4 (ix)
   0E03 DD 66 FD      [19] 2592 	ld	h,-3 (ix)
   0E06 F5            [11] 2593 	push	af
   0E07 7E            [ 7] 2594 	ld	a, (hl)
   0E08 23            [ 6] 2595 	inc	hl
   0E09 66            [ 7] 2596 	ld	h,(hl)
   0E0A 6F            [ 4] 2597 	ld	l,a
   0E0B F1            [10] 2598 	pop	af
   0E0C DD 75 F1      [19] 2599 	ld	-15 (ix),l
   0E0F D5            [11] 2600 	push	de
   0E10 F5            [11] 2601 	push	af
   0E11 33            [ 6] 2602 	inc	sp
   0E12 DD 66 FE      [19] 2603 	ld	h,-2 (ix)
   0E15 DD 6E F1      [19] 2604 	ld	l,-15 (ix)
   0E18 E5            [11] 2605 	push	hl
   0E19 C5            [11] 2606 	push	bc
   0E1A CDr9Fr06      [17] 2607 	call	_disparar
   0E1D F1            [10] 2608 	pop	af
   0E1E F1            [10] 2609 	pop	af
   0E1F 33            [ 6] 2610 	inc	sp
   0E20 D1            [10] 2611 	pop	de
   0E21                    2612 00111$:
                           2613 ;src/entities/entities.c:885: ene->shot_cycles = 0;
   0E21 AF            [ 4] 2614 	xor	a, a
   0E22 12            [ 7] 2615 	ld	(de),a
   0E23                    2616 00114$:
   0E23 DD F9         [10] 2617 	ld	sp, ix
   0E25 DD E1         [14] 2618 	pop	ix
   0E27 C9            [10] 2619 	ret
                           2620 ;src/entities/entities.c:891: void redibujarEntity(TEntity* ent, u8 w, u8 h){
                           2621 ;	---------------------------------
                           2622 ; Function redibujarEntity
                           2623 ; ---------------------------------
   0E28                    2624 _redibujarEntity::
   0E28 DD E5         [15] 2625 	push	ix
   0E2A DD 21 00 00   [14] 2626 	ld	ix,#0
   0E2E DD 39         [15] 2627 	add	ix,sp
   0E30 3B            [ 6] 2628 	dec	sp
                           2629 ;src/entities/entities.c:892: if (ent->draw && ent->cuadrante == mapaActual) {
   0E31 DD 4E 04      [19] 2630 	ld	c,4 (ix)
   0E34 DD 46 05      [19] 2631 	ld	b,5 (ix)
   0E37 21 0A 00      [10] 2632 	ld	hl,#0x000A
   0E3A 09            [11] 2633 	add	hl,bc
   0E3B EB            [ 4] 2634 	ex	de,hl
   0E3C 1A            [ 7] 2635 	ld	a,(de)
   0E3D B7            [ 4] 2636 	or	a, a
   0E3E 28 4F         [12] 2637 	jr	Z,00104$
   0E40 C5            [11] 2638 	push	bc
   0E41 FD E1         [14] 2639 	pop	iy
   0E43 FD 7E 1C      [19] 2640 	ld	a,28 (iy)
   0E46 DD 77 FF      [19] 2641 	ld	-1 (ix),a
   0E49 3Ar00r00      [13] 2642 	ld	a,(#_mapaActual + 0)
   0E4C DD 96 FF      [19] 2643 	sub	a, -1 (ix)
   0E4F 20 3E         [12] 2644 	jr	NZ,00104$
                           2645 ;src/entities/entities.c:893: borrarEntity(ent);
   0E51 C5            [11] 2646 	push	bc
   0E52 D5            [11] 2647 	push	de
   0E53 C5            [11] 2648 	push	bc
   0E54 CDr93r0E      [17] 2649 	call	_borrarEntity
   0E57 F1            [10] 2650 	pop	af
   0E58 D1            [10] 2651 	pop	de
   0E59 C1            [10] 2652 	pop	bc
                           2653 ;src/entities/entities.c:894: ent->px = ent->x;
   0E5A FD 21 04 00   [14] 2654 	ld	iy,#0x0004
   0E5E FD 09         [15] 2655 	add	iy, bc
   0E60 69            [ 4] 2656 	ld	l, c
   0E61 60            [ 4] 2657 	ld	h, b
   0E62 7E            [ 7] 2658 	ld	a, (hl)
   0E63 23            [ 6] 2659 	inc	hl
   0E64 66            [ 7] 2660 	ld	h,(hl)
   0E65 FD 77 00      [19] 2661 	ld	0 (iy), a
   0E68 FD 74 01      [19] 2662 	ld	1 (iy),h
                           2663 ;src/entities/entities.c:895: ent->py = ent->y;
   0E6B FD 21 06 00   [14] 2664 	ld	iy,#0x0006
   0E6F FD 09         [15] 2665 	add	iy, bc
   0E71 69            [ 4] 2666 	ld	l, c
   0E72 60            [ 4] 2667 	ld	h, b
   0E73 23            [ 6] 2668 	inc	hl
   0E74 23            [ 6] 2669 	inc	hl
   0E75 7E            [ 7] 2670 	ld	a, (hl)
   0E76 23            [ 6] 2671 	inc	hl
   0E77 66            [ 7] 2672 	ld	h,(hl)
   0E78 FD 77 00      [19] 2673 	ld	0 (iy), a
   0E7B FD 74 01      [19] 2674 	ld	1 (iy),h
                           2675 ;src/entities/entities.c:896: dibujarEntity(ent, w, h);
   0E7E D5            [11] 2676 	push	de
   0E7F DD 66 07      [19] 2677 	ld	h,7 (ix)
   0E82 DD 6E 06      [19] 2678 	ld	l,6 (ix)
   0E85 E5            [11] 2679 	push	hl
   0E86 C5            [11] 2680 	push	bc
   0E87 CDrF9r0E      [17] 2681 	call	_dibujarEntity
   0E8A F1            [10] 2682 	pop	af
   0E8B F1            [10] 2683 	pop	af
   0E8C D1            [10] 2684 	pop	de
                           2685 ;src/entities/entities.c:897: ent->draw = NO;
   0E8D AF            [ 4] 2686 	xor	a, a
   0E8E 12            [ 7] 2687 	ld	(de),a
   0E8F                    2688 00104$:
   0E8F 33            [ 6] 2689 	inc	sp
   0E90 DD E1         [14] 2690 	pop	ix
   0E92 C9            [10] 2691 	ret
                           2692 ;src/entities/entities.c:901: void borrarEntity(TEntity* ent){
                           2693 ;	---------------------------------
                           2694 ; Function borrarEntity
                           2695 ; ---------------------------------
   0E93                    2696 _borrarEntity::
   0E93 DD E5         [15] 2697 	push	ix
   0E95 DD 21 00 00   [14] 2698 	ld	ix,#0
   0E99 DD 39         [15] 2699 	add	ix,sp
   0E9B F5            [11] 2700 	push	af
   0E9C F5            [11] 2701 	push	af
                           2702 ;src/entities/entities.c:902: if(ent->draw){
   0E9D DD 4E 04      [19] 2703 	ld	c,4 (ix)
   0EA0 DD 46 05      [19] 2704 	ld	b,5 (ix)
   0EA3 C5            [11] 2705 	push	bc
   0EA4 FD E1         [14] 2706 	pop	iy
   0EA6 FD 7E 0A      [19] 2707 	ld	a,10 (iy)
   0EA9 B7            [ 4] 2708 	or	a, a
   0EAA 28 48         [12] 2709 	jr	Z,00103$
                           2710 ;src/entities/entities.c:903: cpct_etm_drawTileBox2x4(ent->tpx, ent->tpy, ent->tw, ent->th, g_map11_W, ORIGEN_MAPA, mapa);
   0EAC 2Ar00r00      [16] 2711 	ld	hl,(_mapa)
   0EAF DD 75 FD      [19] 2712 	ld	-3 (ix),l
   0EB2 DD 74 FE      [19] 2713 	ld	-2 (ix),h
   0EB5 69            [ 4] 2714 	ld	l, c
   0EB6 60            [ 4] 2715 	ld	h, b
   0EB7 11 1E 00      [10] 2716 	ld	de, #0x001E
   0EBA 19            [11] 2717 	add	hl, de
   0EBB 7E            [ 7] 2718 	ld	a,(hl)
   0EBC DD 77 FF      [19] 2719 	ld	-1 (ix),a
   0EBF 69            [ 4] 2720 	ld	l, c
   0EC0 60            [ 4] 2721 	ld	h, b
   0EC1 11 1D 00      [10] 2722 	ld	de, #0x001D
   0EC4 19            [11] 2723 	add	hl, de
   0EC5 7E            [ 7] 2724 	ld	a,(hl)
   0EC6 DD 77 FC      [19] 2725 	ld	-4 (ix),a
   0EC9 69            [ 4] 2726 	ld	l, c
   0ECA 60            [ 4] 2727 	ld	h, b
   0ECB 11 20 00      [10] 2728 	ld	de, #0x0020
   0ECE 19            [11] 2729 	add	hl, de
   0ECF 5E            [ 7] 2730 	ld	e,(hl)
   0ED0 69            [ 4] 2731 	ld	l, c
   0ED1 60            [ 4] 2732 	ld	h, b
   0ED2 01 1F 00      [10] 2733 	ld	bc, #0x001F
   0ED5 09            [11] 2734 	add	hl, bc
   0ED6 46            [ 7] 2735 	ld	b,(hl)
   0ED7 DD 6E FD      [19] 2736 	ld	l,-3 (ix)
   0EDA DD 66 FE      [19] 2737 	ld	h,-2 (ix)
   0EDD E5            [11] 2738 	push	hl
   0EDE 21 90 C1      [10] 2739 	ld	hl,#0xC190
   0EE1 E5            [11] 2740 	push	hl
   0EE2 3E 28         [ 7] 2741 	ld	a,#0x28
   0EE4 F5            [11] 2742 	push	af
   0EE5 33            [ 6] 2743 	inc	sp
   0EE6 DD 7E FF      [19] 2744 	ld	a,-1 (ix)
   0EE9 F5            [11] 2745 	push	af
   0EEA 33            [ 6] 2746 	inc	sp
   0EEB DD 56 FC      [19] 2747 	ld	d, -4 (ix)
   0EEE D5            [11] 2748 	push	de
   0EEF C5            [11] 2749 	push	bc
   0EF0 33            [ 6] 2750 	inc	sp
   0EF1 CDr00r00      [17] 2751 	call	_cpct_etm_drawTileBox2x4
   0EF4                    2752 00103$:
   0EF4 DD F9         [10] 2753 	ld	sp, ix
   0EF6 DD E1         [14] 2754 	pop	ix
   0EF8 C9            [10] 2755 	ret
                           2756 ;src/entities/entities.c:907: void dibujarEntity(TEntity* ent, u8 w, u8 h){
                           2757 ;	---------------------------------
                           2758 ; Function dibujarEntity
                           2759 ; ---------------------------------
   0EF9                    2760 _dibujarEntity::
   0EF9 DD E5         [15] 2761 	push	ix
   0EFB DD 21 00 00   [14] 2762 	ld	ix,#0
   0EFF DD 39         [15] 2763 	add	ix,sp
   0F01 F5            [11] 2764 	push	af
                           2765 ;src/entities/entities.c:908: if (ent->draw) {
   0F02 DD 4E 04      [19] 2766 	ld	c,4 (ix)
   0F05 DD 46 05      [19] 2767 	ld	b,5 (ix)
   0F08 C5            [11] 2768 	push	bc
   0F09 FD E1         [14] 2769 	pop	iy
   0F0B FD 7E 0A      [19] 2770 	ld	a,10 (iy)
   0F0E B7            [ 4] 2771 	or	a, a
   0F0F 28 2F         [12] 2772 	jr	Z,00103$
                           2773 ;src/entities/entities.c:909: cpct_drawSpriteMaskedAlignedTable(ent->sprites[ent->curr_dir],ent->vmem, w, h, g_tablatrans);
   0F11 69            [ 4] 2774 	ld	l, c
   0F12 60            [ 4] 2775 	ld	h, b
   0F13 11 21 00      [10] 2776 	ld	de, #0x0021
   0F16 19            [11] 2777 	add	hl, de
   0F17 5E            [ 7] 2778 	ld	e,(hl)
   0F18 23            [ 6] 2779 	inc	hl
   0F19 56            [ 7] 2780 	ld	d,(hl)
   0F1A 21 0B 00      [10] 2781 	ld	hl,#0x000B
   0F1D 09            [11] 2782 	add	hl,bc
   0F1E E3            [19] 2783 	ex	(sp), hl
   0F1F 69            [ 4] 2784 	ld	l, c
   0F20 60            [ 4] 2785 	ld	h, b
   0F21 01 15 00      [10] 2786 	ld	bc, #0x0015
   0F24 09            [11] 2787 	add	hl, bc
   0F25 4E            [ 7] 2788 	ld	c,(hl)
   0F26 CB 21         [ 8] 2789 	sla	c
   0F28 E1            [10] 2790 	pop	hl
   0F29 E5            [11] 2791 	push	hl
   0F2A 06 00         [ 7] 2792 	ld	b,#0x00
   0F2C 09            [11] 2793 	add	hl, bc
   0F2D 4E            [ 7] 2794 	ld	c,(hl)
   0F2E 23            [ 6] 2795 	inc	hl
   0F2F 46            [ 7] 2796 	ld	b,(hl)
   0F30 21r00r01      [10] 2797 	ld	hl,#_g_tablatrans
   0F33 E5            [11] 2798 	push	hl
   0F34 DD 66 07      [19] 2799 	ld	h,7 (ix)
   0F37 DD 6E 06      [19] 2800 	ld	l,6 (ix)
   0F3A E5            [11] 2801 	push	hl
   0F3B D5            [11] 2802 	push	de
   0F3C C5            [11] 2803 	push	bc
   0F3D CDr00r00      [17] 2804 	call	_cpct_drawSpriteMaskedAlignedTable
   0F40                    2805 00103$:
   0F40 DD F9         [10] 2806 	ld	sp, ix
   0F42 DD E1         [14] 2807 	pop	ix
   0F44 C9            [10] 2808 	ret
                           2809 ;src/entities/entities.c:914: void calculaEntity(TEntity* ent, u8 origen){
                           2810 ;	---------------------------------
                           2811 ; Function calculaEntity
                           2812 ; ---------------------------------
   0F45                    2813 _calculaEntity::
   0F45 DD E5         [15] 2814 	push	ix
   0F47 DD 21 00 00   [14] 2815 	ld	ix,#0
   0F4B DD 39         [15] 2816 	add	ix,sp
   0F4D 21 FA FF      [10] 2817 	ld	hl,#-6
   0F50 39            [11] 2818 	add	hl,sp
   0F51 F9            [ 6] 2819 	ld	sp,hl
                           2820 ;src/entities/entities.c:918: ent->tw = ent->sw/2 + (ent->px & 1);
   0F52 DD 7E 04      [19] 2821 	ld	a,4 (ix)
   0F55 DD 77 FA      [19] 2822 	ld	-6 (ix),a
   0F58 DD 7E 05      [19] 2823 	ld	a,5 (ix)
   0F5B DD 77 FB      [19] 2824 	ld	-5 (ix),a
   0F5E DD 7E FA      [19] 2825 	ld	a,-6 (ix)
   0F61 C6 1D         [ 7] 2826 	add	a, #0x1D
   0F63 4F            [ 4] 2827 	ld	c,a
   0F64 DD 7E FB      [19] 2828 	ld	a,-5 (ix)
   0F67 CE 00         [ 7] 2829 	adc	a, #0x00
   0F69 47            [ 4] 2830 	ld	b,a
   0F6A E1            [10] 2831 	pop	hl
   0F6B E5            [11] 2832 	push	hl
   0F6C 11 13 00      [10] 2833 	ld	de, #0x0013
   0F6F 19            [11] 2834 	add	hl, de
   0F70 5E            [ 7] 2835 	ld	e,(hl)
   0F71 CB 3B         [ 8] 2836 	srl	e
   0F73 DD 7E FA      [19] 2837 	ld	a,-6 (ix)
   0F76 C6 04         [ 7] 2838 	add	a, #0x04
   0F78 DD 77 FE      [19] 2839 	ld	-2 (ix),a
   0F7B DD 7E FB      [19] 2840 	ld	a,-5 (ix)
   0F7E CE 00         [ 7] 2841 	adc	a, #0x00
   0F80 DD 77 FF      [19] 2842 	ld	-1 (ix),a
   0F83 DD 6E FE      [19] 2843 	ld	l,-2 (ix)
   0F86 DD 66 FF      [19] 2844 	ld	h,-1 (ix)
   0F89 56            [ 7] 2845 	ld	d,(hl)
   0F8A 23            [ 6] 2846 	inc	hl
   0F8B 66            [ 7] 2847 	ld	h,(hl)
   0F8C 7A            [ 4] 2848 	ld	a,d
   0F8D E6 01         [ 7] 2849 	and	a, #0x01
   0F8F 83            [ 4] 2850 	add	a,e
   0F90 02            [ 7] 2851 	ld	(bc),a
                           2852 ;src/entities/entities.c:922: ent->th = ent->sh/4 + (ent->py & 3 ? 1 : 0);
   0F91 DD 7E FA      [19] 2853 	ld	a,-6 (ix)
   0F94 C6 1E         [ 7] 2854 	add	a, #0x1E
   0F96 4F            [ 4] 2855 	ld	c,a
   0F97 DD 7E FB      [19] 2856 	ld	a,-5 (ix)
   0F9A CE 00         [ 7] 2857 	adc	a, #0x00
   0F9C 47            [ 4] 2858 	ld	b,a
   0F9D E1            [10] 2859 	pop	hl
   0F9E E5            [11] 2860 	push	hl
   0F9F 11 14 00      [10] 2861 	ld	de, #0x0014
   0FA2 19            [11] 2862 	add	hl, de
   0FA3 5E            [ 7] 2863 	ld	e,(hl)
   0FA4 CB 3B         [ 8] 2864 	srl	e
   0FA6 CB 3B         [ 8] 2865 	srl	e
   0FA8 DD 7E FA      [19] 2866 	ld	a,-6 (ix)
   0FAB C6 06         [ 7] 2867 	add	a, #0x06
   0FAD DD 77 FC      [19] 2868 	ld	-4 (ix),a
   0FB0 DD 7E FB      [19] 2869 	ld	a,-5 (ix)
   0FB3 CE 00         [ 7] 2870 	adc	a, #0x00
   0FB5 DD 77 FD      [19] 2871 	ld	-3 (ix),a
   0FB8 DD 6E FC      [19] 2872 	ld	l,-4 (ix)
   0FBB DD 66 FD      [19] 2873 	ld	h,-3 (ix)
   0FBE 56            [ 7] 2874 	ld	d,(hl)
   0FBF 23            [ 6] 2875 	inc	hl
   0FC0 6E            [ 7] 2876 	ld	l,(hl)
   0FC1 7A            [ 4] 2877 	ld	a,d
   0FC2 E6 03         [ 7] 2878 	and	a, #0x03
   0FC4 28 04         [12] 2879 	jr	Z,00106$
   0FC6 16 01         [ 7] 2880 	ld	d,#0x01
   0FC8 18 02         [12] 2881 	jr	00107$
   0FCA                    2882 00106$:
   0FCA 16 00         [ 7] 2883 	ld	d,#0x00
   0FCC                    2884 00107$:
   0FCC 7B            [ 4] 2885 	ld	a,e
   0FCD 82            [ 4] 2886 	add	a, d
   0FCE 02            [ 7] 2887 	ld	(bc),a
                           2888 ;src/entities/entities.c:924: ent->tpx = ent->px / 2;
   0FCF DD 7E FA      [19] 2889 	ld	a,-6 (ix)
   0FD2 C6 1F         [ 7] 2890 	add	a, #0x1F
   0FD4 4F            [ 4] 2891 	ld	c,a
   0FD5 DD 7E FB      [19] 2892 	ld	a,-5 (ix)
   0FD8 CE 00         [ 7] 2893 	adc	a, #0x00
   0FDA 47            [ 4] 2894 	ld	b,a
   0FDB DD 6E FE      [19] 2895 	ld	l,-2 (ix)
   0FDE DD 66 FF      [19] 2896 	ld	h,-1 (ix)
   0FE1 5E            [ 7] 2897 	ld	e,(hl)
   0FE2 23            [ 6] 2898 	inc	hl
   0FE3 56            [ 7] 2899 	ld	d,(hl)
   0FE4 6B            [ 4] 2900 	ld	l, e
   0FE5 62            [ 4] 2901 	ld	h, d
   0FE6 CB 7A         [ 8] 2902 	bit	7, d
   0FE8 28 02         [12] 2903 	jr	Z,00108$
   0FEA EB            [ 4] 2904 	ex	de,hl
   0FEB 23            [ 6] 2905 	inc	hl
   0FEC                    2906 00108$:
   0FEC CB 2C         [ 8] 2907 	sra	h
   0FEE CB 1D         [ 8] 2908 	rr	l
   0FF0 7D            [ 4] 2909 	ld	a,l
   0FF1 02            [ 7] 2910 	ld	(bc),a
                           2911 ;src/entities/entities.c:922: ent->th = ent->sh/4 + (ent->py & 3 ? 1 : 0);
   0FF2 DD 6E FC      [19] 2912 	ld	l,-4 (ix)
   0FF5 DD 66 FD      [19] 2913 	ld	h,-3 (ix)
   0FF8 4E            [ 7] 2914 	ld	c,(hl)
   0FF9 23            [ 6] 2915 	inc	hl
   0FFA 46            [ 7] 2916 	ld	b,(hl)
                           2917 ;src/entities/entities.c:926: ent->tpy = (ent->py - ORIGEN_MAPA_Y) / 4;
   0FFB DD 7E FA      [19] 2918 	ld	a,-6 (ix)
   0FFE C6 20         [ 7] 2919 	add	a, #0x20
   1000 5F            [ 4] 2920 	ld	e,a
   1001 DD 7E FB      [19] 2921 	ld	a,-5 (ix)
   1004 CE 00         [ 7] 2922 	adc	a, #0x00
   1006 57            [ 4] 2923 	ld	d,a
                           2924 ;src/entities/entities.c:925: if(origen == SI)
   1007 DD 7E 06      [19] 2925 	ld	a,6 (ix)
   100A 3D            [ 4] 2926 	dec	a
   100B 20 28         [12] 2927 	jr	NZ,00102$
                           2928 ;src/entities/entities.c:926: ent->tpy = (ent->py - ORIGEN_MAPA_Y) / 4;
   100D 79            [ 4] 2929 	ld	a,c
   100E C6 D8         [ 7] 2930 	add	a,#0xD8
   1010 DD 77 FC      [19] 2931 	ld	-4 (ix),a
   1013 78            [ 4] 2932 	ld	a,b
   1014 CE FF         [ 7] 2933 	adc	a,#0xFF
   1016 DD 77 FD      [19] 2934 	ld	-3 (ix),a
   1019 DD 6E FC      [19] 2935 	ld	l,-4 (ix)
   101C DD 66 FD      [19] 2936 	ld	h,-3 (ix)
   101F DD CB FD 7E   [20] 2937 	bit	7, -3 (ix)
   1023 28 04         [12] 2938 	jr	Z,00109$
   1025 21 DB FF      [10] 2939 	ld	hl,#0xFFDB
   1028 09            [11] 2940 	add	hl,bc
   1029                    2941 00109$:
   1029 CB 2C         [ 8] 2942 	sra	h
   102B CB 1D         [ 8] 2943 	rr	l
   102D CB 2C         [ 8] 2944 	sra	h
   102F CB 1D         [ 8] 2945 	rr	l
   1031 7D            [ 4] 2946 	ld	a,l
   1032 12            [ 7] 2947 	ld	(de),a
   1033 18 15         [12] 2948 	jr	00103$
   1035                    2949 00102$:
                           2950 ;src/entities/entities.c:928: ent->tpy = (ent->py) / 4;
   1035 69            [ 4] 2951 	ld	l, c
   1036 60            [ 4] 2952 	ld	h, b
   1037 CB 78         [ 8] 2953 	bit	7, b
   1039 28 05         [12] 2954 	jr	Z,00110$
   103B 69            [ 4] 2955 	ld	l, c
   103C 60            [ 4] 2956 	ld	h, b
   103D 23            [ 6] 2957 	inc	hl
   103E 23            [ 6] 2958 	inc	hl
   103F 23            [ 6] 2959 	inc	hl
   1040                    2960 00110$:
   1040 CB 2C         [ 8] 2961 	sra	h
   1042 CB 1D         [ 8] 2962 	rr	l
   1044 CB 2C         [ 8] 2963 	sra	h
   1046 CB 1D         [ 8] 2964 	rr	l
   1048 7D            [ 4] 2965 	ld	a,l
   1049 12            [ 7] 2966 	ld	(de),a
   104A                    2967 00103$:
                           2968 ;src/entities/entities.c:929: ent->coll.x = ent->x;
   104A DD 7E FA      [19] 2969 	ld	a,-6 (ix)
   104D C6 17         [ 7] 2970 	add	a, #0x17
   104F 4F            [ 4] 2971 	ld	c,a
   1050 DD 7E FB      [19] 2972 	ld	a,-5 (ix)
   1053 CE 00         [ 7] 2973 	adc	a, #0x00
   1055 47            [ 4] 2974 	ld	b,a
   1056 E1            [10] 2975 	pop	hl
   1057 E5            [11] 2976 	push	hl
   1058 5E            [ 7] 2977 	ld	e,(hl)
   1059 23            [ 6] 2978 	inc	hl
   105A 56            [ 7] 2979 	ld	d,(hl)
   105B 7B            [ 4] 2980 	ld	a,e
   105C 02            [ 7] 2981 	ld	(bc),a
                           2982 ;src/entities/entities.c:930: ent->coll.y = ent->y;
   105D FD 21 18 00   [14] 2983 	ld	iy,#0x0018
   1061 D1            [10] 2984 	pop	de
   1062 D5            [11] 2985 	push	de
   1063 FD 19         [15] 2986 	add	iy, de
   1065 E1            [10] 2987 	pop	hl
   1066 E5            [11] 2988 	push	hl
   1067 23            [ 6] 2989 	inc	hl
   1068 23            [ 6] 2990 	inc	hl
   1069 E5            [11] 2991 	push	hl
   106A 4E            [ 7] 2992 	ld	c,(hl)
   106B 23            [ 6] 2993 	inc	hl
   106C 46            [ 7] 2994 	ld	b,(hl)
   106D E1            [10] 2995 	pop	hl
   106E FD 71 00      [19] 2996 	ld	0 (iy), c
                           2997 ;src/entities/entities.c:931: ent->vmem = cpct_getScreenPtr(CPCT_VMEM_START,ent->x, ent->y);
   1071 DD 7E FA      [19] 2998 	ld	a,-6 (ix)
   1074 C6 21         [ 7] 2999 	add	a, #0x21
   1076 4F            [ 4] 3000 	ld	c,a
   1077 DD 7E FB      [19] 3001 	ld	a,-5 (ix)
   107A CE 00         [ 7] 3002 	adc	a, #0x00
   107C 47            [ 4] 3003 	ld	b,a
   107D 5E            [ 7] 3004 	ld	e,(hl)
   107E 23            [ 6] 3005 	inc	hl
   107F 56            [ 7] 3006 	ld	d,(hl)
   1080 7B            [ 4] 3007 	ld	a,e
   1081 E1            [10] 3008 	pop	hl
   1082 E5            [11] 3009 	push	hl
   1083 5E            [ 7] 3010 	ld	e,(hl)
   1084 23            [ 6] 3011 	inc	hl
   1085 56            [ 7] 3012 	ld	d,(hl)
   1086 53            [ 4] 3013 	ld	d,e
   1087 C5            [11] 3014 	push	bc
   1088 F5            [11] 3015 	push	af
   1089 33            [ 6] 3016 	inc	sp
   108A D5            [11] 3017 	push	de
   108B 33            [ 6] 3018 	inc	sp
   108C 21 00 C0      [10] 3019 	ld	hl,#0xC000
   108F E5            [11] 3020 	push	hl
   1090 CDr00r00      [17] 3021 	call	_cpct_getScreenPtr
   1093 EB            [ 4] 3022 	ex	de,hl
   1094 C1            [10] 3023 	pop	bc
   1095 7B            [ 4] 3024 	ld	a,e
   1096 02            [ 7] 3025 	ld	(bc),a
   1097 03            [ 6] 3026 	inc	bc
   1098 7A            [ 4] 3027 	ld	a,d
   1099 02            [ 7] 3028 	ld	(bc),a
   109A DD F9         [10] 3029 	ld	sp, ix
   109C DD E1         [14] 3030 	pop	ix
   109E C9            [10] 3031 	ret
                           3032 ;src/entities/entities.c:935: void calculaAllEntities(TPlayer* player){
                           3033 ;	---------------------------------
                           3034 ; Function calculaAllEntities
                           3035 ; ---------------------------------
   109F                    3036 _calculaAllEntities::
   109F DD E5         [15] 3037 	push	ix
   10A1 DD 21 00 00   [14] 3038 	ld	ix,#0
   10A5 DD 39         [15] 3039 	add	ix,sp
   10A7 F5            [11] 3040 	push	af
   10A8 F5            [11] 3041 	push	af
                           3042 ;src/entities/entities.c:938: exp = getExplosion();
   10A9 CDr00r00      [17] 3043 	call	_getExplosion
   10AC 4D            [ 4] 3044 	ld	c,l
   10AD 44            [ 4] 3045 	ld	b,h
                           3046 ;src/entities/entities.c:939: calculaEntity(&player->ent, SI);
   10AE DD 5E 04      [19] 3047 	ld	e,4 (ix)
   10B1 DD 56 05      [19] 3048 	ld	d,5 (ix)
   10B4 FD 21 26 00   [14] 3049 	ld	iy,#0x0026
   10B8 FD 19         [15] 3050 	add	iy, de
   10BA C5            [11] 3051 	push	bc
   10BB D5            [11] 3052 	push	de
   10BC 3E 01         [ 7] 3053 	ld	a,#0x01
   10BE F5            [11] 3054 	push	af
   10BF 33            [ 6] 3055 	inc	sp
   10C0 FD E5         [15] 3056 	push	iy
   10C2 CDr45r0F      [17] 3057 	call	_calculaEntity
   10C5 F1            [10] 3058 	pop	af
   10C6 33            [ 6] 3059 	inc	sp
   10C7 D1            [10] 3060 	pop	de
   10C8 C1            [10] 3061 	pop	bc
                           3062 ;src/entities/entities.c:940: calculaEntity(&player->bullet.ent, SI);
   10C9 13            [ 6] 3063 	inc	de
   10CA 13            [ 6] 3064 	inc	de
   10CB 13            [ 6] 3065 	inc	de
   10CC C5            [11] 3066 	push	bc
   10CD 3E 01         [ 7] 3067 	ld	a,#0x01
   10CF F5            [11] 3068 	push	af
   10D0 33            [ 6] 3069 	inc	sp
   10D1 D5            [11] 3070 	push	de
   10D2 CDr45r0F      [17] 3071 	call	_calculaEntity
   10D5 F1            [10] 3072 	pop	af
   10D6 33            [ 6] 3073 	inc	sp
   10D7 C1            [10] 3074 	pop	bc
                           3075 ;src/entities/entities.c:941: calculaEntity(&exp->ent, SI);
   10D8 03            [ 6] 3076 	inc	bc
   10D9 3E 01         [ 7] 3077 	ld	a,#0x01
   10DB F5            [11] 3078 	push	af
   10DC 33            [ 6] 3079 	inc	sp
   10DD C5            [11] 3080 	push	bc
   10DE CDr45r0F      [17] 3081 	call	_calculaEntity
   10E1 F1            [10] 3082 	pop	af
   10E2 33            [ 6] 3083 	inc	sp
                           3084 ;src/entities/entities.c:942: for(i=0;i < NUM_ENEMIGOS;++i){
   10E3 DD 36 FC 00   [19] 3085 	ld	-4 (ix),#0x00
   10E7 01 00 00      [10] 3086 	ld	bc,#0x0000
   10EA                    3087 00104$:
                           3088 ;src/entities/entities.c:943: if(enemigos[i].ent.cuadrante == mapaActual){
   10EA 21rDCr00      [10] 3089 	ld	hl,#_enemigos
   10ED 09            [11] 3090 	add	hl,bc
   10EE EB            [ 4] 3091 	ex	de,hl
   10EF 21 26 00      [10] 3092 	ld	hl,#0x0026
   10F2 19            [11] 3093 	add	hl,de
   10F3 DD 75 FE      [19] 3094 	ld	-2 (ix),l
   10F6 DD 74 FF      [19] 3095 	ld	-1 (ix),h
   10F9 D5            [11] 3096 	push	de
   10FA FD E1         [14] 3097 	pop	iy
   10FC FD 7E 42      [19] 3098 	ld	a,66 (iy)
   10FF DD 77 FD      [19] 3099 	ld	-3 (ix),a
   1102 3Ar00r00      [13] 3100 	ld	a,(#_mapaActual + 0)
   1105 DD 96 FD      [19] 3101 	sub	a, -3 (ix)
   1108 20 27         [12] 3102 	jr	NZ,00105$
                           3103 ;src/entities/entities.c:944: calculaEntity(&enemigos[i].ent, SI);
   110A DD 6E FE      [19] 3104 	ld	l,-2 (ix)
   110D DD 66 FF      [19] 3105 	ld	h,-1 (ix)
   1110 E5            [11] 3106 	push	hl
   1111 FD E1         [14] 3107 	pop	iy
   1113 C5            [11] 3108 	push	bc
   1114 D5            [11] 3109 	push	de
   1115 3E 01         [ 7] 3110 	ld	a,#0x01
   1117 F5            [11] 3111 	push	af
   1118 33            [ 6] 3112 	inc	sp
   1119 FD E5         [15] 3113 	push	iy
   111B CDr45r0F      [17] 3114 	call	_calculaEntity
   111E F1            [10] 3115 	pop	af
   111F 33            [ 6] 3116 	inc	sp
   1120 D1            [10] 3117 	pop	de
   1121 C1            [10] 3118 	pop	bc
                           3119 ;src/entities/entities.c:945: calculaEntity(&enemigos[i].bullet.ent, SI);
   1122 13            [ 6] 3120 	inc	de
   1123 13            [ 6] 3121 	inc	de
   1124 13            [ 6] 3122 	inc	de
   1125 C5            [11] 3123 	push	bc
   1126 3E 01         [ 7] 3124 	ld	a,#0x01
   1128 F5            [11] 3125 	push	af
   1129 33            [ 6] 3126 	inc	sp
   112A D5            [11] 3127 	push	de
   112B CDr45r0F      [17] 3128 	call	_calculaEntity
   112E F1            [10] 3129 	pop	af
   112F 33            [ 6] 3130 	inc	sp
   1130 C1            [10] 3131 	pop	bc
   1131                    3132 00105$:
                           3133 ;src/entities/entities.c:942: for(i=0;i < NUM_ENEMIGOS;++i){
   1131 21 4E 00      [10] 3134 	ld	hl,#0x004E
   1134 09            [11] 3135 	add	hl,bc
   1135 4D            [ 4] 3136 	ld	c,l
   1136 44            [ 4] 3137 	ld	b,h
   1137 DD 34 FC      [23] 3138 	inc	-4 (ix)
   113A DD 7E FC      [19] 3139 	ld	a,-4 (ix)
   113D D6 03         [ 7] 3140 	sub	a, #0x03
   113F 38 A9         [12] 3141 	jr	C,00104$
                           3142 ;src/entities/entities.c:949: calculaEntity(&bases[mapaActual].ent, SI);
   1141 ED 4Br00r00   [20] 3143 	ld	bc,(_mapaActual)
   1145 06 00         [ 7] 3144 	ld	b,#0x00
   1147 69            [ 4] 3145 	ld	l, c
   1148 60            [ 4] 3146 	ld	h, b
   1149 29            [11] 3147 	add	hl, hl
   114A 29            [11] 3148 	add	hl, hl
   114B 29            [11] 3149 	add	hl, hl
   114C 09            [11] 3150 	add	hl, bc
   114D 29            [11] 3151 	add	hl, hl
   114E 09            [11] 3152 	add	hl, bc
   114F 29            [11] 3153 	add	hl, hl
   1150 09            [11] 3154 	add	hl, bc
   1151 11rC6r01      [10] 3155 	ld	de,#_bases
   1154 19            [11] 3156 	add	hl,de
   1155 01 04 00      [10] 3157 	ld	bc,#0x0004
   1158 09            [11] 3158 	add	hl,bc
   1159 4D            [ 4] 3159 	ld	c, l
   115A 44            [ 4] 3160 	ld	b, h
   115B 3E 01         [ 7] 3161 	ld	a,#0x01
   115D F5            [11] 3162 	push	af
   115E 33            [ 6] 3163 	inc	sp
   115F C5            [11] 3164 	push	bc
   1160 CDr45r0F      [17] 3165 	call	_calculaEntity
   1163 DD F9         [10] 3166 	ld	sp,ix
   1165 DD E1         [14] 3167 	pop	ix
   1167 C9            [10] 3168 	ret
                           3169 ;src/entities/entities.c:953: void drawAll(TPlayer* player){
                           3170 ;	---------------------------------
                           3171 ; Function drawAll
                           3172 ; ---------------------------------
   1168                    3173 _drawAll::
   1168 DD E5         [15] 3174 	push	ix
   116A DD 21 00 00   [14] 3175 	ld	ix,#0
   116E DD 39         [15] 3176 	add	ix,sp
   1170 21 F9 FF      [10] 3177 	ld	hl,#-7
   1173 39            [11] 3178 	add	hl,sp
   1174 F9            [ 6] 3179 	ld	sp,hl
                           3180 ;src/entities/entities.c:957: exp = getExplosion();
   1175 CDr00r00      [17] 3181 	call	_getExplosion
   1178 33            [ 6] 3182 	inc	sp
   1179 33            [ 6] 3183 	inc	sp
   117A E5            [11] 3184 	push	hl
                           3185 ;src/entities/entities.c:958: bases = getBases();
   117B CDrAEr12      [17] 3186 	call	_getBases
   117E 4D            [ 4] 3187 	ld	c,l
   117F 44            [ 4] 3188 	ld	b,h
                           3189 ;src/entities/entities.c:965: if(bases[mapaActual].ent.sprites[0] != NULL){
   1180 ED 5Br00r00   [20] 3190 	ld	de,(_mapaActual)
   1184 16 00         [ 7] 3191 	ld	d,#0x00
   1186 6B            [ 4] 3192 	ld	l, e
   1187 62            [ 4] 3193 	ld	h, d
   1188 29            [11] 3194 	add	hl, hl
   1189 29            [11] 3195 	add	hl, hl
   118A 29            [11] 3196 	add	hl, hl
   118B 19            [11] 3197 	add	hl, de
   118C 29            [11] 3198 	add	hl, hl
   118D 19            [11] 3199 	add	hl, de
   118E 29            [11] 3200 	add	hl, hl
   118F 19            [11] 3201 	add	hl, de
   1190 09            [11] 3202 	add	hl,bc
   1191 4D            [ 4] 3203 	ld	c,l
   1192 44            [ 4] 3204 	ld	b,h
   1193 21 04 00      [10] 3205 	ld	hl,#0x0004
   1196 09            [11] 3206 	add	hl,bc
   1197 EB            [ 4] 3207 	ex	de,hl
   1198 C5            [11] 3208 	push	bc
   1199 FD E1         [14] 3209 	pop	iy
   119B FD 6E 0F      [19] 3210 	ld	l,15 (iy)
   119E FD 7E 10      [19] 3211 	ld	a, 16 (iy)
   11A1 B5            [ 4] 3212 	or	a,l
   11A2 28 1A         [12] 3213 	jr	Z,00102$
                           3214 ;src/entities/entities.c:966: redibujarEntity(&bases[mapaActual].ent, bases[mapaActual].ent.sw, bases[mapaActual].ent.sh);
   11A4 69            [ 4] 3215 	ld	l, c
   11A5 60            [ 4] 3216 	ld	h, b
   11A6 C5            [11] 3217 	push	bc
   11A7 01 18 00      [10] 3218 	ld	bc, #0x0018
   11AA 09            [11] 3219 	add	hl, bc
   11AB C1            [10] 3220 	pop	bc
   11AC 7E            [ 7] 3221 	ld	a,(hl)
   11AD 69            [ 4] 3222 	ld	l, c
   11AE 60            [ 4] 3223 	ld	h, b
   11AF 01 17 00      [10] 3224 	ld	bc, #0x0017
   11B2 09            [11] 3225 	add	hl, bc
   11B3 46            [ 7] 3226 	ld	b,(hl)
   11B4 F5            [11] 3227 	push	af
   11B5 33            [ 6] 3228 	inc	sp
   11B6 C5            [11] 3229 	push	bc
   11B7 33            [ 6] 3230 	inc	sp
   11B8 D5            [11] 3231 	push	de
   11B9 CDr28r0E      [17] 3232 	call	_redibujarEntity
   11BC F1            [10] 3233 	pop	af
   11BD F1            [10] 3234 	pop	af
   11BE                    3235 00102$:
                           3236 ;src/entities/entities.c:969: redibujarEntity(&player->bullet.ent, player->bullet.ent.sw, player->bullet.ent.sh);
   11BE DD 5E 04      [19] 3237 	ld	e,4 (ix)
   11C1 DD 56 05      [19] 3238 	ld	d,5 (ix)
   11C4 D5            [11] 3239 	push	de
   11C5 FD E1         [14] 3240 	pop	iy
   11C7 FD 23         [10] 3241 	inc	iy
   11C9 FD 23         [10] 3242 	inc	iy
   11CB FD 23         [10] 3243 	inc	iy
   11CD 6B            [ 4] 3244 	ld	l, e
   11CE 62            [ 4] 3245 	ld	h, d
   11CF 01 17 00      [10] 3246 	ld	bc, #0x0017
   11D2 09            [11] 3247 	add	hl, bc
   11D3 7E            [ 7] 3248 	ld	a,(hl)
   11D4 6B            [ 4] 3249 	ld	l, e
   11D5 62            [ 4] 3250 	ld	h, d
   11D6 01 16 00      [10] 3251 	ld	bc, #0x0016
   11D9 09            [11] 3252 	add	hl, bc
   11DA 46            [ 7] 3253 	ld	b,(hl)
   11DB D5            [11] 3254 	push	de
   11DC F5            [11] 3255 	push	af
   11DD 33            [ 6] 3256 	inc	sp
   11DE C5            [11] 3257 	push	bc
   11DF 33            [ 6] 3258 	inc	sp
   11E0 FD E5         [15] 3259 	push	iy
   11E2 CDr28r0E      [17] 3260 	call	_redibujarEntity
   11E5 F1            [10] 3261 	pop	af
   11E6 F1            [10] 3262 	pop	af
   11E7 D1            [10] 3263 	pop	de
                           3264 ;src/entities/entities.c:970: redibujarEntity(&player->ent, player->ent.sw, player->ent.sh);
   11E8 21 26 00      [10] 3265 	ld	hl,#0x0026
   11EB 19            [11] 3266 	add	hl,de
   11EC 4D            [ 4] 3267 	ld	c,l
   11ED 44            [ 4] 3268 	ld	b,h
   11EE D5            [11] 3269 	push	de
   11EF FD E1         [14] 3270 	pop	iy
   11F1 FD 7E 3A      [19] 3271 	ld	a,58 (iy)
   11F4 EB            [ 4] 3272 	ex	de,hl
   11F5 11 39 00      [10] 3273 	ld	de, #0x0039
   11F8 19            [11] 3274 	add	hl, de
   11F9 56            [ 7] 3275 	ld	d,(hl)
   11FA F5            [11] 3276 	push	af
   11FB 33            [ 6] 3277 	inc	sp
   11FC D5            [11] 3278 	push	de
   11FD 33            [ 6] 3279 	inc	sp
   11FE C5            [11] 3280 	push	bc
   11FF CDr28r0E      [17] 3281 	call	_redibujarEntity
   1202 F1            [10] 3282 	pop	af
   1203 F1            [10] 3283 	pop	af
                           3284 ;src/entities/entities.c:971: redibujarEntity(&exp->ent,exp->ent.sw,exp->ent.sh);
   1204 C1            [10] 3285 	pop	bc
   1205 C5            [11] 3286 	push	bc
   1206 03            [ 6] 3287 	inc	bc
   1207 C5            [11] 3288 	push	bc
   1208 FD E1         [14] 3289 	pop	iy
   120A FD 5E 14      [19] 3290 	ld	e,20 (iy)
   120D C5            [11] 3291 	push	bc
   120E FD E1         [14] 3292 	pop	iy
   1210 FD 56 13      [19] 3293 	ld	d,19 (iy)
   1213 7B            [ 4] 3294 	ld	a,e
   1214 F5            [11] 3295 	push	af
   1215 33            [ 6] 3296 	inc	sp
   1216 D5            [11] 3297 	push	de
   1217 33            [ 6] 3298 	inc	sp
   1218 C5            [11] 3299 	push	bc
   1219 CDr28r0E      [17] 3300 	call	_redibujarEntity
   121C F1            [10] 3301 	pop	af
   121D F1            [10] 3302 	pop	af
                           3303 ;src/entities/entities.c:973: for(i = 0; i < NUM_ENEMIGOS; ++i){
   121E DD 36 FB 00   [19] 3304 	ld	-5 (ix),#0x00
   1222 DD 36 FE 00   [19] 3305 	ld	-2 (ix),#0x00
   1226 DD 36 FF 00   [19] 3306 	ld	-1 (ix),#0x00
   122A                    3307 00106$:
                           3308 ;src/entities/entities.c:974: if(enemigos[i].ent.cuadrante == mapaActual){
   122A 3ErDC         [ 7] 3309 	ld	a,#<(_enemigos)
   122C DD 86 FE      [19] 3310 	add	a, -2 (ix)
   122F 5F            [ 4] 3311 	ld	e,a
   1230 3Es00         [ 7] 3312 	ld	a,#>(_enemigos)
   1232 DD 8E FF      [19] 3313 	adc	a, -1 (ix)
   1235 57            [ 4] 3314 	ld	d,a
   1236 21 26 00      [10] 3315 	ld	hl,#0x0026
   1239 19            [11] 3316 	add	hl,de
   123A DD 75 FC      [19] 3317 	ld	-4 (ix),l
   123D DD 74 FD      [19] 3318 	ld	-3 (ix),h
   1240 6B            [ 4] 3319 	ld	l, e
   1241 62            [ 4] 3320 	ld	h, d
   1242 01 42 00      [10] 3321 	ld	bc, #0x0042
   1245 09            [11] 3322 	add	hl, bc
   1246 4E            [ 7] 3323 	ld	c,(hl)
   1247 3Ar00r00      [13] 3324 	ld	a,(#_mapaActual + 0)
   124A 91            [ 4] 3325 	sub	a, c
   124B 20 3E         [12] 3326 	jr	NZ,00107$
                           3327 ;src/entities/entities.c:975: redibujarEntity(&enemigos[i].ent, enemigos[i].ent.sw, enemigos[i].ent.sh);
   124D D5            [11] 3328 	push	de
   124E FD E1         [14] 3329 	pop	iy
   1250 FD 4E 3A      [19] 3330 	ld	c,58 (iy)
   1253 6B            [ 4] 3331 	ld	l, e
   1254 62            [ 4] 3332 	ld	h, d
   1255 C5            [11] 3333 	push	bc
   1256 01 39 00      [10] 3334 	ld	bc, #0x0039
   1259 09            [11] 3335 	add	hl, bc
   125A C1            [10] 3336 	pop	bc
   125B 66            [ 7] 3337 	ld	h,(hl)
   125C DD 6E FC      [19] 3338 	ld	l,-4 (ix)
   125F DD 46 FD      [19] 3339 	ld	b,-3 (ix)
   1262 D5            [11] 3340 	push	de
   1263 79            [ 4] 3341 	ld	a,c
   1264 F5            [11] 3342 	push	af
   1265 33            [ 6] 3343 	inc	sp
   1266 E5            [11] 3344 	push	hl
   1267 33            [ 6] 3345 	inc	sp
   1268 60            [ 4] 3346 	ld	h, b
   1269 E5            [11] 3347 	push	hl
   126A CDr28r0E      [17] 3348 	call	_redibujarEntity
   126D F1            [10] 3349 	pop	af
   126E F1            [10] 3350 	pop	af
   126F D1            [10] 3351 	pop	de
                           3352 ;src/entities/entities.c:976: redibujarEntity(&enemigos[i].bullet.ent, enemigos[i].bullet.ent.sw, enemigos[i].bullet.ent.sh);
   1270 4B            [ 4] 3353 	ld	c, e
   1271 42            [ 4] 3354 	ld	b, d
   1272 03            [ 6] 3355 	inc	bc
   1273 03            [ 6] 3356 	inc	bc
   1274 03            [ 6] 3357 	inc	bc
   1275 D5            [11] 3358 	push	de
   1276 FD E1         [14] 3359 	pop	iy
   1278 FD 7E 17      [19] 3360 	ld	a,23 (iy)
   127B EB            [ 4] 3361 	ex	de,hl
   127C 11 16 00      [10] 3362 	ld	de, #0x0016
   127F 19            [11] 3363 	add	hl, de
   1280 56            [ 7] 3364 	ld	d,(hl)
   1281 F5            [11] 3365 	push	af
   1282 33            [ 6] 3366 	inc	sp
   1283 D5            [11] 3367 	push	de
   1284 33            [ 6] 3368 	inc	sp
   1285 C5            [11] 3369 	push	bc
   1286 CDr28r0E      [17] 3370 	call	_redibujarEntity
   1289 F1            [10] 3371 	pop	af
   128A F1            [10] 3372 	pop	af
   128B                    3373 00107$:
                           3374 ;src/entities/entities.c:973: for(i = 0; i < NUM_ENEMIGOS; ++i){
   128B DD 7E FE      [19] 3375 	ld	a,-2 (ix)
   128E C6 4E         [ 7] 3376 	add	a, #0x4E
   1290 DD 77 FE      [19] 3377 	ld	-2 (ix),a
   1293 DD 7E FF      [19] 3378 	ld	a,-1 (ix)
   1296 CE 00         [ 7] 3379 	adc	a, #0x00
   1298 DD 77 FF      [19] 3380 	ld	-1 (ix),a
   129B DD 34 FB      [23] 3381 	inc	-5 (ix)
   129E DD 7E FB      [19] 3382 	ld	a,-5 (ix)
   12A1 D6 03         [ 7] 3383 	sub	a, #0x03
   12A3 38 85         [12] 3384 	jr	C,00106$
   12A5 DD F9         [10] 3385 	ld	sp, ix
   12A7 DD E1         [14] 3386 	pop	ix
   12A9 C9            [10] 3387 	ret
                           3388 ;src/entities/entities.c:983: TEnemy* getEnemies(){
                           3389 ;	---------------------------------
                           3390 ; Function getEnemies
                           3391 ; ---------------------------------
   12AA                    3392 _getEnemies::
                           3393 ;src/entities/entities.c:984: return enemigos;
   12AA 21rDCr00      [10] 3394 	ld	hl,#_enemigos
   12AD C9            [10] 3395 	ret
                           3396 ;src/entities/entities.c:987: TBase* getBases(){
                           3397 ;	---------------------------------
                           3398 ; Function getBases
                           3399 ; ---------------------------------
   12AE                    3400 _getBases::
                           3401 ;src/entities/entities.c:988: return bases;
   12AE 21rC6r01      [10] 3402 	ld	hl,#_bases
   12B1 C9            [10] 3403 	ret
                           3404 	.area _CODE
                           3405 	.area _INITIALIZER
   0000                    3406 __xinit__count1:
   0000 00                 3407 	.db #0x00	; 0
   0001                    3408 __xinit__turno:
   0001 00                 3409 	.db #0x00	; 0
   0002                    3410 __xinit__bulletsTurno:
   0002 00                 3411 	.db #0x00	; 0
                           3412 	.area _CABS (ABS)
